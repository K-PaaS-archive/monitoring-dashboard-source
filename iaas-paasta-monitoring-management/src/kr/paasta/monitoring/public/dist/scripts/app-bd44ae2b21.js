!function(){"use strict";angular.module("monitoring",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap","toastr","gridster","nvd3","ae-datetimepicker","LocalStorageModule"])}(),function(){"use strict";function a(a,e,t){var s={};return s.paastaOverview=function(){var t={headers:{Accept:"application/json"}};return a.get(e.paasPaastaOverview,t)},s.paastaOverviewList=function(t){var s={headers:{Accept:"application/json"}};return a.get(e.paasPaastaOverviewList.replace(":status",t),s)},s.paastaSummary=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.paasPaastaSummary,s)},s.paastaTopProcessMemory=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.paasPaastaTopProcessMemory.replace(":id",t.id),s)},s.paastaCpuUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasPaastaCpuUsageList.replace(":id",s.id),n)},s.paastaCpuLoadAverageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasPaastaCpuLoadAverageList.replace(":id",s.id),n)},s.paastaMemoryUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasPaastaMemoryUsageLis.replace(":id",s.id),n)},s.paastaDiskUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasPaastaDiskUsageList.replace(":id",s.id),n)},s.paastaDiskIOList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasPaastaDiskIOList.replace(":id",s.id),n)},s.paastaNetworkIoByteList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasPaastaNetworkIoByteList.replace(":id",s.id),n)},s.paastaNetworkIoPackteList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasPaastaNetworkIoPackteList.replace(":id",s.id),n)},s.paastaNetworkIoDropList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasPaastaNetworkIoDropList.replace(":id",s.id),n)},s.paastaNetworkIoErrorList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasPaastaNetworkIoErrorList.replace(":id",s.id),n)},s}a.$inject=["$http","apiUris","common"],angular.module("monitoring").factory("paasPaastaService",a)}(),function(){"use strict";function a(a,e,t,s,n,i,o,l){var r=this;r.scope=a,r.Math=Math,r.scope.loading=!0,r.common=o,r.scope.overviewOptions={margins:[0,15],columns:5,rowHeight:110,widget_base_dimensions:[140,140],mobileModeEnabled:!1,draggable:!1,resizable:{enabled:!1}},r.scope.paastaOverviewItems=[{id:"running",col:0,row:0,sizeY:1,sizeX:1,name:"Running",status:"running",color:"#00aacc"},{id:"failed",col:1,row:0,sizeY:1,sizeX:1,name:"Failed",status:"failed",color:"#e66b6b"},{id:"critical",col:2,row:0,sizeY:1,sizeX:1,name:"Critical",status:"critical",color:"#ad6de8"},{id:"warning",col:3,row:0,sizeY:1,sizeX:1,name:"Warning",status:"warning",color:"#f0a141"},{id:"total",col:4,row:0,sizeY:1,sizeX:1,name:"Total",status:"total",color:"#909090"}],(r.getPaastaOverview=function(){l.paastaOverview().then(function(a){r.scope.running=a.data.running,r.scope.fail=a.data.failed,r.scope.critical=a.data.critical,r.scope.warning=a.data.warning,r.scope.total=a.data.total,r.scope.loadingOverview=!1},function(a){r.scope.loadingOverview=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),r.scope.currentPage=1,r.scope.itemsPerPage=10,r.scope.selSearchCondition="name",r.scope.selSearchStatus="",(r.getPaastaSummary=function(a){r.stateParams=n.search(),0==r.scope.loading&&(r.scope.loading=!0),(void 0==a||null==a)&&(r.scope.currentPage=1),r.stateParams._c&&(r.scope.selSearchCondition=r.stateParams._c),r.stateParams._k&&(r.scope.searchKeyword=r.stateParams._k),r.stateParams._p&&(r.scope.currentPage=r.stateParams._p);var t={pageItems:r.scope.itemsPerPage,pageIndex:r.scope.currentPage};r.scope.searchKeyword&&("name"==r.scope.selSearchCondition?t.name=r.scope.searchKeyword:"ip"==r.scope.selSearchCondition&&(t.ip=r.scope.searchKeyword)),l.paastaSummary(t).then(function(a){r.paastaSummary=a.data.data,r.scope.totalItems=a.data.totalCount,r.scope.pageItems=a.data.pageItems,r.scope.totalPages=Math.ceil(a.data.totalCount/a.data.pageItem),r.paastaSummary?(r.scope.running=a.data.overview.running,r.scope.fail=a.data.overview.failed,r.scope.critical=a.data.overview.critical,r.scope.warning=a.data.overview.warning,r.scope.total=a.data.overview.total,r.getTopProcessMemoryList(r.paastaSummary[0])):(r.selectedPaasta=null,r.topProcessMemoryList=null),n.search({}),r.scope.loadingSummary=!1,r.scope.loading=!1},function(a){r.scope.loadingSummary=!1,r.scope.loading=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),r.scope.pageChanged=function(){r.getPaastaSummary(r.scope.currentPage)},r.goPaastaDetail=function(a){var e={selSearchCondition:r.scope.selSearchCondition,searchKeyword:r.scope.searchKeyword,name:a.name,page:r.scope.currentPage};n.path("/paas/paasta/"+a.id).search(e)};var c={};r.getTopProcessMemoryList=function(a){r.scope.loading=!0,c.select="",a.select="active",r.selectedPaasta=t.trustAsHtml('[ <span style="color:#77ae33;">'+a.name+"</span> ]");var s={id:a.id};l.paastaTopProcessMemory(s).then(function(a){r.topProcessMemoryList=a.data,r.scope.loadingTopProcess=!1,r.scope.loading=!1},function(a){r.scope.loadingTopProcess=!1,r.scope.loading=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}),c=a},r.getPaastaOverviewList=function(a,t){return"running"==a.id||"total"==a.id?void t.stopPropagation():(r.paastaOverviewPopTitle=a.name,r.paastaOverviewListPop=!1,r.paastaOverviewNullPop=!1,r.scope.loadingStatusListPop=!0,void l.paastaOverviewList(a.status).then(function(a){r.paastaOverviewListPop=a.data.data,null==a.data.data&&(r.paastaOverviewNullPop="No Data Available."),r.scope.loadingOverviewListPop=!1},function(a){r.scope.loadingOverviewListPop=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}))},r.goPaastaDetailView=function(a){angular.element("#paastaOverviewList").modal("hide");var e=s(function(){null!=a&&"fail"!=a.status&&0==angular.element("#paastaOverviewList").hasClass("in")&&(s.cancel(e),n.path("/paas/paasta/"+a.id).search("name",a.name))},300)},r.scope.textStatusStyle=function(a){var e={};return"fail"==a?e={color:"#de4d58"}:"warning"==a?e={color:"#fbae42"}:"critical"==a&&(e={color:"#a76dd8"}),e},r.scope.errStateStyle=function(a){var e={};return e="fail"==a?{color:"#de4d58"}:"warning"==a?{color:"#fbae42"}:"critical"==a?{color:"#a76dd8"}:{color:"#8a8c99"}},r.scope.$on("broadcast:reload",function(){r.scope.selSearchCondition="name",r.scope.searchKeyword="",r.scope.loadingOverview=!0,r.scope.loadingOverviewListPop=!0,r.scope.loadingSummary=!0,r.scope.loadingTopProcess=!0,r.scope.loading=!0,r.getPaastaOverview(),r.getPaastaSummary()})}function e(a,e,t,s,n,i,o,l,r,c,d,m,p,u){var g=this;g.scope=a,g.Math=Math,g.scope.loading=!0,g.stateParams=i.search(),g.scope.name=g.stateParams.name,g.scope.selTab=function(a){g.scope.selectedTab=a,"chart"==a||"logs"==a&&null==g.scope.recentLogs&&g.scope.defaultRecentLog()},g.scope.gridsterOpts={margins:[20,20],columns:3,rowHeight:250,mobileModeEnabled:!1,swapping:!0,draggable:{handle:"h4",stop:function(a,t,s){n(function(){e.log(a+","+t+","+s)},400)}},resizable:{enabled:!0,handles:["n","e","s","w","ne","se","sw","nw"],minWidth:200,layoutChanged:function(){},start:function(a,t,s){n(function(){e.log(a+","+t+","+s)},400)},resize:function(a,e,t){t.chart.api&&t.chart.api.update()},stop:function(a,e,t){n(function(){t.chart.api&&t.chart.api.update()},400)}}},g.scope.dashboard={widgets:[]},g.scope.events={resize:function(a,e){n(function(){e.api&&e.api.update&&e.api.update()},200)}},g.scope.config={visible:!1},n(function(){g.scope.config.visible=!0},200),angular.element(window).on("resize",function(){g.scope.$broadcast("resize")});var v=d,h=t.id,f={id:h,groupBy:p.getGroupBy()};"custom"==p.getDefaultTimeRange()?(f.timeRangeFrom=m.timeDifference((new Date).getTime(),p.getTimeRangeFrom()),f.timeRangeTo=m.timeDifference((new Date).getTime(),p.getTimeRangeTo())):f.defaultTimeRange=p.getDefaultTimeRange();var b=0;for(var y in v){var w=v[y];w.func&&(!function(a,t){r[a.func](f).then(function(e){g.scope.setWidget(t,a,e.data)},function(s){g.scope.setWidget(t,a),e.error(s),n(function(){l(s.data.message,{code:s.data.HttpStatus,message:s.data.message})},500)})}(w,b),b++)}var x=s(function(){b==g.scope.dashboard.widgets.length&&(s.cancel(x),g.scope.dashboard.widgets.sort(m.CompareForSort),g.scope.loading=!1)},500);g.scope.setWidget=function(a,e,t){var s=void 0==e.col?Math.floor(a%3):e.col,n=void 0==e.row?Math.floor(a/3):e.row,i=void 0==e.sizeX?1:e.sizeX,o=void 0==e.sizeY?1:e.sizeY,l={col:s,row:n,sizeX:i,sizeY:o,name:e.name,id:e.id,type:e.type,chart:{options:u[e.type].options(),api:{}},func:e.func};if(e.percent&&t&&(l.chart.options.chart.forceY=[0,100],l.chart.options.chart.yAxis.tickFormat=function(a){return d3.format(".0%")(a/100)},l.percent=e.percent),e.axisLabel&&(l.chart.options.chart.yAxis.axisLabel=e.axisLabel,l.chart.options.chart.yAxis.axisLabelDistance=-5,l.chart.options.chart.margin.left=55,l.axisLabel=e.axisLabel),t){var r,c=[],d=0;for(var m in t){r=null==t[m].metric?[{time:0,usage:0}]:t[m].metric,c.push({values:r,key:t[m].name});for(var v in r)null!=r[v]&&d<r[v].usage&&(d=r[v].usage)}l.chart.data=c,"list"!=e.type&&(5>d&&void 0==l.chart.options.chart.forceY&&(l.chart.options.chart.forceY=[0,5]),d>1e4&&(l.chart.options.chart.yAxis.axisLabelDistance=20,l.chart.options.chart.margin.left=80))}else l.chart.options.chart.forceY=!1;"7d"==p.getDefaultTimeRange()||"30d"==p.getDefaultTimeRange()?l.chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))}:"custom"!=p.getDefaultTimeRange()||"1h36m"!=p.getGroupBy()&&"11h12m"!=p.getGroupBy()&&"48h"!=p.getGroupBy()?l.chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%H:%M:%S")(new Date(1e3*a))}:l.chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))},g.scope.dashboard.widgets.push(l)};var S=!1;g.scope.saveTimeRange=function(){var a={id:h,groupBy:p.getGroupBy()};"custom"==g.scope.selTimeRange?(a.timeRangeFrom=m.timeDifference((new Date).getTime(),g.scope.timeRangeFrom),a.timeRangeTo=m.timeDifference((new Date).getTime(),g.scope.timeRangeTo),S=!0):(a.defaultTimeRange=g.scope.selTimeRange,a.defaultTimeRange=g.scope.selTimeRange,a.groupBy=g.scope.selGroupBy,S=!1),p.putGroupBy(g.scope.selGroupBy),angular.forEach(g.scope.dashboard.widgets,function(e,t){!function(e,t){r[e.func](a).then(function(a){if(a){"7d"==p.getDefaultTimeRange()||"30d"==p.getDefaultTimeRange()?g.scope.dashboard.widgets[t].chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))}:"custom"!=p.getDefaultTimeRange()||"1h36m"!=p.getGroupBy()&&"11h12m"!=p.getGroupBy()&&"48h"!=p.getGroupBy()?g.scope.dashboard.widgets[t].chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%H:%M:%S")(new Date(1e3*a))}:g.scope.dashboard.widgets[t].chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))};var e,s=a.data,n=[];for(var i in s)e=null==s[i].metric?[{time:0,usage:0}]:s[i].metric,n.push({values:e,key:s[i].name});g.scope.dashboard.widgets[t].chart.data=n,g.scope.dashboard.widgets[t].chart.api.refresh(),g.scope.dashboard.widgets[t].loading=!1}},function(a,e){n(function(){l(a.Message,{code:e,message:a.Message})},500)})}(e,t)})},g.scope.selectGroupBy=function(){g.scope.selGroupBy=m.getGroupingByTimeRange(g.scope.selTimeRange,g.scope.timeRangeFrom,g.scope.timeRangeTo)},angular.element("#timeRange").on("hidden.bs.modal",function(){1!=S&&(g.scope.selTimeRange=p.getDefaultTimeRange(),g.scope.selGroupBy=p.getGroupBy())}),g.scope.targetDateOptions={format:"YYYY.MM.DD"},g.scope.timeOptions={format:"LT"},g.scope.totalItems=0,g.scope.currentPage=1,g.scope.maxSize=10,g.scope.pageItems=50,g.scope.defaultRecentLog=function(a,e){g.scope.loading=!0;var t={id:h,pageItems:g.scope.pageItems,pageIndex:g.scope.currentPage,logType:"cf",period:"5m"};if(a&&(t.keyword=a),e)for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);c.dtvDefaultRecentLog(t).then(function(a){g.scope.recentLogs=a.data.messages,g.scope.optLogstashIndex=a.data.logstashIndex,g.scope.startTime=a.data.startTime,g.scope.endTime=a.data.endTime,g.scope.targetDate=m.getDate(a.data.targetDate),g.scope.totalItems=a.data.totalCount,g.scope.loading=!1},function(a){g.scope.loading=!1,n(function(){l(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},g.scope.specificTimeRangeLog=function(a,e){var t={id:h,pageItems:g.scope.pageItems,pageIndex:g.scope.currentPage,logType:"cf",period:"5m"};if(a&&(t.keyword=a),e)for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);c.dtvSpecificTimeRangeLog(t).then(function(a){g.scope.recentLogs=a.data.messages,g.scope.optLogstashIndex=a.data.logstashIndex,g.scope.startTime=a.data.startTime,g.scope.endTime=a.data.endTime,g.scope.totalItems=a.data.totalCount,g.scope.loading=!1},function(a){g.scope.loading=!1,n(function(){l(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})};var T="default",C="";g.scope.logSearch=function(){if(g.scope.loading=!0,g.scope.currentPage=1,C=g.scope.message,g.scope.targetDate){T="specific",void 0==g.scope.startTime?g.scope.optStartTime="":g.scope.optStartTime=m.getTime(g.scope.startTime),void 0==g.scope.endTime?g.scope.optEndTime="":g.scope.optEndTime=m.getTime(g.scope.endTime);var a={targetDate:m.getDate(g.scope.targetDate),startTime:g.scope.optStartTime,endTime:g.scope.optEndTime};g.scope.specificTimeRangeLog(C,a)}else T="default",g.scope.defaultRecentLog(C)},g.scope.pageChanged=function(){g.scope.loading=!0;var a={logstashIndex:g.scope.optLogstashIndex,startTime:g.scope.optStartTime,endTime:g.scope.optEndTime};"specific"==T?(a.targetDate=m.getDate(g.scope.targetDate),g.scope.specificTimeRangeLog(C,a)):g.scope.defaultRecentLog(C,a),o.scrollTo(0,0)},g.scope.searchReset=function(){g.scope.targetDate="",g.scope.startTime="",g.scope.endTime=""},g.scope.goMovePage=function(){var a={_c:g.stateParams.selSearchCondition,_k:g.stateParams.searchKeyword,_p:g.stateParams.page};i.path("/paas/paasta").search(a)},g.scope.$on("broadcast:reload",function(){"logs"==g.scope.selectedTab?g.scope.logSearch():(angular.forEach(g.scope.dashboard.widgets,function(a){a.loading=!0}),g.scope.saveTimeRange())}),g.scope.$on("broadcast:saveTimeRange",function(a,e){g.scope.selTimeRange=e.selTimeRange,g.scope.selGroupBy=e.selGroupBy,g.scope.selRefreshTime=e.selRefreshTime,g.scope.timeRangeFrom=e.timeRangeFrom,g.scope.timeRangeTo=e.timeRangeTo,g.scope.saveTimeRange()})}a.$inject=["$scope","$timeout","$sce","$interval","$location","$exceptionHandler","common","paasPaastaService"],e.$inject=["$scope","$log","$stateParams","$interval","$timeout","$location","$window","$exceptionHandler","paasPaastaService","paasLogService","paastaChartConfig","common","cookies","nvd3Generator"],angular.module("monitoring").controller("PaasPaastaController",a),angular.module("monitoring").controller("PaasPaastaDetailController",e)}(),function(){"use strict";function a(a,e){var t={};return t.alarmRealtimeList=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.paasAlarmRealtimeList,s)},t}a.$inject=["$http","apiUris"],angular.module("monitoring").factory("paaSMainService",a)}(),function(){"use strict";function a(a){var e=[];return{restrict:"E",scope:{width:"=",height:"=",radius:"=",data:"=",collapseDepth:"=",expandFn:"&",collapseFn:"&"},link:function(t,s){function n(){var a=w.translate();d3.select(s[0]).select("g").attr("transform","translate("+a[0]+","+a[1]+")")}function i(a){a.children.forEach(function(a){x>1&&(x--,i(a)),a.children&&a.children.forEach(S)})}function o(s){s&&(h=d3.layout.tree().size([s.height,s.width])),a(function(){for(var a in e){var n=void 0!=s&&void 0!=s.width?s.width:e[a].parent().width(),i=d3.select(e[a][0]).select("svg");n>=0&&(i.attr("width",n),t.width=n)}},500)}function l(a,e){var t=h.nodes(d).reverse(),s=h.links(t),n=void 0==e?130:e;t.forEach(function(a){a.y=a.depth*n});var i=y.selectAll("g.node").data(t,function(a){return a.id||(a.id=++g)}),o=i.enter().append("g").attr("class","node").attr("transform",function(){return"translate("+a.y0+","+a.x0+")"}).on("click",c);o.append("circle").attr("r",1e-6).style("fill",function(a){return a._children?"#00aacc":"#fff"}),o.append("text").attr("x",function(a){return a.children?-10:10}).attr("dy",".35em").attr("text-anchor",function(a){return a.children?"end":"start"}).text(function(a){return a.name}).style("fill",function(a){var e="#293133";return"warning"==a.status?e="#f0a141":"critical"==a.status?e="#ad6de8":"fail"==a.status&&(e="#e66b6b"),e}).style("fill-opacity",1e-6);var l=i.transition().duration(v).attr("transform",function(a){return"translate("+a.y+","+a.x+")"});l.select("circle").attr("r",5).style("fill",function(a){var e=a._children?"#00aacc":"#fff";return"warning"==a.status?e="#f0a141":"critical"==a.status?e="#ad6de8":"fail"==a.status&&(e="#e66b6b"),e}).style("stroke",function(a){var e="#00aacc";return"warning"==a.status?e="#f0a141":"critical"==a.status?e="#ad6de8":"fail"==a.status&&(e="#e66b6b"),e}),l.select("text").attr("x",function(a){return a.children?-10:10}).attr("text-anchor",function(a){return a.children?"end":"start"}).style("fill-opacity",.8);var r=i.exit().transition().duration(v).attr("transform",function(){return"translate("+a.y+","+a.x+")"}).remove();r.select("circle").attr("r",1e-6),r.select("text").style("fill-opacity",1e-6);var m=y.selectAll("path.link").data(s,function(a){return a.target.id});m.enter().insert("path","g").attr("class","link").attr("d",function(){var e={x:a.x0,y:a.y0};return f({source:e,target:e})}),m.transition().duration(v).attr("d",f),m.exit().transition().duration(v).attr("d",function(){var e={x:a.x,y:a.y};return f({source:e,target:e})}).remove(),t.forEach(function(a){a.x0=a.x,a.y0=a.y})}function r(a){var e=a.children?a.children:a._children;a._children&&(a.children=a._children,a._children=null),e&&e.forEach(r)}function c(a){a.children?(a._children=a.children,a.children=null):(a.children=a._children,a._children=null),l(a)}e.push(s);var d,m={top:5,right:10,bottom:5,left:40},p=t.width,u=t.height,g=0,v=750,h=d3.layout.tree().size([u,p]),f=d3.svg.diagonal().projection(function(a){return[a.y,a.x]}),b=d3.select(s[0]).append("svg"),y=b.attr("width",p+m.right+m.left).attr("height",u+m.top+m.bottom).append("g").attr("transform","translate("+m.left+","+m.top+")"),w=d3.behavior.zoom();w.on("zoom",n),d3.select(s[0]).select("svg").call(w);var x=0;t.$watch("data",function(){t.data&&(d=angular.copy(t.data),d.x0=u/2,d.y0=0,x=t.collapseDepth,t.collapseDepth?i(d):d.children.forEach(S),l(d))},!0),d3.select(window).on("resize",o),t.expandNodes=function(a){t.data&&(o(a),r(d),l(d,a.depth))},t.collapseNodes=function(a){t.data&&(a.width+=m.right+m.left,o(a),x=a.collapseDepth,a.collapseDepth?i(d):d.children.forEach(S),l(d,a.depth))},t.expandFn({theExpandFn:t.expandNodes}),t.collapseFn({theCollapseFn:t.collapseNodes});var S=function(a){a.children&&(a._children=a.children,a._children.forEach(S),a.children=null)}}}}a.$inject=["$timeout"],angular.module("monitoring").directive("collapsibleTree",a)}(),function(){"use strict";function a(a,e,t,s,n,i,o,l,r,c,d,m){var p=this;p.scope=a,p.common=i,p.Math=Math,p.scope.loading=!0,p.scope.bosh={chart:{options:o.donutChart.options(),api:{}}},p.scope.bosh.chart.options.title={enable:!0,text:"Bosh"},p.scope.bosh.chart.options.chart.height=150,p.scope.bosh.chart.options.chart.showLabels=!1,p.scope.bosh.chart.options.chart.color=["#00aacc","#e66b6b","#f0a141","#ad6de8"],p.scope.bosh.chart.options.chart.pie={dispatch:{elementClick:function(){a.$apply(function(){s.path("/paas/bosh")})}}},p.scope.paasta={chart:{options:o.donutChart.options(),api:{}}},p.scope.paasta.chart.options.title={enable:!0,text:"PaaS-TA"},p.scope.paasta.chart.options.chart.height=150,p.scope.paasta.chart.options.chart.showLabels=!1,p.scope.paasta.chart.options.chart.color=["#00aacc","#e66b6b","#f0a141","#ad6de8"],p.scope.paasta.chart.options.chart.pie={dispatch:{elementClick:function(){a.$apply(function(){s.path("/paas/paasta")})}}},p.scope.container={chart:{options:o.donutChart.options(),api:{}}},p.scope.container.chart.options.title={enable:!0,text:"Container"},p.scope.container.chart.options.chart.height=150,p.scope.container.chart.options.chart.showLabels=!1,p.scope.container.chart.options.chart.color=["#00aacc","#e66b6b","#f0a141","#ad6de8"],p.scope.container.chart.options.chart.pie={dispatch:{elementClick:function(){a.$apply(function(){s.path("/paas/container")})}}},p.scope.events={resize:function(a,t){e(function(){t.api&&t.api.update&&t.api.update()},200)}};var u=0;(p.getSummaryList=function(){c.boshOverview().then(function(a){u++,p.scope.bosh.chart.data=[],a.data.total>0&&(p.scope.bosh.chart.data.push({key:"Running",value:a.data.running}),p.scope.bosh.chart.data.push({key:"Fail",value:a.data.failed}),p.scope.bosh.chart.data.push({key:"Warning",value:a.data.warning}),p.scope.bosh.chart.data.push({key:"Critical",value:a.data.critical}),p.scope.bosh.chart.options.chart.title=a.data.total),p.scope.loadingSummaryBosh=!1},function(a){p.scope.loadingSummaryBosh=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}),d.paastaOverview().then(function(a){u++,p.scope.paasta.chart.data=[],a.data.total>0&&(p.scope.paasta.chart.data.push({key:"Running",value:a.data.running}),p.scope.paasta.chart.data.push({key:"Fail",value:a.data.failed}),p.scope.paasta.chart.data.push({key:"Warning",value:a.data.warning}),p.scope.paasta.chart.data.push({key:"Critical",value:a.data.critical}),p.scope.paasta.chart.options.chart.title=a.data.total),p.scope.loadingSummaryPaasta=!1},function(a){p.scope.loadingSummaryPaasta=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}),m.containerOverview().then(function(a){u++,p.scope.container.chart.data=[],a.data.total>0&&(p.scope.container.chart.data.push({key:"Running",value:a.data.running}),p.scope.container.chart.data.push({key:"Fail",value:a.data.failed}),p.scope.container.chart.data.push({key:"Warning",value:a.data.warning}),p.scope.container.chart.data.push({key:"Critical",value:a.data.critical}),p.scope.container.chart.options.chart.title=a.data.total),p.scope.loadingSummaryContainer=!1},function(a){p.scope.loadingSummaryContainer=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})();var g=t(function(){(3==u||0==p.scope.loading)&&(t.cancel(g),p.scope.loading=!1)},500,60);p.scope.itemsPerPage=100,p.scope.currentPage=1,(p.getPaastaSummary=function(){0==p.scope.loading&&(p.scope.loading=!0);var a={pageItems:p.scope.itemsPerPage,pageIndex:p.scope.currentPage};d.paastaSummary(a).then(function(a){p.paastaSummary=a.data.data,p.scope.loading=!1},function(a){p.scope.loadingSummary=!1,p.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),p.scope.zoneTree={},p.scope.zoneTreeData=[],p.scope.doing_async=!0,(p.getZoneContainerRelationInfo=function(){var a={};m.zoneContainerRelationship(a).then(function(a){p.relationshipList=a.data,p.scope.loadingRelationship=!1},function(a){p.scope.loadingRelationship=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),p.getTileColor=function(a){var e="";switch(a){case"fail":e="tile-fail";break;case"warning":e="tile-warning";break;case"critical":e="tile-critical";break;default:e="tile"}return e},p.goContainerDetail=function(a){"fail"!=a.status&&s.path("/paas/container/"+a.containerId).search({name:a.appName,appIndex:a.appIndex})},(p.getAlarmRealtimeList=function(){var a="?pageItems=5&pageIndex=1";r.alarmRealtimeList(a).then(function(a){p.alarmViewList=a.data.data,p.scope.loadingAlramRealtime=!1},function(a){p.scope.loadingAlramRealtime=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),p.scope.$on("broadcast:reload",function(){p.scope.selSearchCondition="name",p.scope.searchKeyword="",p.scope.loadingSummaryContainer=!0,p.scope.loadingRelationship=!0,p.scope.loadingTree=!0,p.scope.loadingAlramRealtime=!0,p.scope.loading=!0,p.getSummaryList(),p.getZoneContainerRelationInfo(),p.getPaastaSummary(),p.getAlarmRealtimeList()})}a.$inject=["$scope","$timeout","$interval","$location","$exceptionHandler","common","nvd3Generator","cookies","paaSMainService","paasBoshService","paasPaastaService","paasContainerService"],angular.module("monitoring").controller("PaaSMainController",a)}(),function(){"use strict";function a(a,e){var t={};return t.cellOverview=function(){var t={headers:{Accept:"application/json"}};return a.get(e.paasCellOverview,t)},t.containerOverview=function(){var t={headers:{Accept:"application/json"}};return a.get(e.paasContainerOverview,t)},t.containerSummary=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.paasContainerSummary,s)},t.cellOverviewList=function(t){var s={headers:{Accept:"application/json"}};return a.get(e.paasCellOverviewList.replace(":status",t),s)},t.containerOverviewList=function(t){var s={headers:{Accept:"application/json"}};return a.get(e.paasContainerOverviewList.replace(":status",t),s)},t.containerRelationship=function(t){var s={headers:{Accept:"application/json"}};return a.get(e.paasContainerRelationship.replace(":name",t),s)},t.zoneContainerRelationship=function(){var t={headers:{Accept:"application/json"}};return a.get(e.paasZoneContainerRelationship,t)},t}function e(a,e,t){var s={};return s.containerCpuUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasContainerCpuUsageList.replace(":id",s.id),n)},s.containerCpuLoadList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasContainerCpuLoadList.replace(":id",s.id),n)},s.containerMemoryUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasContainerMemoryUsageList.replace(":id",s.id),n)},s.containerDiskUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasContainerDiskUsageList.replace(":id",s.id),n)},s.containerNetworkIoByteList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasContainerNetworkIoByteList.replace(":id",s.id),n)},s.containerNetworkIoDropList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasContainerNetworkIoDropList.replace(":id",s.id),n)},s.containerNetworkIoErrorList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasContainerNetworkIoErrorList.replace(":id",s.id),n)},s}a.$inject=["$http","apiUris"],e.$inject=["$http","apiUris","common"],angular.module("monitoring").factory("paasContainerService",a),angular.module("monitoring").factory("paasContainerDetailService",e)}(),function(){"use strict";function a(a,e,t,s,n,i,o,l){var r=this;r.scope=a,r.Math=Math,r.scope.loading=!0,r.common=o,r.scope.cellOverviewOptions={margins:[0,15],columns:5,rowHeight:110,widget_base_dimensions:[140,140],mobileModeEnabled:!1,draggable:!1,resizable:{enabled:!1}},r.scope.cellOverviewItems=[{id:"running",col:0,row:0,sizeY:1,sizeX:1,name:"Running",count:"cellRunning",color:"#00aacc"},{id:"failed",col:1,row:0,sizeY:1,sizeX:1,name:"Failed",count:"cellFailed",color:"#e66b6b"},{id:"critical",col:2,row:0,sizeY:1,sizeX:1,name:"Critical",count:"cellCritical",color:"#ad6de8"},{id:"warning",col:3,row:0,sizeY:1,sizeX:1,name:"Warning",count:"cellWarning",color:"#f0a141"},{id:"total",col:4,row:0,sizeY:1,sizeX:1,name:"Total",count:"cellTotal",color:"#909090"}],r.scope.containerOverviewOptions={margins:[0,15],columns:4,rowHeight:110,widget_base_dimensions:[140,140],mobileModeEnabled:!1,draggable:!1,resizable:{enabled:!1}},r.scope.containerOverviewItems=[{id:"running",col:0,row:0,sizeY:1,sizeX:1,name:"Running",count:"containerRunning",color:"#00aacc"},{id:"critical",col:1,row:0,sizeY:1,sizeX:1,name:"Critical",count:"containerCritical",color:"#ad6de8"},{id:"warning",col:2,row:0,sizeY:1,sizeX:1,name:"Warning",count:"containerWarning",color:"#f0a141"},{id:"total",col:3,row:0,sizeY:1,sizeX:1,name:"Total",count:"containerTotal",color:"#909090"}],(r.getCellOverview=function(){l.cellOverview().then(function(a){r.scope.cellRunning=a.data.running,r.scope.cellFailed=a.data.failed,r.scope.cellCritical=a.data.critical,r.scope.cellWarning=a.data.warning,r.scope.cellTotal=a.data.total,r.scope.loadingCellOverview=!1},function(a){r.scope.loadingCellOverview=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),(r.getContainerOverview=function(){l.containerOverview().then(function(a){r.scope.containerRunning=a.data.running,r.scope.containerCritical=a.data.critical,r.scope.containerWarning=a.data.warning,r.scope.containerTotal=a.data.total,r.scope.loadingContainerOverview=!1},function(a){r.scope.loadingContainerOverview=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),r.scope.currentPage=1,r.scope.itemsPerPage=10,r.scope.selSearchCondition="name",(r.getContainerSummary=function(a,t){(void 0==a||null==a)&&(r.scope.currentPage=1,a={currentPage:r.scope.currentPage,itemsPerPage:r.scope.itemsPerPage});var s={pageItems:r.scope.itemsPerPage,pageIndex:a.currentPage};r.scope.searchKeyword&&"name"==t&&(s.zoneName=r.scope.searchKeyword),l.containerSummary(s).then(function(a){r.containerSummary=a.data.data,r.scope.totalItems=a.data.totalCount,r.scope.pageItems=a.data.pageItems,r.scope.totalPages=Math.ceil(a.data.totalCount/a.data.pageItems),r.containerSummary?(r.scope.containerRunning=a.data.overview.running,r.scope.containerCritical=a.data.overview.critical,r.scope.containerWarning=a.data.overview.warning,r.scope.containerTotal=a.data.overview.total,r.getCellContainerRelationInfo(r.containerSummary[0])):(r.selectedPaasta=null,r.topProcessMemoryList=null,r.scope.loading=!1),r.scope.loadingContainerSummary=!1},function(a){r.scope.loadingContainerSummary=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),r.scope.pageChanged=function(){var a={currentPage:r.scope.currentPage};r.getCellContainerRelationInfo(a)};var c={};r.scope.doing_async=!0,r.getCellContainerRelationInfo=function(a){c.select="",a.select="active",r.selectedContainer=t.trustAsHtml('[ <span style="color:#77ae33;">'+a.zoneName+"</span> ]"),l.containerRelationship(a.zoneName).then(function(a){r.cellSummary=a.data,r.relationshipList=a.data,r.scope.loadingRelationship=!1,r.scope.loading=!1},function(a){r.scope.loadingRelationship=!1,r.scope.loading=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}),c=a},r.getTileColor=function(a){var e="";switch(a){case"fail":e="tile-fail";break;case"warning":e="tile-warning";break;case"critical":e="tile-critical";break;default:e="tile"}return e},r.goContainerDetail=function(a){"fail"!=a.status&&s.path("/paas/container/"+a.containerId).search({name:a.appName,appIndex:a.appIndex})},r.getCellOverviewList=function(a,t){return"running"==a.id||"total"==a.id?void t.stopPropagation():(r.cellOverviewPopTitle=a.name,r.cellOverviewNullPop=!1,r.scope.loadingStatusListPop=!0,void l.cellOverviewList(a.id).then(function(a){r.cellOverviewListPop=a.data,null==a.data&&(r.cellOverviewNullPop="No Data Available."),r.scope.loadingOverviewListPop=!1},function(a){r.scope.loadingOverviewListPop=!1,e(function(){
i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}))},r.goCellDetailView=function(a){angular.element("#cellOverviewList").modal("hide");var e=n(function(){null!=a&&"fail"!=a.status&&0==angular.element("#cellOverviewList").hasClass("in")&&(n.cancel(e),s.path("/paas/paasta/"+a.cellId))},300)},r.getContainerOverviewList=function(a,t,s){return"running"==a||"total"==a?void s.stopPropagation():(r.containerOverviewPopTitle=t,r.containerOverviewListPop=!1,r.containerOverviewNullPop=!1,r.scope.loadingStatusListPop=!0,void l.containerOverviewList(a).then(function(a){r.containerOverviewListPop=a.data,null==a.data&&(r.containerOverviewNullPop="No Data Available."),r.scope.loadingOverviewListPop=!1},function(a){r.scope.loadingOverviewListPop=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}))},r.goContainerDetailView=function(a){angular.element("#containerOverviewList").modal("hide");var e=n(function(){null!=a&&"fail"!=a.status&&0==angular.element("#containerOverviewList").hasClass("in")&&(n.cancel(e),s.path("/paas/contatiner/"+a.containerId).search("addr",a.ip))},300)};var d={},m={},p={};r.scope.cpuUsageStyle=function(a){var e={};return d.critical<=a?e={color:"red"}:d.warning<=a&&a<d.critical&&(e={color:"orange"}),e},r.scope.memoryUsageStyle=function(a){var e={};return m.critical<=a?e={color:"red"}:m.warning<=a&&a<m.critical&&(e={color:"orange"}),e},r.scope.diskUsageStyle=function(a){var e={};return p.critical<=a?e={color:"red"}:p.warning<=a&&a<p.critical&&(e={color:"orange"}),e},r.scope.textStatusStyle=function(a){var e={};return"fail"==a?e={color:"#de4d58"}:"warning"==a?e={color:"#fbae42"}:"critical"==a&&(e={color:"#a76dd8"}),e},r.scope.errStateStyle=function(a){var e={};return e="fail"==a?{color:"#de4d58"}:"warning"==a?{color:"#fbae42"}:"critical"==a?{color:"#a76dd8"}:{color:"#8a8c99"}},r.scope.$on("broadcast:reload",function(){r.scope.selSearchCondition="name",r.scope.searchKeyword="",r.scope.loadingCellOverview=!0,r.scope.loadingContainerOverview=!0,r.scope.loadingContainerSummary=!0,r.scope.loadingCellSummary=!0,r.scope.loadingRelationship=!0,r.scope.loading=!0,r.getCellOverview(),r.getContainerOverview(),r.getContainerSummary(null,"")})}function e(a,e,t,s,n,i,o,l,r,c,d,m){var p=this;p.scope=a,p.Math=Math,p.scope.loading=!0,p.scope.name=i.search().name,p.scope.appIndex=i.search().appIndex,p.scope.selTab=function(a){p.scope.selectedTab=a,"chart"==a||"logs"==a&&null==p.scope.recentLogs&&p.scope.defaultRecentLog()},p.scope.gridsterOpts={margins:[20,20],columns:3,rowHeight:250,mobileModeEnabled:!1,swapping:!0,draggable:{handle:"h4",stop:function(a,t,s){n(function(){e.log(a+","+t+","+s)},400)}},resizable:{enabled:!0,handles:["n","e","s","w","ne","se","sw","nw"],minWidth:200,layoutChanged:function(){},start:function(a,t,s){n(function(){e.log(a+","+t+","+s)},400)},resize:function(a,e,t){t.chart.api&&t.chart.api.update()},stop:function(a,e,t){n(function(){t.chart.api&&t.chart.api.update()},400)}}},p.scope.dashboard={widgets:[]},p.scope.events={resize:function(a,e){n(function(){e.api&&e.api.update&&e.api.update()},200)}},p.scope.config={visible:!1},n(function(){p.scope.config.visible=!0},200),angular.element(window).on("resize",function(){p.scope.$broadcast("resize")});var u=r,g=t.id,v={id:g,groupBy:d.getGroupBy()};"custom"==d.getDefaultTimeRange()?(v.timeRangeFrom=c.timeDifference((new Date).getTime(),d.getTimeRangeFrom()),v.timeRangeTo=c.timeDifference((new Date).getTime(),d.getTimeRangeTo())):v.defaultTimeRange=d.getDefaultTimeRange();var h=0;for(var f in u){var b=u[f];b.func&&(!function(a,t){l[a.func](v).then(function(e){p.scope.setWidget(t,a,e.data)},function(s){p.scope.setWidget(t,a),e.error(s),n(function(){o(s.data.message,{code:s.data.HttpStatus,message:s.data.message})},500)})}(b,h),h++)}var y=s(function(){h==p.scope.dashboard.widgets.length&&(s.cancel(y),p.scope.dashboard.widgets.sort(c.CompareForSort),p.scope.loading=!1)},500);p.scope.setWidget=function(a,e,t){var s=void 0==e.col?Math.floor(a%3):e.col,n=void 0==e.row?Math.floor(a/3):e.row,i=void 0==e.sizeX?1:e.sizeX,o=void 0==e.sizeY?1:e.sizeY,l={col:s,row:n,sizeX:i,sizeY:o,name:e.name,id:e.id,type:e.type,chart:{options:m[e.type].options(),api:{}},func:e.func};if(e.percent&&t&&(l.chart.options.chart.forceY=[0,100],l.chart.options.chart.yAxis.tickFormat=function(a){return d3.format(".0%")(a/100)},l.percent=e.percent),e.axisLabel&&(l.chart.options.chart.yAxis.axisLabel=e.axisLabel,l.chart.options.chart.yAxis.axisLabelDistance=-5,l.chart.options.chart.margin.left=55,l.axisLabel=e.axisLabel),t){var r,c=[],u=0;for(var g in t){r=null==t[g].metric?[{time:0,usage:0}]:t[g].metric,c.push({values:r,key:t[g].name});for(var v in r)null!=r[v]&&u<r[v].usage&&(u=r[v].usage)}l.chart.data=c,"list"!=e.type&&(5>u&&void 0==l.chart.options.chart.forceY&&(l.chart.options.chart.forceY=[0,5]),u>1e4&&(l.chart.options.chart.yAxis.axisLabelDistance=20,l.chart.options.chart.margin.left=80))}else l.chart.options.chart.forceY=!1;"7d"==d.getDefaultTimeRange()||"30d"==d.getDefaultTimeRange()?l.chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))}:"custom"!=d.getDefaultTimeRange()||"11h12m"!=d.getGroupBy()&&"48h"!=d.getGroupBy()?l.chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%H:%M:%S")(new Date(1e3*a))}:l.chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))},p.scope.dashboard.widgets.push(l)};var w=!1;p.scope.saveTimeRange=function(){var a={id:g,groupBy:d.getGroupBy()};"custom"==p.scope.selTimeRange?(a.timeRangeFrom=c.timeDifference((new Date).getTime(),p.scope.timeRangeFrom),a.timeRangeTo=c.timeDifference((new Date).getTime(),p.scope.timeRangeTo),w=!0):(a.defaultTimeRange=p.scope.selTimeRange,a.defaultTimeRange=p.scope.selTimeRange,a.groupBy=p.scope.selGroupBy,w=!1),d.putGroupBy(p.scope.selGroupBy),angular.forEach(p.scope.dashboard.widgets,function(e,t){!function(e,t){l[e.func](a).then(function(a){if(a){"7d"==d.getDefaultTimeRange()||"30d"==d.getDefaultTimeRange()?p.scope.dashboard.widgets[t].chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))}:"custom"!=d.getDefaultTimeRange()||"11h12m"!=d.getGroupBy()&&"48h"!=d.getGroupBy()?p.scope.dashboard.widgets[t].chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%H:%M:%S")(new Date(1e3*a))}:p.scope.dashboard.widgets[t].chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))};var e,s=a.data,n=[];for(var i in s)e=null==s[i].metric?[{time:0,usage:0}]:s[i].metric,n.push({values:e,key:s[i].name});p.scope.dashboard.widgets[t].chart.data=n,p.scope.dashboard.widgets[t].chart.api.refresh(),p.scope.dashboard.widgets[t].loading=!1}},function(a,e){n(function(){o(a.Message,{code:e,message:a.Message})},500)})}(e,t)})},p.scope.selectGroupBy=function(){p.scope.selGroupBy=c.getGroupingByTimeRange(p.scope.selTimeRange,p.scope.timeRangeFrom,p.scope.timeRangeTo)},angular.element("#timeRange").on("hidden.bs.modal",function(){1!=w&&(p.scope.selTimeRange=d.getDefaultTimeRange(),p.scope.selGroupBy=d.getGroupBy())}),p.scope.goMovePage=function(){i.path("/paas/container")},p.scope.$on("broadcast:reload",function(){"logs"==p.scope.selectedTab?p.scope.logSearch():(angular.forEach(p.scope.dashboard.widgets,function(a){a.loading=!0}),p.scope.saveTimeRange())}),p.scope.$on("broadcast:saveTimeRange",function(a,e){p.scope.selTimeRange=e.selTimeRange,p.scope.selGroupBy=e.selGroupBy,p.scope.selRefreshTime=e.selRefreshTime,p.scope.timeRangeFrom=e.timeRangeFrom,p.scope.timeRangeTo=e.timeRangeTo,p.scope.saveTimeRange()})}a.$inject=["$scope","$timeout","$sce","$location","$interval","$exceptionHandler","common","paasContainerService"],e.$inject=["$scope","$log","$stateParams","$interval","$timeout","$location","$exceptionHandler","paasContainerDetailService","containerChartConfig","common","cookies","nvd3Generator"],angular.module("monitoring").controller("PaasContainerController",a),angular.module("monitoring").controller("PaasContainerDetailController",e)}(),function(){"use strict";function a(a,e,t){var s={};return s.boshOverview=function(){var t={headers:{Accept:"application/json"}};return a.get(e.paasBoshOverview,t)},s.boshSummary=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.paasBoshSummary,s)},s.boshTopProcessMemory=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.paasBoshTopProcessMemory.replace(":id",t.id),s)},s.boshCpuUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasBoshCpuUsageList.replace(":id",s.id),n)},s.boshCpuLoadAverageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasBoshCpuLoadAverageList.replace(":id",s.id),n)},s.boshMemoryUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasBoshMemoryUsageLis.replace(":id",s.id),n)},s.boshDiskUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasBoshDiskUsageList.replace(":id",s.id),n)},s.boshDiskIOList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasBoshDiskIOList.replace(":id",s.id),n)},s.boshNetworkIoByteList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasBoshNetworkIoByteList.replace(":id",s.id),n)},s.boshNetworkIoPackteList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasBoshNetworkIoPackteList.replace(":id",s.id),n)},s.boshNetworkIoDropList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasBoshNetworkIoDropList.replace(":id",s.id),n)},s.boshNetworkIoErrorList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.paasBoshNetworkIoErrorList.replace(":id",s.id),n)},s}a.$inject=["$http","apiUris","common"],angular.module("monitoring").factory("paasBoshService",a)}(),function(){"use strict";function a(a,e,t,s,n,i){var o=this;o.scope=a,o.Math=Math,o.scope.loading=!0,o.common=n,(o.getBoshSummary=function(a){0==o.scope.loading&&(o.scope.loading=!0),(void 0==a||null==a)&&(o.scope.currentPage=1,a={currentPage:o.scope.currentPage,itemsPerPage:o.scope.itemsPerPage});var t={pageItems:o.scope.itemsPerPage,pageIndex:a.currentPage};i.boshSummary(t).then(function(a){o.boshSummary=a.data.data,o.scope.totalItems=a.data.totalCount,o.scope.totalPages=Math.ceil(a.data.totalCount/a.data.pageItem),o.boshSummary?o.getTopProcessMemoryList(o.boshSummary[0]):(o.selectedBosh=null,o.topProcessMemoryList=null),o.scope.loadingSummary=!1},function(a){o.scope.loadingSummary=!1,e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})();var l={};o.getTopProcessMemoryList=function(a){o.scope.loading=!0,l.select="",a.select="active",o.selectedBosh=t.trustAsHtml('[ <span style="color:#77ae33;">'+a.name+"</span> ]");var n={id:a.id};i.boshTopProcessMemory(n).then(function(a){o.topProcessMemoryList=a.data.data,o.scope.loadingTopProcess=!1,o.scope.loading=!1},function(a){o.scope.loadingTopProcess=!1,o.scope.loading=!1,e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}),l=a},o.scope.errStateStyle=function(a){var e={};return e="fail"==a?{color:"#de4d58"}:"warning"==a?{color:"#fbae42"}:"critical"==a?{color:"#a76dd8"}:{color:"#8a8c99"}},o.scope.$on("broadcast:reload",function(){o.scope.loadingSummary=!0,o.scope.loadingTopProcess=!0,o.scope.loading=!0,o.getBoshSummary()})}function e(a,e,t,s,n,i,o,l,r,c,d,m,p,u){var g=this;g.scope=a,g.Math=Math,g.scope.loading=!0,g.scope.name=i.search().name,g.scope.selTab=function(a){g.scope.selectedTab=a,"chart"==a||"logs"==a&&null==g.scope.recentLogs&&g.scope.defaultRecentLog()},g.scope.gridsterOpts={margins:[20,20],columns:3,rowHeight:250,mobileModeEnabled:!1,swapping:!0,draggable:{handle:"h4",stop:function(a,t,s){n(function(){e.log(a+","+t+","+s)},400)}},resizable:{enabled:!0,handles:["n","e","s","w","ne","se","sw","nw"],minWidth:200,layoutChanged:function(){},start:function(a,t,s){n(function(){e.log(a+","+t+","+s)},400)},resize:function(a,e,t){t.chart.api&&t.chart.api.update()},stop:function(a,e,t){n(function(){t.chart.api&&t.chart.api.update()},400)}}},g.scope.dashboard={widgets:[]},g.scope.events={resize:function(a,e){n(function(){e.api&&e.api.update&&e.api.update()},200)}},g.scope.config={visible:!1},n(function(){g.scope.config.visible=!0},200),angular.element(window).on("resize",function(){g.scope.$broadcast("resize")});var v=d,h=t.id,f={id:h,groupBy:p.getGroupBy()};"custom"==p.getDefaultTimeRange()?(f.timeRangeFrom=m.timeDifference((new Date).getTime(),p.getTimeRangeFrom()),f.timeRangeTo=m.timeDifference((new Date).getTime(),p.getTimeRangeTo())):f.defaultTimeRange=p.getDefaultTimeRange();var b=0;for(var y in v){var w=v[y];w.func&&(!function(a,t){r[a.func](f).then(function(e){g.scope.setWidget(t,a,e.data)},function(s){g.scope.setWidget(t,a),e.error(s),n(function(){l(s.data.message,{code:s.data.HttpStatus,message:s.data.message})},500)})}(w,b),b++)}var x=s(function(){b==g.scope.dashboard.widgets.length&&(s.cancel(x),g.scope.dashboard.widgets.sort(m.CompareForSort),g.scope.loading=!1)},500);g.scope.setWidget=function(a,e,t){var s=void 0==e.col?Math.floor(a%3):e.col,n=void 0==e.row?Math.floor(a/3):e.row,i=void 0==e.sizeX?1:e.sizeX,o=void 0==e.sizeY?1:e.sizeY,l={col:s,row:n,sizeX:i,sizeY:o,name:e.name,id:e.id,type:e.type,chart:{options:u[e.type].options(),api:{}},func:e.func};if(e.percent&&t&&(l.chart.options.chart.forceY=[0,100],l.chart.options.chart.yAxis.tickFormat=function(a){return d3.format(".0%")(a/100)},l.percent=e.percent),e.axisLabel&&(l.chart.options.chart.yAxis.axisLabel=e.axisLabel,l.chart.options.chart.yAxis.axisLabelDistance=-5,l.chart.options.chart.margin.left=55,l.axisLabel=e.axisLabel),t){var r,c=[],d=0;for(var m in t){r=null==t[m].metric?[{time:0,usage:0}]:t[m].metric,c.push({values:r,key:t[m].name});for(var v in r)null!=r[v]&&d<r[v].usage&&(d=r[v].usage)}l.chart.data=c,"list"!=e.type&&(5>d&&void 0==l.chart.options.chart.forceY&&(l.chart.options.chart.forceY=[0,5]),d>1e4&&(l.chart.options.chart.yAxis.axisLabelDistance=20,l.chart.options.chart.margin.left=80))}else l.chart.options.chart.forceY=!1;"7d"==p.getDefaultTimeRange()||"30d"==p.getDefaultTimeRange()?l.chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))}:"custom"!=p.getDefaultTimeRange()||"1h36m"!=p.getGroupBy()&&"11h12m"!=p.getGroupBy()&&"48h"!=p.getGroupBy()?l.chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%H:%M:%S")(new Date(1e3*a))}:l.chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))},g.scope.dashboard.widgets.push(l)};var S=!1;g.scope.saveTimeRange=function(){var a={id:h,groupBy:p.getGroupBy()};"custom"==g.scope.selTimeRange?(a.timeRangeFrom=m.timeDifference((new Date).getTime(),g.scope.timeRangeFrom),a.timeRangeTo=m.timeDifference((new Date).getTime(),g.scope.timeRangeTo),S=!0):(a.defaultTimeRange=g.scope.selTimeRange,a.defaultTimeRange=g.scope.selTimeRange,a.groupBy=g.scope.selGroupBy,S=!1),p.putGroupBy(g.scope.selGroupBy),angular.forEach(g.scope.dashboard.widgets,function(e,t){!function(e,t){r[e.func](a).then(function(a){if(a){"7d"==p.getDefaultTimeRange()||"30d"==p.getDefaultTimeRange()?g.scope.dashboard.widgets[t].chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))}:"custom"!=p.getDefaultTimeRange()||"1h36m"!=p.getGroupBy()&&"11h12m"!=p.getGroupBy()&&"48h"!=p.getGroupBy()?g.scope.dashboard.widgets[t].chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%H:%M:%S")(new Date(1e3*a))}:g.scope.dashboard.widgets[t].chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))};var e,s=a.data,n=[];for(var i in s)e=null==s[i].metric?[{time:0,usage:0}]:s[i].metric,n.push({values:e,key:s[i].name});g.scope.dashboard.widgets[t].chart.data=n,g.scope.dashboard.widgets[t].chart.api.refresh(),g.scope.dashboard.widgets[t].loading=!1}},function(a,e){n(function(){l(a.Message,{code:e,message:a.Message})},500)})}(e,t)})},g.scope.selectGroupBy=function(){g.scope.selGroupBy=m.getGroupingByTimeRange(g.scope.selTimeRange,g.scope.timeRangeFrom,g.scope.timeRangeTo)},angular.element("#timeRange").on("hidden.bs.modal",function(){1!=S&&(g.scope.selTimeRange=p.getDefaultTimeRange(),g.scope.selGroupBy=p.getGroupBy())}),g.scope.targetDateOptions={format:"YYYY.MM.DD"},g.scope.timeOptions={format:"LT"},g.scope.totalItems=0,g.scope.currentPage=1,g.scope.maxSize=10,g.scope.pageItems=50,g.scope.defaultRecentLog=function(a,e){g.scope.loading=!0;var t={id:h,pageItems:g.scope.pageItems,pageIndex:g.scope.currentPage,logType:"bosh",period:"5m"};if(a&&(t.keyword=a),e)for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);c.dtvDefaultRecentLog(t).then(function(a){g.scope.recentLogs=a.data.messages,g.scope.optLogstashIndex=a.data.logstashIndex,g.scope.startTime=a.data.startTime,g.scope.endTime=a.data.endTime,g.scope.targetDate=m.getDate(a.data.targetDate),g.scope.totalItems=a.data.totalCount,g.scope.loading=!1},function(a){g.scope.loading=!1,n(function(){l(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},g.scope.specificTimeRangeLog=function(a,e){var t={id:h,pageItems:g.scope.pageItems,pageIndex:g.scope.currentPage,logType:"bosh",period:"5m"};if(a&&(t.keyword=a),e)for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);c.dtvSpecificTimeRangeLog(t).then(function(a){g.scope.recentLogs=a.data.messages,g.scope.optLogstashIndex=a.data.logstashIndex,g.scope.startTime=a.data.startTime,g.scope.endTime=a.data.endTime,g.scope.totalItems=a.data.totalCount,g.scope.loading=!1},function(a){g.scope.loading=!1,n(function(){l(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})};var T="default",C="";g.scope.logSearch=function(){if(g.scope.loading=!0,g.scope.currentPage=1,C=g.scope.message,g.scope.targetDate){T="specific",void 0==g.scope.startTime?g.scope.optStartTime="":g.scope.optStartTime=m.getTime(g.scope.startTime),void 0==g.scope.endTime?g.scope.optEndTime="":g.scope.optEndTime=m.getTime(g.scope.endTime);var a={targetDate:m.getDate(g.scope.targetDate),startTime:g.scope.optStartTime,endTime:g.scope.optEndTime};g.scope.specificTimeRangeLog(C,a)}else T="default",g.scope.defaultRecentLog(C)},g.scope.pageChanged=function(){g.scope.loading=!0;var a={logstashIndex:g.scope.optLogstashIndex,startTime:g.scope.optStartTime,endTime:g.scope.optEndTime};"specific"==T?(a.targetDate=m.getDate(g.scope.targetDate),g.scope.specificTimeRangeLog(C,a)):g.scope.defaultRecentLog(C,a),o.scrollTo(0,0)},g.scope.searchReset=function(){g.scope.targetDate="",g.scope.startTime="",g.scope.endTime=""},g.scope.goMovePage=function(){i.path("/paas/bosh")},g.scope.$on("broadcast:reload",function(){"logs"==g.scope.selectedTab?g.scope.logSearch():(angular.forEach(g.scope.dashboard.widgets,function(a){a.loading=!0}),g.scope.saveTimeRange())}),g.scope.$on("broadcast:saveTimeRange",function(a,e){g.scope.selTimeRange=e.selTimeRange,g.scope.selGroupBy=e.selGroupBy,g.scope.selRefreshTime=e.selRefreshTime,g.scope.timeRangeFrom=e.timeRangeFrom,g.scope.timeRangeTo=e.timeRangeTo,g.scope.saveTimeRange()})}a.$inject=["$scope","$timeout","$sce","$exceptionHandler","common","paasBoshService"],e.$inject=["$scope","$log","$stateParams","$interval","$timeout","$location","$window","$exceptionHandler","paasBoshService","paasLogService","boshChartConfig","common","cookies","nvd3Generator"],angular.module("monitoring").controller("PaasBoshController",a),angular.module("monitoring").controller("PaasBoshDetailController",e)}(),function(){"use strict";function a(a,e){var t="data:application/vnd.ms-excel;base64,",s='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body>{table}</body></html>',n=function(e){return a.btoa(unescape(encodeURIComponent(e)))},i=function(a,e){return a.replace(/{(\w+)}/g,function(a,t){return e[t]})};return{tableToExcel:function(a,o){var l=e[0].getElementById(a),r={worksheet:o,table:l.innerHTML},c=t+n(i(s,r));return c}}}a.$inject=["$window","$document"],angular.module("monitoring").factory("Excel",a)}(),function(){"use strict";function a(a,e){var t={};return t.alarmPolicyList=function(){var t={headers:{Accept:"application/json"}};return a.get(e.paasAlarmPolicyList,t)},t.alarmSnsChannelList=function(){var t={headers:{Accept:"application/json"}};return a.get(e.paasAlarmSnsChannelList,t)},t.channelRegist=function(t){var s={headers:{Accept:"application/json"}};return a.post(e.paasAlarmSnsChannelRegist,t,s)},t.channelDelete=function(t){var s={headers:{Accept:"application/json"}};return a["delete"](e.paasAlarmSnsChannelDelete.replace(":id",t),s)},t.updateAlarmSetup=function(t){var s={headers:{"Content-Type":"application/json",Accept:"application/json"}};return a.put(e.paasAlarmPolicy,t,s)},t}function e(a,e){var t={};return t.alarmStatusList=function(t){var s={headers:{Accept:"application/json"}};return a.get(e.paasAlarmStatusList+t,s)},t.alarmStatusCount=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.paasAlarmStatusCount,s)},t.alarmStatusDetail=function(t){var s={headers:{Accept:"application/json"}};return a.get(e.paasAlarmStatusId.replace(":id",t),s)},t.alarmStatusUpdate=function(t,s){var n={headers:{"Content-Type":"application/json",Accept:"application/json"}};return a.put(e.paasAlarmStatusId.replace(":id",t),s,n)},t.alarmActionCreate=function(t){var s={headers:{Accept:"application/json"}};return a.post(e.paasAlarmAction,t,s)},t.alarmActionUpdate=function(t,s){var n={headers:{"Content-Type":"application/json",Accept:"application/json"}};return a.patch(e.paasAlarmActionId.replace(":actionId",t),s,n)},t.alarmActionDelete=function(t){var s={headers:{Accept:"application/json"}};return a["delete"](e.paasAlarmActionId.replace(":actionId",t),s)},t}function t(a,e){var t={};return t.alarmStatistics=function(t){var s={headers:{Accept:"application/json"}};return a.get(e.paasAlarmStatisticList+t,s)},t.alarmStatisticTotal=function(t){var s={headers:{Accept:"application/json"}};return a.get(e.paasAlarmStatisticTotal+t,s)},t.alarmStatisticService=function(t){var s={headers:{Accept:"application/json"}};return a.get(e.paasAlarmStatisticService+t,s)},t.alarmStatisticMatrix=function(t){var s={headers:{Accept:"application/json"}};return a.get(e.paasAlarmStatisticMatrix+t,s)},t}a.$inject=["$http","apiUris"],e.$inject=["$http","apiUris"],t.$inject=["$http","apiUris"],angular.module("monitoring").factory("paasAlarmPolicyService",a),angular.module("monitoring").factory("paasAlarmStatusService",e),angular.module("monitoring").factory("paasAlarmStatisticsService",t)}(),function(){"use strict";function a(a,e,t,s,n,i){var o=this;o.scope=a,o.scope.loading=!0,(o.getAlarmPolicyList=function(){i.alarmPolicyList().then(function(a){var e={pas:{cpu:{threshold:{critical:0,warning:0},repeatTime:0},memory:{threshold:{critical:0,warning:0},repeatTime:0},disk:{threshold:{critical:0,warning:0},repeatTime:0},measureTime:0,email:{emailName:"",emailAddr:"",emailType:"",emailSendYn:!0}},bos:{cpu:{threshold:{critical:0,warning:0},repeatTime:0},memory:{threshold:{critical:0,warning:0},repeatTime:0},disk:{threshold:{critical:0,warning:0},repeatTime:0},email:{emailName:"",emailAddr:"",emailType:"",emailSendYn:!0}},con:{cpu:{threshold:{critical:0,warning:0},repeatTime:0},memory:{threshold:{critical:0,warning:0},repeatTime:0},disk:{threshold:{critical:0,warning:0},repeatTime:0},email:{emailName:"",emailAddr:"",emailType:"",emailSendYn:!0}}};for(var t in a.data){if(e[a.data[t].originType][a.data[t].alarmType]={threshold:{critical:a.data[t].criticalThreshold,warning:a.data[t].warningThreshold},repeatTime:a.data[t].repeatTime},e[a.data[t].originType].measureTime=a.data[t].measureTime,null!=a.data[t].mailAddress&&""!=a.data[t].mailAddress&&a.data[t].mailAddress.indexOf("@")>-1){for(var s=a.data[t].mailAddress.split("@"),n=!0,i=s[1],l=0;l<o.mailList.length;l++)o.mailList[l].code==i&&(n=!1);n&&(i=""),e[a.data[t].originType].email={emailName:s[0],emailAddr:s[1],emailType:i}}"Y"==a.data[t].mailSendYn?e[a.data[t].originType].email.emailSendYn=!0:e[a.data[t].originType].email.emailSendYn=!1}o.setup=e,o.selType=null==o.selType?"bos":o.selType,o.setTypeObject(),o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),o.snsSendYn=!1,(o.getAlarmSnsChannelList=function(){i.alarmSnsChannelList().then(function(a){""!=a.data&&null!=a.data?(o.alarmSnsChannelList=a.data,"Y"==a.data[0].snsSendYn&&(o.snsSendYn=!0)):(angular.element("#snsChannelList").empty(),o.alarmSnsChannelList=null),o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),o.channel={type:"",id:"",token:"",description:""},o.channelRegist=function(){if(o.scope.loading=!0,""==o.channel.type||!o.channel.id||!o.channel.token){o.scope.loading=!1;var a="";return""==o.channel.type?a="Please Select Channel Type":""==o.channel.id?a="Please Enter Channel ID":""==o.channel.token&&(a="Please Enter Token Value "),n(a,{code:status,message:a}),!1}var t="Y";o.snsSendYn||(t="N");var s={originType:o.channel.type,snsId:o.channel.id,token:o.channel.token,expl:o.channel.description,sendSnsYn:t};i.channelRegist(s).then(function(a){"Created"==a.data.status&&(o.channel.type="",o.channel.id="",o.channel.token="",o.channel.description=""),o.getAlarmSnsChannelList(),o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){n(a.data,{code:500,message:a.data})})})},o.channelDelete=function(a){i.channelDelete(a).then(function(){o.getAlarmSnsChannelList(),o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){n(a.data,{code:500,message:a.data})})})},o.saveSetup=function(){if(o.scope.loading=!0,(""==o.origin.email.emailName||""==o.origin.email.emailAddr)&&"Y"==o.origin.email.emailSendYn){o.scope.loading=!1;var a="";a=""==o.origin.email.emailName?"Please enter Email Name":"Please enter Email Addr or selete Email Addr ",n(a,{code:status,message:a})}var t="Y";o.origin.email.emailSendYn||(t="N");var s="Y";o.snsSendYn||(s="N");var l=[{originType:o.selType,alarmType:"cpu",warningThreshold:o.origin.cpu.threshold.warning,criticalThreshold:o.origin.cpu.threshold.critical,repeatTime:o.origin.cpu.repeatTime,measureTime:o.origin.measureTime},{originType:o.selType,alarmType:"memory",warningThreshold:o.origin.memory.threshold.warning,criticalThreshold:o.origin.memory.threshold.critical,repeatTime:o.origin.memory.repeatTime,measureTime:o.origin.measureTime},{originType:o.selType,alarmType:"disk",warningThreshold:o.origin.disk.threshold.warning,criticalThreshold:o.origin.disk.threshold.critical,repeatTime:o.origin.disk.repeatTime,measureTime:o.origin.measureTime},{originType:o.selType,mailAddress:o.origin.email.emailName+"@"+o.origin.email.emailAddr,mailSendYn:t,snsSendYn:s}];i.updateAlarmSetup(l).then(function(){o.getAlarmPolicyList(),o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){n(a.data,{code:500,message:a.data})})})},o.mailList=[{name:"gmail",code:"gmail.com",$hashKey:"gmail.com"},{name:"yahoo",code:"yahoo.com",$hashKey:"yahoo.com"},{name:"hotmail",code:"hotmail.com",$hashKey:"hotmail.com"},{name:"naver",code:"naver.com",$hashKey:"naver.com"},{name:"nate",code:"nate.com",$hashKey:"nate.com"},{name:"daum",code:"hanmail.net",$hashKey:"hanmail.net"}],o.setEmailAddr=function(){""==o.origin.email.emailType?o.origin.email.emailAddr="":o.origin.email.emailAddr=o.origin.email.emailType},o.setTypeObject=function(){"pas"==o.selType?o.origin=o.setup.pas:"bos"==o.selType?o.origin=o.setup.bos:"con"==o.selType&&(o.origin=o.setup.con)},o.snsRegistMethod=function(){var a=t[0].getElementById("snsRegistMethod").innerHTML,e=s.open("","_blank","width=724,height=700,scrollbars=no,menubar=no,toolbar=no,location=no,status=no,titlebar=no");e.document.open(),e.document.write('<html ><head><link rel="stylesheet" type="text/css" href="bower_components/components-font-awesome/css/font-awesome.css"><link rel="stylesheet" type="text/css" href="styles/vendor-min.css"><link rel="stylesheet" type="text/css" href="styles/app-min.css"><style>\n.contents {font-size:14px;}\n.arrow {text-align:center;margin-bottom:15px;}\n.thumbnail {padding:15px;margin-bottom:20px;border:1px solid #ddd;border-radius:5px;}\n.fa.fa-caret-right {margin-right:5px;}\n</style></head><body>'+a+"</body></html>"),e.document.close()},o.scope.$on("broadcast:reload",function(){o.scope.loading=!0,o.getAlarmPolicyList()})}function e(a,e,t,s,n,i){var o=this;o.scope=a,o.scope.loading=!0,o.common=n,o.scope.optionsFrom={format:"YYYY.MM.DD"},o.scope.optionsTo={format:"YYYY.MM.DD"},o.scope.currentPage=1,o.scope.itemsPerPage=10,o.scope.maxSize=10,(o.getAlarmStatusList=function(a){o.stateParams=t.search(),0==o.scope.loading&&(o.scope.loading=!0),(void 0==a||null==a)&&(o.scope.currentPage=1),o.stateParams._o&&(o.scope.selOriginType=o.stateParams._o),o.stateParams._a&&(o.scope.selAlarmType=o.stateParams._a),o.stateParams._l&&(o.scope.selLevel=o.stateParams._l),o.stateParams._r&&(o.scope.selResolveStatus=o.stateParams._r),o.stateParams._f&&o.stateParams._t&&(o.scope.dateFrom=moment(parseInt(o.stateParams._f)),o.scope.dateTo=moment(parseInt(o.stateParams._t))),o.stateParams._p&&(o.scope.currentPage=o.stateParams._p);var n="?pageItems="+o.scope.itemsPerPage;n+="&pageIndex="+o.scope.currentPage,o.scope.selOriginType&&(n+="&originType="+o.scope.selOriginType),o.scope.selAlarmType&&(n+="&alarmType="+o.scope.selAlarmType),o.scope.selResolveStatus&&(n+="&resolveStatus="+o.scope.selResolveStatus),o.scope.dateFrom&&(n+="&searchDateFrom="+o.scope.dateFrom.startOf("day")),o.scope.dateTo&&(n+="&searchDateTo="+o.scope.dateTo.endOf("day")),o.scope.selLevel&&(n+="&level="+o.scope.selLevel),i.alarmStatusList(n).then(function(a){o.issues=a.data,o.scope.totalItems=a.data.totalCount,o.scope.pageItems=a.data.pageItem,o.scope.totalPages=Math.ceil(a.data.totalCount/a.data.pageItem),t.search({}),o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),o.scope.pageChanged=function(){o.getAlarmStatusList(o.scope.currentPage)},o.goAlarmStatusDetail=function(a){var e={selOriginType:o.scope.selOriginType,selAlarmType:o.scope.selAlarmType,selLevel:o.scope.selLevel,selResolveStatus:o.scope.selResolveStatus,dateFrom:o.scope.dateFrom,dateTo:o.scope.dateTo,page:o.scope.currentPage};t.path("/paas/alarm/status/"+a).search(e)},o.scope.$on("broadcast:reload",function(){o.scope.loading=!0,o.getAlarmStatusList(o.scope.currentPage)})}function t(a,e,t,s,n,i,o){var l=this;l.scope=a,l.scope.loading=!0,l.alarmId=t,l.stateParams=s.search(),l.common=i,(l.getAlarmStatusDetail=function(){o.alarmStatusDetail(l.alarmId.id).then(function(a){l.alarm=a.data,l.alarmLevelClass=l.alarm.level,l.scope.loading=!1},function(a){l.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),l.confirmReceipt=function(){l.modalReset(),l.modalTitle="접수",l.modalMessage="접수 하시겠습니까?",l.confirmCallback=l.alarmDetailReceipt},l.confirmActionModify=function(a){l.modalReset(),l.modalTitle="수정",l.modalMessage="조치내용을 수정 하시겠습니까?",l.actionId=a.id,l.confirmCallback=l.alarmActionUpdate,l.callbackParam=a},l.confirmActionDelete=function(a){
l.modalReset(),l.modalTitle="삭제",l.modalMessage="조치내용을 삭제 하시겠습니까?",l.actionId=a,l.confirmCallback=l.alarmActionDelete},l.modalReset=function(){l.modalTitle="",l.modalMessage="",l.actionId="",l.confirmCallback=void 0,l.callbackParam=void 0},l.cancel=function(a){var e={_o:l.stateParams.selOriginType,_a:l.stateParams.selAlarmType,_l:l.stateParams.selLevel,_r:l.stateParams.selResolveStatus,_f:l.stateParams.dateFrom,_t:l.stateParams.dateTo,_p:l.stateParams.page};s.path(a).search(e)},l.alarmDetailReceipt=function(){l.scope.loading=!0;var a={resolveStatus:"2"};o.alarmStatusUpdate(l.alarm.id,a).then(function(){l.getAlarmStatusDetail(),l.scope.loading=!1},function(a){l.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},l.alarmActionComplete=function(){if(l.scope.loading=!0,""==l.actionDesc||null==l.actionDesc||void 0==l.actionDesc)return void n("",{code:null,message:"조치내용이 입력되지 않았습니다."});var a={resolveStatus:"3"};o.alarmStatusUpdate(l.alarm.id,a).then(function(){l.alarmActionCreate()},function(a){l.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},l.alarmActionCreate=function(){if(l.scope.loading=!0,""==l.actionDesc||null==l.actionDesc||void 0==l.actionDesc)return void n("",{code:null,message:"조치내용이 입력되지 않았습니다."});var a={alarmId:l.alarm.id,alarmActionDesc:l.actionDesc};o.alarmActionCreate(a).then(function(){l.getAlarmStatusDetail(),l.actionDesc="",l.scope.loading=!1},function(a){l.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},l.setUpdating=function(a){l.updating=a},l.alarmActionUpdate=function(){l.scope.loading=!0,l.updating=-1;var a={alarmActionDesc:l.callbackParam.alarmActionDesc};o.alarmActionUpdate(l.callbackParam.id,a).then(function(){l.getAlarmStatusDetail(),l.scope.loading=!1},function(a){l.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},l.alarmActionDelete=function(){l.scope.loading=!0,o.alarmActionDelete(l.actionId).then(function(){l.getAlarmStatusDetail(),l.scope.loading=!1},function(a){l.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},l.scope.$on("broadcast:reload",function(){l.scope.loading=!0,l.getAlarmStatusDetail()})}function s(a,e,t,s,n,i,o,l,r,c){function d(a,e,s){var n,i,o,l,r,c={_o:a,_a:e,_l:s};if("d"==m.period){var d=m.strPeriod;n=new Date(d.slice(0,4),d.slice(5,7)-1,d.slice(8,10)).getTime(),i=new Date(d.slice(0,4),d.slice(5,7)-1,d.slice(8,10)).getTime()}else if("w"==m.period){var p=m.strPeriod.slice(0,m.strPeriod.indexOf("~")-1),u=m.strPeriod.slice(m.strPeriod.indexOf("~")+2);n=new Date(p.slice(0,4),p.slice(5,7)-1,p.slice(8,10)).getTime(),i=new Date(u.slice(0,4),u.slice(5,7)-1,u.slice(8,10)).getTime()}else"m"==m.period?(o=m.strPeriod.slice(0,4),l=parseInt(m.strPeriod.slice(5),10)-1,r=(new Date).getDate(),n=new Date(o,l,r).getTime(),i=new Date(o,l+1,r).getTime()):"y"==m.period&&(o=parseInt(m.strPeriod.slice(0,4))+1,l=parseInt(m.strPeriod.slice(5),10)-1,r=(new Date).getDate(),n=new Date(o-1,l,r).getTime(),i=new Date(o,l,r).getTime());c._f=n,c._t=i,t.path("/paas/alarm/status").search(c)}var m=this;m.scope=a,m.scope.loading=!0;var p="";m.interval=1,m.period="d",m.scope.totalWidgets={},m.scope.servieWidgets={},m.scope.matrixWidgets={},(m.getAlarmStatistics=function(a){var t,n;m.period=a,"d"==a?(p=l.convertTimestampToDate(moment().add(-1*(Number(m.interval)-1),"days")),m.strPeriod=p):"w"==a?(t=l.convertTimestampToDate(moment().add(-1*(Number(m.interval)-1),"week").add(-1,"week")),n=l.convertTimestampToDate(moment().add(-1*(Number(m.interval)-1),"week")),m.strPeriod=t.substring(0,p.lastIndexOf(" "))+" ~ "+n.substring(0,p.lastIndexOf(" "))):"m"==a?(t=l.convertTimestampToDate(moment().add(-1*(Number(m.interval)-1),"month").add(-1,"month")),n=l.convertTimestampToDate(moment().add(-1*(Number(m.interval)-1),"month")),m.strPeriod=t.substring(0,p.lastIndexOf(" "))+" ~ "+n.substring(0,p.lastIndexOf(" "))):"y"==a&&(t=l.convertTimestampToDate(moment().add(-1*(Number(m.interval)-1),"year").add(-1,"year")),n=l.convertTimestampToDate(moment().add(-1*(Number(m.interval)-1),"year")),m.strPeriod=t.substring(0,p.lastIndexOf(" "))+" ~ "+n.substring(0,p.lastIndexOf(" ")));var i="?period="+m.period;i+="&interval="+m.interval,c.alarmStatistics(i).then(function(a){m.stats=a.data,m.scope.loading=!1},function(a){m.scope.loading=!1,e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}),c.alarmStatisticTotal(i).then(function(a){m.scope.setWidget(1,"Total","alarmStatisticTotal",a.data)},function(a){m.scope.setWidget(1,"Total","alarmStatisticTotal",null),e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}),c.alarmStatisticService(i).then(function(a){m.scope.setWidget(1,"Service","alarmStatisticService",a.data)},function(a){m.scope.setWidget(2,"Service","alarmStatisticService",null),e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}),c.alarmStatisticMatrix(i).then(function(a){m.scope.setWidget(1,"Matrix","alarmStatisticMatrix",a.data)},function(a){m.scope.setWidget(3,"Matrix","alarmStatisticMatrix",null),e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(m.period),m.scope.config={visible:!0},e(function(){m.scope.config.visible=!0},200),m.scope.setWidget=function(a,e,t,s){var n={col:0,row:0,sizeX:1,sizeY:1,id:a,type:"lineChart",chart:{options:r.lineChart.options()},func:t};if(s){var i,o=[],l=0;for(var c in s){i=null==s[c].stat?[{time:0,count:0}]:s[c].stat,o.push({values:i,key:s[c].name});for(var d in i)null!=i[d]&&l<i[d].count&&(l=i[d].count)}n.chart.data=o}else n.chart.options.chart.forceY=!1;n.chart.options.chart.xAxis.tickFormat=function(a){return"d"==m.period?d3.time.format("%H:%M")(new Date(1e3*a)):"w"==m.period?d3.time.format("%y-%m-%d")(new Date(1e3*a)):"m"==m.period?d3.time.format("%y-%m-%d")(new Date(1e3*a)):"y"==m.period?d3.time.format("%y-%m")(new Date(1e3*a)):void 0},n.chart.options.chart.y=function(a){return a.count},n.chart.options.chart.yAxis.tickFormat=function(a){return d3.format("")(a)},n.chart.options.chart.yAxis.axisLabel="Count",n.chart.options.chart.yAxis.axisLabelDistance=-5,n.chart.options.chart.margin.left=55,n.axisLabel="Count","Total"==e?m.scope.totalWidgets=n:"Service"==e?m.scope.servieWidgets=n:"Matrix"==e&&(m.scope.matrixWidgets=n)},m.setInterval=function(a){"-"==a?m.interval--:m.interval++,m.getAlarmStatistics(m.period)},m.goListOriginType=function(a,e){d(a,"",e)},m.goListAlarmType=function(a,e){d("",a,e)},m.statisticsPrint=function(a){var e='<p class="date_box">'+m.strPeriod+"</p>",t=n[0].getElementById(a).innerHTML,s=i.open("","_blank","width=1200,height=700,scrollbars=no,menubar=no,toolbar=no,location=no,status=no");s.document.open(),s.document.write('<!doctype html><head><meta charset="utf-8"><title>IaaS / PaaS Monitoring</title><style>p.date_box {width:280px;height:60px;font-size:20px;padding:16px 10px;text-align:center;border:1px solid #cccccc;margin-bottom:30px;}\n.panel{margin-bottom:30px;}</style><link rel="stylesheet" type="text/css" href="styles/vendor-min.css"><link rel="stylesheet" type="text/css" href="styles/app-min.css"></head><body onload="javascript:window.print();">'+e+t+"</html>"),s.document.close()},m.excelDownload=function(a){var e=o.tableToExcel(a,"Statistics"),t=n[0].createElement("a");t.href=e,t.download="Alarm_Statistics.xls",t.click()}}a.$inject=["$scope","$timeout","$document","$window","$exceptionHandler","paasAlarmPolicyService"],e.$inject=["$scope","$timeout","$location","$exceptionHandler","common","paasAlarmStatusService"],t.$inject=["$scope","$timeout","$stateParams","$location","$exceptionHandler","common","paasAlarmStatusService"],s.$inject=["$scope","$timeout","$location","$exceptionHandler","$document","$window","Excel","common","nvd3Generator","paasAlarmStatisticsService"],angular.module("monitoring").controller("PaasAlarmPolicyController",a),angular.module("monitoring").controller("PaasAlarmStatusController",e),angular.module("monitoring").controller("PaasAlarmStatusDetailController",t),angular.module("monitoring").controller("PaasAlarmStatisticsController",s)}(),function(){"use strict";function a(a,e,t){var s={};return s.tenantSummary=function(t){var s={params:{tenantName:t},headers:{Accept:"application/json"}};return a.get(e.iaasTenantSummary,s)},s.tenantInstanceList=function(t,s){var n={params:s,headers:{Accept:"application/json"}};return a.get(e.iaasTenantInstanceList.replace(":instanceId",t),n)},s.instanceCpuUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasTenantCpuUsageList.replace(":instanceId",s.instanceId),n)},s.instanceMemoryUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasTenantMemoryUsageList.replace(":instanceId",s.instanceId),n)},s.instanceDiskIOReadList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasTenantDiskReadList.replace(":instanceId",s.instanceId),n)},s.instanceDiskIOWriteList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasTenantDiskWriteList.replace(":instanceId",s.instanceId),n)},s.instanceNetworkIOKByteList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasTenantNetworkKByteList.replace(":instanceId",s.instanceId),n)},s.instanceNetworkPacketList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasTenantNetworkPacketList.replace(":instanceId",s.instanceId),n)},s}a.$inject=["$http","apiUris","common"],angular.module("monitoring").factory("tenantService",a)}(),function(){"use strict";function a(a,e,t,s,n,i){var o=this;o.scope=a,o.Math=Math;var l=t.hash();t.hash(""),l&&(o.searchCondition=l),(o.getTenantSummary=function(){o.scope.loading=!0,o.selectedTenant=!1,o.tenantInstanceList=null,i.tenantSummary(o.searchCondition).then(function(a){o.tenantSummary=a.data,l?angular.forEach(o.tenantSummary,function(a){a.name==l&&(o.selectTenant(a),l=void 0)}):o.tenantSummary?o.selectTenant(o.tenantSummary[0]):(o.selectedTenantName=null,o.searchInstanceName="",o.tenantInstanceList=null,o.tenantInstanceTotalCount=0)},function(a){o.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})();var r={};o.selectTenant=function(a){r.select="",a.select="active",o.selectedTenant=a,o.selectedTenantName=s.trustAsHtml('[ <span style="color:#77ae33;">'+a.name+"</span> ]"),o.searchInstanceName="",o.tenantInstanceList=null,o.tenantInstanceTotalCount=0,d="",o.getInstanceList(),r=a};var c=10,d="";o.searchInstance=function(){if(0==o.selectedTenant){var a="Tenant가 선택되지 않았습니다.";return void n(a,{code:null,message:a})}d="",o.tenantInstanceList=null,o.tenantInstanceTotalCount=0,o.getInstanceList()},o.getInstanceList=function(){if(0==o.selectedTenant){var a="Tenant가 선택되지 않았습니다.";return void n(a,{code:null,message:a})}o.scope.loading=!0;var t={hostname:o.searchInstanceName,limit:c,marker:d};i.tenantInstanceList(o.selectedTenant.id,t).then(function(a){a.data.metric&&o.selectedTenant.id==a.data.tenantId&&(o.tenantInstanceList=null==o.tenantInstanceList?[]:o.tenantInstanceList,o.tenantInstanceList=o.tenantInstanceList.concat(a.data.metric),o.tenantInstanceTotalCount=a.data.totalCnt,o.moreButton="<strong>더 보 기</strong> (총 "+o.tenantInstanceTotalCount+" 건)",o.tenantInstanceList&&(d=o.tenantInstanceList[o.tenantInstanceList.length-1].instance_id),o.tenantInstanceList.length>=o.tenantInstanceTotalCount&&(o.moreButton="(총 "+o.tenantInstanceTotalCount+"건)")),o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},o.scope.$on("broadcast:reload",function(){o.getTenantSummary()})}function e(a,e,t,s,n,i,o,l,r,c,d,m){var p=this;p.scope=a,p.Math=Math,p.scope.loading=!0,p.scope.name=i.search().name,p.scope.gridsterOpts={margins:[20,20],columns:3,rowHeight:250,mobileModeEnabled:!1,swapping:!0,draggable:{handle:"h4",stop:function(a,t,s){n(function(){e.log(a+","+t+","+s)},400)}},resizable:{enabled:!0,handles:["n","e","s","w","ne","se","sw","nw"],minWidth:200,layoutChanged:function(){},start:function(a,t,s){n(function(){e.log(a+","+t+","+s)},400)},resize:function(a,e,t){t.chart.api&&t.chart.api.update()},stop:function(a,e,t){n(function(){t.chart.api&&t.chart.api.update()},400)}}},p.scope.dashboard={widgets:[]},p.scope.events={resize:function(a,e){n(function(){e.api&&e.api.update&&e.api.update()},200)}},p.scope.config={visible:!1},n(function(){p.scope.config.visible=!0},200),angular.element(window).on("resize",function(){p.scope.$broadcast("resize")});var u=l,g=t.instanceId,v={instanceId:g,groupBy:c.getGroupBy()};"custom"==c.getDefaultTimeRange()?(v.timeRangeFrom=r.timeDifference((new Date).getTime(),c.getTimeRangeFrom()),v.timeRangeTo=r.timeDifference((new Date).getTime(),c.getTimeRangeTo())):v.defaultTimeRange=c.getDefaultTimeRange();var h=0;for(var f in u){var b=u[f];b.func&&(!function(a,t){o[a.func](v).then(function(e){p.scope.setWidget(t,a,e.data)},function(s){p.scope.setWidget(t,a),e.error(s),n(function(){m(s.data.message,{code:s.data.HttpStatus,message:s.data.message})},500)})}(b,h),h++)}var y=s(function(){h==p.scope.dashboard.widgets.length&&(s.cancel(y),p.scope.dashboard.widgets.sort(r.CompareForSort),p.scope.loading=!1)},500);p.scope.setWidget=function(a,e,t){var s=void 0==e.col?Math.floor(a%3):e.col,n=void 0==e.row?Math.floor(a/3):e.row,i=void 0==e.sizeX?1:e.sizeX,o=void 0==e.sizeY?1:e.sizeY,l={col:s,row:n,sizeX:i,sizeY:o,name:e.name,id:e.id,type:e.type,chart:{options:d[e.type].options(),api:{}},func:e.func};if(e.percent&&t&&(l.chart.options.chart.forceY=[0,100],l.chart.options.chart.yAxis.tickFormat=function(a){return d3.format(".0%")(a/100)},l.percent=e.percent),e.axisLabel&&(l.chart.options.chart.yAxis.axisLabel=e.axisLabel,l.chart.options.chart.yAxis.axisLabelDistance=-5,l.chart.options.chart.margin.left=55,l.axisLabel=e.axisLabel),t){var r,c=[],m=0;for(var u in t){r=null==t[u].metric?[{time:0,usage:0}]:t[u].metric,c.push({values:r,key:t[u].name});for(var g in r)null!=r[g]&&m<r[g].usage&&(m=r[g].usage)}l.chart.data=c,"list"!=e.type&&(5>m&&void 0==l.chart.options.chart.forceY&&(l.chart.options.chart.forceY=[0,5]),m>1e4&&(l.chart.options.chart.yAxis.axisLabelDistance=20,l.chart.options.chart.margin.left=80))}else l.chart.options.chart.forceY=!1;p.scope.dashboard.widgets.push(l)};var w=!1;p.scope.saveTimeRange=function(){var a=t.instanceId,e={instanceId:a,groupBy:c.getGroupBy()};"custom"==p.scope.selTimeRange?(e.timeRangeFrom=r.timeDifference((new Date).getTime(),p.scope.timeRangeFrom),e.timeRangeTo=r.timeDifference((new Date).getTime(),p.scope.timeRangeTo),w=!0):(e.defaultTimeRange=p.scope.selTimeRange,e.defaultTimeRange=p.scope.selTimeRange,e.groupBy=p.scope.selGroupBy,w=!1),angular.forEach(p.scope.dashboard.widgets,function(a,t){!function(a,t){o[a.func](e).then(function(a){if(a){var e,s=a.data,n=[];for(var i in s)e=null==s[i].metric?[{time:0,usage:0}]:s[i].metric,n.push({values:e,key:s[i].name});p.scope.dashboard.widgets[t].chart.data=n,p.scope.dashboard.widgets[t].loading=!1}},function(a,e){n(function(){m(a.Message,{code:e,message:a.Message})},500)})}(a,t)})},p.scope.selectGroupBy=function(){p.scope.selGroupBy=r.getGroupingByTimeRange(p.scope.selTimeRange,p.scope.timeRangeFrom,p.scope.timeRangeTo)},angular.element("#timeRange").on("hidden.bs.modal",function(){1!=w&&(p.scope.selTimeRange=c.getDefaultTimeRange(),p.scope.selGroupBy=c.getGroupBy())}),p.scope.goMovePage=function(){i.path("/iaas/tenant")},p.scope.$on("broadcast:reload",function(){"logs"==p.scope.selectedTab?p.scope.logSearch():(angular.forEach(p.scope.dashboard.widgets,function(a){a.loading=!0}),p.scope.saveTimeRange())}),p.scope.$on("broadcast:saveTimeRange",function(a,e){p.scope.selTimeRange=e.selTimeRange,p.scope.selGroupBy=e.selGroupBy,p.scope.selRefreshTime=e.selRefreshTime,p.scope.timeRangeFrom=e.timeRangeFrom,p.scope.timeRangeTo=e.timeRangeTo,p.scope.saveTimeRange()})}a.$inject=["$scope","$timeout","$location","$sce","$exceptionHandler","tenantService"],e.$inject=["$scope","$log","$stateParams","$interval","$timeout","$location","tenantService","tenantChartConfig","common","cookies","nvd3Generator","$exceptionHandler"],angular.module("monitoring").controller("TenantController",a),angular.module("monitoring").controller("TenantDetailController",e)}(),function(){"use strict";function a(a,e){var t={};return t.manageNodeSummary=function(t){var s={params:{hostname:t},headers:{Accept:"application/json"}};return a.get(e.iaasManageNodeSummary,s)},t.manageTopProcessByCpu=function(t){return a.get(e.iaasNodeTopProcessCpu.replace(":hostname",t.hostname))},t.manageTopProcessByMemory=function(t){return a.get(e.iaasNodeTopProcessMemory.replace(":hostname",t.hostname))},t.manageRabbitMqSummary=function(){return a.get(e.iaasNodeRabbitMqSummary)},t}function e(a,e,t){var s={};return s.computeNodeSummary=function(t){var s={params:{hostname:t},headers:{Accept:"application/json"}};return a.get(e.iaasComputeNodeSummary,s)},s.computeTopProcessByCpu=function(t){return a.get(e.iaasNodeTopProcessCpu.replace(":hostname",t.hostname))},s.computeTopProcessByMemory=function(t){return a.get(e.iaasNodeTopProcessMemory.replace(":hostname",t.hostname))},s.nodeCpuUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasNodeCpuUsageList.replace(":hostname",s.hostname),n)},s.nodeCpuLoad1mList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasNodeCpuLoadList.replace(":hostname",s.hostname),n)},s.nodeMemorySwapList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasNodeMemorySwapList.replace(":hostname",s.hostname),n)},s.nodeMemoryUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasNodeMemoryUsageList.replace(":hostname",s.hostname),n)},s.nodeDiskUsageList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasNodeDiskUsageList.replace(":hostname",s.hostname),n)},s.nodeDiskIOReadList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasNodeDiskReadList.replace(":hostname",s.hostname),n)},s.nodeDiskIOWriteList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasNodeDiskWriteList.replace(":hostname",s.hostname),n)},s.nodeNetworkIOKByteList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasNodeNetworkKByteList.replace(":hostname",s.hostname),n)},s.nodeNetworkErrorList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasNodeNetworkErrorList.replace(":hostname",s.hostname),n)},s.nodeNetworkDroppedPacketList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasNodeNetworkDropPacketList.replace(":hostname",s.hostname),n)},s.nodeRabbitMQList=function(s){var n={params:t.setDtvParam(s),headers:{Accept:"application/json"}};return a.get(e.iaasNodeRabbitMqList.replace(":hostname",s.hostname),n)},s}a.$inject=["$http","apiUris"],e.$inject=["$http","apiUris","common"],angular.module("monitoring").factory("manageNodeService",a),angular.module("monitoring").factory("computeNodeService",e)}(),function(){"use strict";function a(a,e,t,s,n,i){var o=this;o.scope=a,o.Math=Math,o.scope.loading=!0,(o.getManageNodeSummary=function(){void 0!=o.loadingSummary&&(o.loadingSummary=!0),i.manageNodeSummary(o.searchCondition).then(function(a){o.manageNodeSummary=a.data,o.scope.loading=!1,o.loadingSummary=!1,o.manageNodeSummary?o.scope.getTopProcessByHostname(o.manageNodeSummary[0]):(o.selectedManageNode=null,o.topProcessCpuList=null,o.topProcessMemoryList=null)},function(a){o.loadingSummary=!0,o.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})();var l={};o.scope.getTopProcessByHostname=function(a){o.scope.loading=!0,l.select="",a.select="active",o.selectedManageNode=s.trustAsHtml('[ <span style="color:#77ae33;">'+a.hostname+"</span> ]"),o.scope.getTopProcessCpuList(a.hostname),o.scope.getTopProcessMemoryList(a.hostname),l=a},o.scope.getTopProcessCpuList=function(a){var t={hostname:a};i.manageTopProcessByCpu(t).then(function(a){o.topProcessCpuList=a.data,o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},o.scope.getTopProcessMemoryList=function(a){var t={hostname:a};i.manageTopProcessByMemory(t).then(function(a){o.topProcessMemoryList=a.data,o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},(o.getMRabbitMqSummary=function(){i.manageRabbitMqSummary().then(function(a){o.messageQueue=a.data;var e=a.data.NodeResources;o.filePerc=Math.round(e.fileDescriptorUsed/e.fileDescriptorTotal*100),o.socketPerc=Math.round(e.socketsUsed/e.socketsLimit*100),o.erlangPerc=Math.round(e.erlangProcessUsed/e.erlangProcessLimit*100),o.memoryPerc=Math.round(e.memoryMbUsed/e.memoryMbLimit*100),o.diskPerc=Math.round(e.diskMbLimitFree/e.diskMbFree*100),o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),o.messageQueueHost="http://115.68.151.175:15672",o.goMessageQueue=function(a){var e=o.messageQueueHost+"/#/"+a;t.open(e,"messageQueue")},o.scope.$on("broadcast:reload",function(){o.scope.loading=!0,o.getManageNodeSummary(),o.getMRabbitMqSummary()})}function e(a,e,t,s,n,i){var o=this;o.scope=a,o.Math=Math,o.scope.loading=!0,(o.getOpenStackSummary=function(){n.openStackSummary().then(function(a){o.summary=a.data,o.usageVcpu=Math.round(o.summary.vcpuUsed/o.summary.vcpuTotal*100),o.usageMemory=Math.round(o.summary.memoryMbUsed/o.summary.memoryMbTotal*100),o.usageDisk=Math.round(o.summary.diskGbUsed/o.summary.diskGbTotal*100),o.usageVms=Math.round(o.summary.vmRunning/o.summary.vmTotal*100),o.init(o.usageVcpu,o.usageMemory,o.usageDisk,o.usageVms),o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),o.init=function(a,e,t,s){o.scope.cpuPercent=a,o.scope.memPercent=e,o.scope.diskPercent=t,o.scope.instance=s},(o.getComputeNodeSummary=function(){i.computeNodeSummary(o.searchCondition).then(function(a){o.computeNodeSummary=a.data,o.scope.loading=!1,o.loadingSummary=!1,o.computeNodeSummary?o.scope.getTopProcessByHostname(o.computeNodeSummary[0]):(o.selectedComputeNode=null,o.topProcessCpuList=null,o.topProcessMemoryList=null)},function(a){o.scope.loading=!1,e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})();var l={};o.scope.getTopProcessByHostname=function(a){o.scope.loading=!0,l.select="",a.select="active",o.selectedComputeNode=t.trustAsHtml('[ <span style="color:#77ae33;">'+a.hostname+"</span> ]"),o.scope.getTopProcessCpuList(a.hostname),o.scope.getTopProcessMemoryList(a.hostname),l=a},o.scope.getTopProcessCpuList=function(a){var t={hostname:a};i.computeTopProcessByCpu(t).then(function(a){o.topProcessCpuList=a.data,o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},o.scope.getTopProcessMemoryList=function(a){var t={hostname:a};i.computeTopProcessByMemory(t).then(function(a){o.topProcessMemoryList=a.data,o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},o.scope.$on("broadcast:reload",function(){o.scope.loading=!0,o.getOpenStackSummary(),o.getComputeNodeSummary()})}function t(a,e,t,s,n,i,o,l,r,c,d,m,p,u){var g=this;g.scope=a,g.Math=Math,g.scope.loading=!0,g.scope.selTab=function(a){g.scope.selectedTab=a,"chart"==a||"logs"==a&&null==g.scope.recentLogs&&g.scope.defaultRecentLog()},g.scope.gridsterOpts={margins:[20,20],columns:3,rowHeight:250,mobileModeEnabled:!1,swapping:!0,draggable:{handle:"h4",stop:function(a,t,s){n(function(){e.log(a+","+t+","+s)},400)}},resizable:{enabled:!0,handles:["n","e","s","w","ne","se","sw","nw"],minWidth:200,layoutChanged:function(){},start:function(a,t,s){n(function(){e.log(a+","+t+","+s)},400)},resize:function(a,e,t){t.chart.api&&t.chart.api.update()},stop:function(a,e,t){n(function(){t.chart.api&&t.chart.api.update()},400)}}},g.scope.dashboard={widgets:[]},g.scope.events={resize:function(a,e){n(function(){e.api&&e.api.update&&e.api.update()},200)}},g.scope.config={visible:!1},n(function(){g.scope.config.visible=!0},200),angular.element(window).on("resize",function(){g.scope.$broadcast("resize")});var v=m,h=t.hostname;g.scope.name=h;var f={hostname:h,groupBy:c.getGroupBy()};"custom"==c.getDefaultTimeRange()?(f.timeRangeFrom=r.timeDifference((new Date).getTime(),c.getTimeRangeFrom()),f.timeRangeTo=r.timeDifference((new Date).getTime(),c.getTimeRangeTo())):f.defaultTimeRange=c.getDefaultTimeRange();var b=0;for(var y in v){var w=v[y];w.func&&(!function(a,t){p[a.func](f).then(function(e){g.scope.setWidget(t,a,e.data)},function(s){g.scope.setWidget(t,a),e.error(s),n(function(){l(s.data.message,{code:s.data.HttpStatus,message:s.data.message})},500)})}(w,b),b++)}var x=s(function(){b==g.scope.dashboard.widgets.length&&(s.cancel(x),g.scope.dashboard.widgets.sort(r.CompareForSort),g.scope.loading=!1)},500);g.scope.setWidget=function(a,e,t){var s=void 0==e.col?Math.floor(a%3):e.col,n=void 0==e.row?Math.floor(a/3):e.row,i=void 0==e.sizeX?1:e.sizeX,o=void 0==e.sizeY?1:e.sizeY,l={col:s,row:n,sizeX:i,sizeY:o,name:e.name,id:e.id,type:e.type,chart:{options:d[e.type].options(),api:{}},func:e.func};if(e.percent&&t&&(l.chart.options.chart.forceY=[0,100],l.chart.options.chart.yAxis.tickFormat=function(a){return d3.format(".0%")(a/100)},l.percent=e.percent),e.axisLabel&&(l.chart.options.chart.yAxis.axisLabel=e.axisLabel,l.chart.options.chart.yAxis.axisLabelDistance=-5,l.chart.options.chart.margin.left=55,l.axisLabel=e.axisLabel),t){var r,m=[],p=0;for(var u in t){r=null==t[u].metric?[{time:0,usage:0}]:t[u].metric,m.push({values:r,key:t[u].name});for(var v in r)null!=r[v]&&p<r[v].usage&&(p=r[v].usage)}l.chart.data=m,"list"!=e.type&&(5>p&&void 0==l.chart.options.chart.forceY&&(l.chart.options.chart.forceY=[0,5]),p>1e4&&(l.chart.options.chart.yAxis.axisLabelDistance=20,l.chart.options.chart.margin.left=80))}else l.chart.options.chart.forceY=!1;"7d"==c.getDefaultTimeRange()||"30d"==c.getDefaultTimeRange()?l.chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))}:"custom"!=c.getDefaultTimeRange()||"1h36m"!=c.getGroupBy()&&"11h12m"!=c.getGroupBy()&&"48h"!=c.getGroupBy()?l.chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%H:%M:%S")(new Date(1e3*a))}:l.chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))},g.scope.dashboard.widgets.push(l)};var S=!1;g.scope.saveTimeRange=function(){var a={hostname:h,groupBy:c.getGroupBy()};"custom"==g.scope.selTimeRange?(a.timeRangeFrom=r.timeDifference((new Date).getTime(),g.scope.timeRangeFrom),a.timeRangeTo=r.timeDifference((new Date).getTime(),g.scope.timeRangeTo),S=!0):(a.defaultTimeRange=g.scope.selTimeRange,a.defaultTimeRange=g.scope.selTimeRange,a.groupBy=g.scope.selGroupBy,S=!1),c.putGroupBy(g.scope.selGroupBy),angular.forEach(g.scope.dashboard.widgets,function(e,t){!function(e,t){p[e.func](a).then(function(a){if(a){"7d"==c.getDefaultTimeRange()||"30d"==c.getDefaultTimeRange()?g.scope.dashboard.widgets[t].chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))}:"custom"!=c.getDefaultTimeRange()||"1h36m"!=c.getGroupBy()&&"11h12m"!=c.getGroupBy()&&"48h"!=c.getGroupBy()?g.scope.dashboard.widgets[t].chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%H:%M:%S")(new Date(1e3*a))}:g.scope.dashboard.widgets[t].chart.options.chart.xAxis.tickFormat=function(a){return d3.time.format("%y-%m-%d %H:%M:%S")(new Date(1e3*a))};var e,s=a.data,n=[];for(var i in s)e=null==s[i].metric?[{time:0,usage:0}]:s[i].metric,n.push({values:e,key:s[i].name});g.scope.dashboard.widgets[t].chart.data=n,g.scope.dashboard.widgets[t].chart.api.refresh(),g.scope.dashboard.widgets[t].loading=!1}},function(a,e){n(function(){l(a.Message,{code:e,message:a.Message})},500)})}(e,t)})},g.scope.selectGroupBy=function(){g.scope.selGroupBy=r.getGroupingByTimeRange(g.scope.selTimeRange,g.scope.timeRangeFrom,g.scope.timeRangeTo)},angular.element("#timeRange").on("hidden.bs.modal",function(){1!=S&&(g.scope.selTimeRange=c.getDefaultTimeRange(),g.scope.selGroupBy=c.getGroupBy())}),g.scope.targetDateOptions={format:"YYYY.MM.DD"},g.scope.timeOptions={format:"LT"},g.scope.totalItems=0,g.scope.currentPage=1,g.scope.maxSize=10,g.scope.pageItems=50,g.scope.hostname=h,g.scope.defaultRecentLog=function(a,e){g.scope.loading=!0;var t={hostname:g.scope.hostname,pageItems:g.scope.pageItems,pageIndex:g.scope.currentPage,logType:"log",period:"5m"};if(a&&(t.keyword=a),e)for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);u.dtvDefaultRecentLog(t).then(function(a){g.scope.recentLogs=a.data.messages,g.scope.optLogstashIndex=a.data.logstashIndex,g.scope.startTime=a.data.startTime,g.scope.endTime=a.data.endTime,g.scope.targetDate=r.getDate(a.data.targetDate),g.scope.totalItems=a.data.totalCount,g.scope.loading=!1},function(a){g.scope.loading=!1,n(function(){l(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},g.scope.specificTimeRangeLog=function(a,e){var t={hostname:g.scope.hostname,pageItems:g.scope.pageItems,pageIndex:g.scope.currentPage,logType:"log",period:"5m"};if(a&&(t.keyword=a),e)for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);u.dtvSpecificTimeRangeLog(t).then(function(a){g.scope.recentLogs=a.data.messages,g.scope.optLogstashIndex=a.data.logstashIndex,g.scope.startTime=a.data.startTime,g.scope.endTime=a.data.endTime,g.scope.totalItems=a.data.totalCount,g.scope.loading=!1},function(a){g.scope.loading=!1,n(function(){l(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})};var T="default",C="";g.scope.logSearch=function(){if(g.scope.loading=!0,g.scope.currentPage=1,C=g.scope.message,g.scope.targetDate){T="specific",void 0==g.scope.startTime?g.scope.optStartTime="":g.scope.optStartTime=r.getTime(g.scope.startTime),void 0==g.scope.endTime?g.scope.optEndTime="":g.scope.optEndTime=r.getTime(g.scope.endTime);var a={targetDate:r.getDate(g.scope.targetDate),startTime:g.scope.optStartTime,endTime:g.scope.optEndTime};g.scope.specificTimeRangeLog(C,a)}else T="default",g.scope.defaultRecentLog(C)},g.scope.pageChanged=function(){g.scope.loading=!0;var a={logstashIndex:g.scope.optLogstashIndex,startTime:g.scope.optStartTime,endTime:g.scope.optEndTime};"specific"==T?(a.targetDate=r.getDate(g.scope.targetDate),g.scope.specificTimeRangeLog(C,a)):g.scope.defaultRecentLog(C,a),o.scrollTo(0,0)},g.scope.searchReset=function(){g.scope.targetDate="",g.scope.startTime="",g.scope.endTime=""},g.scope.goMovePage=function(){var a;a=i.path().indexOf("/iaas/manage")>-1?"/iaas/manage_node":"/iaas/compute_node",i.path(a)},g.scope.$on("broadcast:reload",function(){"logs"==g.scope.selectedTab?g.scope.logSearch():(angular.forEach(g.scope.dashboard.widgets,function(a){a.loading=!0}),g.scope.saveTimeRange())}),g.scope.$on("broadcast:saveTimeRange",function(a,e){g.scope.selTimeRange=e.selTimeRange,g.scope.selGroupBy=e.selGroupBy,g.scope.selRefreshTime=e.selRefreshTime,g.scope.timeRangeFrom=e.timeRangeFrom,g.scope.timeRangeTo=e.timeRangeTo,g.scope.saveTimeRange()})}a.$inject=["$scope","$timeout","$window","$sce","$exceptionHandler","manageNodeService"],
e.$inject=["$scope","$timeout","$sce","$exceptionHandler","iaaSMainService","computeNodeService"],t.$inject=["$scope","$log","$stateParams","$interval","$timeout","$location","$window","$exceptionHandler","common","cookies","nvd3Generator","nodeChartConfig","computeNodeService","iaasLogService"],angular.module("monitoring").controller("ManageNodeController",a),angular.module("monitoring").controller("ComputeNodeController",e),angular.module("monitoring").controller("NodeDetailController",t)}(),function(){"use strict";function a(a,e){var t={};return t.openStackSummary=function(){return a.get(e.iaasMainSummary)},t.alarmRealtimeList=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.iaasAlarmRealtimeList,s)},t}a.$inject=["$http","apiUris"],angular.module("monitoring").factory("iaaSMainService",a)}(),function(){"use strict";function a(a,e){return{restrict:"E",scope:{seq:"=",percentage:"="},template:'<svg id="fillGauge{{seq}}" width="97%"></svg>',link:function(t,s){function n(){a(function(){var a=d3.select(s[0]).select("svg"),e=Math.min(parseInt(a.style("width")),parseInt(a.style("height")))/2,t=parseInt(a.style("width"))/2-e,n=parseInt(a.style("height"))/2-e;r.attr("transform","translate("+t+","+n+")")},100)}function i(){return{minValue:0,maxValue:100,circleThickness:.05,circleFillGap:.05,circleColor:"#00aacc",waveHeight:.1,waveCount:1,waveRiseTime:1e3,waveAnimateTime:18e3,waveRise:!0,waveHeightScaling:!0,waveAnimate:!0,waveColor:"#00aacc",waveOffset:0,textVertPosition:.5,textSize:1,valueCountUp:!0,displayPercent:!0,textColor:"#045681",waveTextColor:"#a9e2ff"}}function o(a,e,t){function s(){F.attr("transform","translate("+U(F.attr("T"))+",0)"),F.transition().duration(t.waveAnimateTime*(1-F.attr("T"))).ease("linear").attr("transform","translate("+U(1)+",0)").attr("T",1).each("end",function(){F.attr("T",0),s(t.waveAnimateTime)})}function n(){this.update=function(a){a>100&&(r.selectAll("path").style("fill","#ff3333"),r.selectAll("circle").style("fill","#ffbbbb"),r.selectAll("text").style("fill","#ff0000"));var e=parseFloat(a).toFixed(2),n=function(a){return Math.round(a)};parseFloat(e)!=parseFloat(n(e))&&(n=function(a){return parseFloat(a).toFixed(1)}),parseFloat(e)!=parseFloat(n(e))&&(n=function(a){return parseFloat(a).toFixed(2)});var i=function(){var e=d3.interpolate(this.textContent,parseFloat(a).toFixed(2));return function(a){this.textContent=n(e(a))+h}};$.transition().duration(t.waveRiseTime).tween("text",i),j.transition().duration(t.waveRiseTime).tween("text",i);var l,c=Math.max(t.minValue,Math.min(t.maxValue,a))/t.maxValue,d=w*o(100*c),m=d3.scale.linear().range([y+2*w+d,y-d]).domain([0,1]),p=m(c),u=d3.scale.linear().range([0,C]).domain([0,1]),g=d3.scale.linear().range([0,d]).domain([0,1]);l=t.waveHeightScaling?d3.svg.area().x(function(a){return u(a.x)}).y0(function(a){return g(Math.sin(2*Math.PI*t.waveOffset*-1+2*Math.PI*(1-t.waveCount)+2*a.y*Math.PI))}).y1(function(){return 2*w+d}):B;var v=t.waveAnimate?U(1):0;F.transition().duration(0).transition().duration(t.waveAnimate?t.waveAnimateTime*(1-F.attr("T")):t.waveRiseTime).ease("linear").attr("d",l).attr("transform","translate("+v+",0)").attr("T","1").each("end",function(){t.waveAnimate&&(F.attr("transform","translate("+U(0)+",0)"),s(t.waveAnimateTime))}),_.transition().duration(t.waveRiseTime).attr("transform","translate("+G+","+p+")")}}null==t&&(t=i());var o,l=d3.select("#"+a),c=Math.min(parseInt(l.style("width")),parseInt(l.style("height")))/2,d=parseInt(l.style("width"))/2-c,m=parseInt(l.style("height"))/2-c,p=Math.max(t.minValue,Math.min(t.maxValue,e))/t.maxValue;o=t.waveHeightScaling?d3.scale.linear().range([0,t.waveHeight,0]).domain([0,50,100]):d3.scale.linear().range([t.waveHeight,t.waveHeight]).domain([0,100]);var u=t.textSize*c/2,g=parseFloat(e).toFixed(2),v=t.valueCountUp?t.minValue:g,h=t.displayPercent?"%":"",f=t.circleThickness*c,b=t.circleFillGap*c,y=f+b,w=c-y,x=w*o(100*p),S=2*w/t.waveCount,T=1+t.waveCount,C=S*T,k=function(a){return Math.round(a)};parseFloat(g)!=parseFloat(k(g))&&(k=function(a){return parseFloat(a).toFixed(1)}),parseFloat(g)!=parseFloat(k(g))&&(k=function(a){return parseFloat(a).toFixed(2)});for(var L=[],A=0;40*T>=A;A++)L.push({x:A/(40*T),y:A/40});var M=d3.scale.linear().range([0,2*Math.PI]).domain([0,1]),P=d3.scale.linear().range([0,c]).domain([0,c]),D=d3.scale.linear().range([0,C]).domain([0,1]),I=d3.scale.linear().range([0,x]).domain([0,1]),R=d3.scale.linear().range([y+2*w+x,y-x]).domain([0,1]),U=d3.scale.linear().range([0,C-2*w]).domain([0,1]),N=d3.scale.linear().range([y+2*w,y+.7*u]).domain([0,1]);r=l.append("g").attr("transform","translate("+d+","+m+")");var O=d3.svg.arc().startAngle(M(0)).endAngle(M(1)).outerRadius(P(c)).innerRadius(P(c-f));r.append("path").attr("d",O).style("fill",t.circleColor).attr("transform","translate("+c+","+c+")");var $=r.append("text").text(k(v)+h).attr("class","liquidFillGaugeText").attr("text-anchor","middle").attr("font-size",u+"px").style("fill",t.textColor).attr("transform","translate("+c+","+N(t.textVertPosition)+")"),B=d3.svg.area().x(function(a){return D(a.x)}).y0(function(a){return I(Math.sin(2*Math.PI*t.waveOffset*-1+2*Math.PI*(1-t.waveCount)+2*a.y*Math.PI))}).y1(function(){return 2*w+x}),_=r.append("defs").append("clipPath").attr("id","clipWave"+a),F=_.append("path").datum(L).attr("d",B).attr("T",0),H=r.append("g").attr("clip-path","url(#clipWave"+a+")");H.append("circle").attr("cx",c).attr("cy",c).attr("r",w).style("fill",t.waveColor);var j=H.append("text").text(k(v)+h).attr("class","liquidFillGaugeText").attr("text-anchor","middle").attr("font-size",u+"px").style("fill",t.waveTextColor).attr("transform","translate("+c+","+N(t.textVertPosition)+")");if(t.valueCountUp){var z=function(){var a=d3.interpolate(this.textContent,g);return function(e){this.textContent=k(a(e))+h}};$.transition().duration(t.waveRiseTime).tween("text",z),j.transition().duration(t.waveRiseTime).tween("text",z)}var G=y+2*w-C;return t.waveRise?_.attr("transform","translate("+G+","+R(0)+")").transition().duration(t.waveRiseTime).attr("transform","translate("+G+","+R(p)+")").each("start",function(){F.attr("transform","translate(1,0)")}):_.attr("transform","translate("+G+","+R(p)+")"),t.waveAnimate&&s(),new n}function l(a){return a}var r;a(function(){t.gauge1=o("fillGauge"+t.seq,50),t.config1=i(),t.$watch(function(){isNaN(t.percentage)?t.gauge1.update(l(0)):t.gauge1.update(l(t.percentage))}),angular.element(e).on("resize",n)})}}}a.$inject=["$timeout","$window"],angular.module("monitoring").directive("liquid",a)}(),function(){"use strict";function a(a,e,t,s,n,i,o){var l=this;l.scope=a,l.Math=Math,l.scope.loading=!0,(l.getOpenStackSummary=function(){s.openStackSummary().then(function(a){l.summary=a.data,l.usageVcpu=Math.round(l.summary.vcpuUsed/l.summary.vcpuTotal*100),l.usageMemory=Math.round(l.summary.memoryMbUsed/l.summary.memoryMbTotal*100),l.usageDisk=Math.round(l.summary.diskGbUsed/l.summary.diskGbTotal*100),l.usageVms=Math.round(l.summary.vmRunning/l.summary.vmTotal*100),l.init(l.usageVcpu,l.usageMemory,l.usageDisk,l.usageVms),l.scope.loading=!1},function(a){e(function(){t(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),l.init=function(a,e,t,s){l.scope.cpuPercent=a,l.scope.memPercent=e,l.scope.diskPercent=t,l.scope.instance=s},(l.getComputeNodeSummary=function(){n.computeNodeSummary().then(function(a){l.computeNodeSummary=a.data},function(a){e(function(){t(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),(l.getManageNodeSummary=function(){i.manageNodeSummary().then(function(a){l.manageNodeSummary=a.data},function(a){e(function(){t(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),(l.getTenantSummary=function(){o.tenantSummary().then(function(a){l.tenantSummary=a.data},function(a){e(function(){t(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),(l.getAlarmRealtimeList=function(){var a="?pageItems=5&pageIndex=1";s.alarmRealtimeList(a).then(function(a){l.alarmViewList=a.data.data,l.scope.loadingAlramRealtime=!1},function(a){l.scope.loadingAlramRealtime=!1,e(function(){t(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),l.scope.$on("broadcast:reload",function(){l.scope.loading=!0,l.getOpenStackSummary(),l.getComputeNodeSummary(),l.getManageNodeSummary(),l.getTenantSummary()})}a.$inject=["$scope","$timeout","$exceptionHandler","iaaSMainService","computeNodeService","manageNodeService","tenantService"],angular.module("monitoring").controller("IaaSMainController",a)}(),function(){"use strict";function a(a,e){var t={};return t.alarmNotificationList=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.iaasAlarmNotificationList,s)},t.insertAlarmNotification=function(t){var s={headers:{"Content-Type":"application/json",Accept:"application/json"}};return a.post(e.iaasAlarmNotification,t,s)},t.updateAlarmNotification=function(t){var s={headers:{"Content-Type":"application/json",Accept:"application/json"}};return a.put(e.iaasAlarmNotificationId.replace(":id",t.id),t,s)},t.deleteAlarmNotification=function(t){var s={headers:{Accept:"application/json"}};return a["delete"](e.iaasAlarmNotificationId.replace(":id",t),s)},t}function e(a,e){var t={};return t.alarmPolicyList=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.iaasAlarmPolicyList,s)},t.alarmPolicy=function(t){var s={headers:{Accept:"application/json"}};return a.get(e.iaasAlarmPolicyId.replace(":id",t),s)},t.insertAlarmPolicy=function(t){var s={headers:{Accept:"application/json"}};return a.post(e.iaasAlarmPolicy,t,s)},t.updateAlarmPolicy=function(t){var s={headers:{"Content-Type":"application/json",Accept:"application/json"}};return a.patch(e.iaasAlarmPolicyId.replace(":id",t.id),t,s)},t.deleteAlarmPolicy=function(t){var s={headers:{Accept:"application/json"}};return a["delete"](e.iaasAlarmPolicyId.replace(":id",t),s)},t.nodeList=function(){var t={headers:{Accept:"application/json"}};return a.get(e.iaasNodeList,t)},t}function t(a,e){var t={};return t.alarmStatusList=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.iaasAlarmStatusList,s)},t.alarmStatusCount=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.iaasAlarmStatusCount,s)},t.alarmStatus=function(t){var s={headers:{Accept:"application/json"}};return a.get(e.iaasAlarmStatusId.replace(":id",t),s)},t.alarmStatusHistoryList=function(t,s){var n={params:s,headers:{Accept:"application/json"}};return a.get(e.iaasAlarmStatusHistoryList.replace(":alarmId",t),n)},t.alarmActionList=function(t){var s={headers:{Accept:"application/json"}};return a.get(e.iaasAlarmActionList.replace(":alarmId",t),s)},t.insertAlarmAction=function(t){var s={headers:{Accept:"application/json"}};return a.post(e.iaasAlarmAction,t,s)},t.updateAlarmAction=function(t,s){var n={headers:{"Content-Type":"application/json",Accept:"application/json"}};return a.put(e.iaasAlarmActionId.replace(":alarmId",t),s,n)},t.deleteAlarmAction=function(t){var s={headers:{Accept:"application/json"}};return a["delete"](e.iaasAlarmActionId.replace(":alarmId",t),s)},t}a.$inject=["$http","apiUris"],e.$inject=["$http","apiUris"],t.$inject=["$http","apiUris"],angular.module("monitoring").factory("iaasAlarmNotificationService",a),angular.module("monitoring").factory("iaasAlarmPolicyService",e),angular.module("monitoring").factory("iaasAlarmStatusService",t)}(),function(){"use strict";function a(a,e,t,s,n,i){var o=this;o.scope=a,o.Math=Math,o.scope.loading=!0,o.checkedCnt=0;var l=10,r=0;o.alarmNotificationList=[],(o.getAlarmNotificationList=function(){var a={offset:r,limit:l};i.alarmNotificationList(a).then(function(a){a.data.data&&(o.alarmNotificationList=o.alarmNotificationList.concat(a.data.data)),o.totalCount=a.data.totalCnt,o.moreButton="<strong>더 보 기</strong> (총 "+o.totalCount+" 건)",o.alarmNotificationList&&(r=o.alarmNotificationList.length),o.alarmNotificationList.length>=o.totalCount&&(o.moreButton="(총 "+o.totalCount+"건)"),o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),o.checkAllNotification=function(){angular.forEach(o.alarmNotificationList,function(a){o.selectAll?(a.select=!0,o.checkedCnt++):(a.select=!1,o.checkedCnt--)})},o.checkNotification=function(a){a.select?o.checkedCnt++:o.checkedCnt--},o.getAlarmNotification=function(a){o.detail=angular.copy(a)},o.saveAlarmNotification=function(){o.scope.loading=!0;var a={name:o.detail.name,address:o.detail.email},t=null;o.detail.id?(a.id=o.detail.id,a.period=o.detail.period,t=i.updateAlarmNotification(a)):t=i.insertAlarmNotification(a),t.then(function(){o.getAlarmNotificationList(),o.scope.loading=!1},function(a){o.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},o.deleteAlarmNotification=function(){var a=0,t=0;angular.forEach(o.alarmNotificationList,function(s,l){s.select&&(a++,i.deleteAlarmNotification(s.id).then(function(){o.alarmNotificationList.splice(l,1),o.checkedCnt--,t++,a==t&&o.getAlarmNotificationList()},function(a){o.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}))})},o.scope.$on("broadcast:reload",function(){o.scope.loading=!0,o.checkedCnt=0,l=10,r=0,o.alarmNotificationList=[],o.getAlarmNotificationList()})}function e(a,e,t,s,n){var i=this;i.scope=a,i.Math=Math,i.scope.loading=!0,i.checkedCnt=0;var o=10,l=0;i.alarmPolicyList=[],i.searchAlarmPolicy=function(){l=0,i.alarmPolicyList=[],i.totalCount=0,i.getAlarmPolicyList()},(i.getAlarmPolicyList=function(){var a={offset:l,limit:o};i.searchCondition&&(a.name=i.searchCondition),i.selectedSeverity&&(a.severity=i.selectedSeverity),n.alarmPolicyList(a).then(function(a){if(a.data.data&&(i.alarmPolicyList=i.alarmPolicyList.concat(a.data.data),i.alarmPolicyList.length>0))for(var e=0;e<i.alarmPolicyList.length;e++)"HIGH"==i.alarmPolicyList[e].severity&&(i.alarmPolicyList[e].severity="WARNING");i.totalCount=a.data.totalCnt,i.moreButton="<strong>더 보 기</strong> (총 "+i.totalCount+" 건)",i.alarmPolicyList&&(l=i.alarmPolicyList.length),i.alarmPolicyList.length>=i.totalCount&&(i.moreButton="(총 "+i.totalCount+"건)"),i.scope.loading=!1},function(a){i.scope.loading=!1,e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),i.checkAllPolicy=function(){angular.forEach(i.alarmPolicyList,function(a){i.selectAll?(a.select=!0,i.checkedCnt++):(a.select=!1,i.checkedCnt--)})},i.checkPolicy=function(a){a.select?i.checkedCnt++:i.checkedCnt--},i.scope.alarmSeverityClass=function(a){var e="";return"CRITICAL"==a?e="critical":"WARNING"==a&&(e="warning"),e},i.deleteAlarmPolicy=function(){var a=0,o=0;angular.forEach(i.alarmPolicyList,function(l){l.select&&(a++,n.deleteAlarmPolicy(l.id).then(function(){i.checkedCnt--,o++,a==o&&(t.location.reload(),i.scope.loading=!1)},function(a){i.scope.loading=!1,e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}))})},i.scope.$on("broadcast:reload",function(){i.scope.loading=!0,i.searchAlarmPolicy()})}function t(a,e,t,s,n,i,o,l){function r(){d.getTenantList()}function c(a){d.getInstanceList(a)}var d=this;d.scope=a,d.Math=Math,d.scope.loading=!0,d.pageTitle="new"==e.id?null:"Alarm Policy Update",d.expressionYn="new"==e.id?!1:!0,d.alarmPolicy={},d.alarmPolicy.severity="HIGH",d.alarmPolicy.matchBy="hostname",d.getAlarmPolicy=function(){i.alarmPolicy(e.id).then(function(a){d.alarmPolicy=a.data;var e=d.alarmPolicy.expression,t=e.indexOf(" and ")>=0?" and ":" or ",s=" and "==t?" or ":" and ",n=e.split(t);for(var i in n)if(n[i].indexOf(s)>=0){var o=n[i].split(s);n.splice(i,1);for(var l in o)n.push(o[l])}var r=[];angular.forEach(n,function(a){a=a.replace(/(\s*)/g,"");var e={};e.func=a.substr(0,a.indexOf("("));var t=a.slice(a.indexOf("(")+1,a.indexOf(")"));e.metric=t,t.indexOf("{")>=0&&(e.metric=t.substr(0,t.indexOf("{")),e.dimension=t.slice(t.indexOf("{")+1,t.indexOf("}")));var s=a.substr(a.indexOf(")")+1),n=s.indexOf("=")<0?1:2;e.operation=s.substr(0,n),e.value=parseInt(s.substr(n)),r.push(e)}),d.alarmPolicy.arrExpression=r,d.scope.loading=!1},function(a){d.scope.loading=!1,t(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},d.measurementType="",d.scope.showDimensionModal=!1,d.selDimension="hostname";var m=0;d.setDimensionModal=function(a,e){d.scope.loadingModal=!0;var s=a.dimension;switch(m=e,d.scope.dimensionTitle=void 0==s?"Set Dimension":s,s?(d.scope.dimensionTitle=s,d.modalDimension=s.substr(0,s.indexOf("=")),d.modalDimensionValue=s.substr(s.indexOf("=")+1)):(d.modalDimension="hostname",d.scope.dimensionTitle="Set Dimension"),d.scope.showDimensionModal=!d.scope.showDimensionModal,a.metric){case"cpu.percent":case"mem.usable_perc":case"disk.space_used_perc":d.measurementType="node";break;case"vm.cpu.utilization_norm_perc":case"vm.mem.free_perc":d.measurementType="vm";break;default:d.measurementType="node"}"node"==d.measurementType?i.nodeList().then(function(a){d.nodeList=a.data,d.selDimensionValue1=d.nodeList[0],d.scope.loadingModal=!1},function(a){d.scope.loadingModal=!1,t(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}):r()},d.setDimension=function(){var a="node"==d.measurementType?"hostname="+d.selDimensionValue1:"hostname="+d.selDimensionValue2.name;d.alarmPolicy.arrExpression[m].dimension=a},d.scope.showAlarmActionModal=!1,d.scope.alarmActionTitle="Alarm Receiver",d.setAlarmActionModal=function(){d.scope.loadingModal=!0,d.scope.showAlarmActionModal=!d.scope.showAlarmActionModal,p=10,u=0,d.rAlarmNotificationList=[],d.rGetAlarmNotificationList()},d.selectedAlarmAction=[],d.selectAlarmAction=function(a){d.selectedAlarmAction.indexOf(a)>=0?(a.select="",d.selectedAlarmAction.splice(d.selectedAlarmAction.indexOf(a),1)):(a.select="active",d.selectedAlarmAction.push(a))},d.setAlarmAction=function(){d.selectedAlarmAction&&(d.alarmPolicy.alarmAction?d.alarmPolicy.alarmAction=d.alarmPolicy.alarmAction.concat(d.selectedAlarmAction):(d.alarmPolicy.alarmAction=[],d.alarmPolicy.alarmAction=d.selectedAlarmAction),d.selectedAlarmAction=[])},d.deleteAlarmAction=function(a){d.alarmPolicy.alarmAction.splice(a,1)},d.addAlarmPolicy=function(){d.alarmPolicy.arrExpression.push({func:"max",metric:"cpu.percent",operation:">"}),d.scope.loading=!1},"new"==e.id?(d.alarmPolicy.arrExpression=[],d.addAlarmPolicy()):d.getAlarmPolicy(),d.saveAlarmPolicy=function(){d.scope.loadingModal=!0;var a="",o=d.alarmPolicy.arrExpression;for(var l in o){if(a+=o[l].func+"("+o[l].metric,o[l].dimension&&(a+="{"+o[l].dimension+"}"),a+=") "+o[l].operation+" "+o[l].value,null==o[l].value)return alert("Expression의 Value 값을 입력해 주세요."),angular.element("#expressionValue").focus(),d.scope.loadingModal=!1,!1;l+1<o.length&&(a+=" "+o[l].gate+" ")}var r=[];if(angular.forEach(d.alarmPolicy.alarmAction,function(a){r.push(a.id)}),0==r.length)return alert("Alarm Receiver를 등록해 주세요."),angular.element("#btnPlus").focus(),d.scope.loadingModal=!1,!1;var c={name:d.alarmPolicy.name,severity:d.alarmPolicy.severity,expression:a,alarm_actions:r,description:d.alarmPolicy.description},m="";"new"==e.id?(c.match_by=[d.alarmPolicy.matchBy],m="insertAlarmPolicy"):(c.id=e.id,c.match_by=d.alarmPolicy.matchBy,m="updateAlarmPolicy"),i[m](c).then(function(){d.scope.loadingModal=!1,s.path("/iaas/alarm/policy")},function(a){d.scope.loadingModal=!1,t(function(){n(a.data,{code:a.status,message:a.data.message})},500)}),d.scope.loadingModal=!1},d.getTenantList=function(){o.tenantSummary().then(function(a){d.tenantList=a.data,d.selDimensionValue1=d.tenantList[0],c(d.selDimensionValue1.id)},function(a){d.scope.loadingModal=!1,t(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},d.getInstanceList=function(a){d.scope.loadingModal=!0;var e={hostname:"",limit:100,marker:""};o.tenantInstanceList(a,e).then(function(a){d.instanceList=a.data.metric,d.selDimensionValue2=d.instanceList[0],d.scope.loadingModal=!1},function(a){d.scope.loadingModal=!1,t(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})};var p=10,u=0;d.rAlarmNotificationList=[],d.rGetAlarmNotificationList=function(){var a={offset:u,limit:p};l.alarmNotificationList(a).then(function(a){a.data.data&&(d.rAlarmNotificationList=d.rAlarmNotificationList.concat(a.data.data)),d.rTotalCount=a.data.totalCnt,d.rMoreButton="<strong>더 보 기</strong> (총 "+d.rTotalCount+" 건)",d.rAlarmNotificationList&&(u=d.rAlarmNotificationList.length,d.alarmPolicy.alarmAction&&angular.forEach(d.alarmPolicy.alarmAction,function(a){angular.forEach(d.rAlarmNotificationList,function(e){a.id==e.id&&(e.disabled=!0)})})),d.rAlarmNotificationList.length>=d.rTotalCount&&(d.rMoreButton="(총 "+d.rTotalCount+"건)"),d.scope.loadingModal=!1},function(a){d.scope.loadingModal=!1,t(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})}}function s(a,e,t,s,n){var i=this;i.scope=a,i.Math=Math,i.scope.loading=!0,"undefined"!=t.search().severity&&""!=t.search().severity&&(i.selectedSeverity=t.search().severity);var o=10,l=0;i.alarmStatusList=[],i.searchAlarmStatus=function(){l=0,i.alarmStatusList=[],i.totalCount=0,i.getAlarmStatusList()},i.selectedState="ALARM",(i.getAlarmStatusList=function(){var a={offset:l,limit:o,state:i.selectedState};i.selectedSeverity&&(a.severity=i.selectedSeverity),n.alarmStatusList(a).then(function(a){if(a.data.data&&(i.alarmStatusList=i.alarmStatusList.concat(a.data.data),i.alarmStatusList.length>0))for(var e=0;e<i.alarmStatusList.length;e++)"HIGH"==i.alarmStatusList[e].severity&&(i.alarmStatusList[e].severity="WARNING");i.totalCount=a.data.totalCnt,i.moreButton="<strong>더 보 기</strong> (총 "+i.totalCount+" 건)",i.alarmStatusList&&(l=i.alarmStatusList.length),i.alarmStatusList.length>=i.totalCount&&(i.moreButton="(총 "+i.totalCount+"건)"),t.search("severity",null),i.scope.loading=!1},function(a){i.scope.loading=!1,e(function(){s(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),i.scope.alarmSeverityClass=function(a){var e="";return"CRITICAL"==a?e="critical":"WARNING"==a&&(e="warning"),e},i.scope.$on("broadcast:reload",function(){i.scope.loading=!0,i.searchAlarmStatus()})}function n(a,e,t,s,n,i){var o=this;o.scope=a,o.Math=Math,o.scope.loading=!0;var l=e.id;(o.getAlarmStatus=function(){i.alarmStatus(l).then(function(a){o.detail=a.data,""!=o.detail.severity&&"HIGH"==o.detail.severity&&(o.detail.severity="WARNING"),o.getAlarmStatusHistory("1d"),o.getAlarmActionList()},function(a){o.scope.loading=!1,s(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),angular.element(".alarmHistory").height(angular.element(".alarmDetail").height()),angular.element(t).on("resize",function(){angular.element(".alarmHistory").height(angular.element(".alarmDetail").height())}),o.getAlarmStatusHistory=function(a){o.timeRange=a;var e={timeRange:a};i.alarmStatusHistoryList(l,e).then(function(a){o.alarmStatusHistoryList=a.data,o.scope.loading=!1},function(a){o.scope.loading=!1,s(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},o.getAlarmActionList=function(){i.alarmActionList(l).then(function(a){o.alarmActionList=a.data},function(a){o.scope.loading=!1,s(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},o.insertAlarmAction=function(){if(o.scope.loading=!0,""==o.alarmActionDesc||null==o.alarmActionDesc||void 0==o.alarmActionDesc)return o.scope.loading=!1,void n("",{code:null,message:"조치내용이 입력되지 않았습니다."});var a={alarmId:l,alarmActionDesc:o.alarmActionDesc};i.insertAlarmAction(a).then(function(){o.getAlarmActionList(),o.alarmActionDesc="",o.scope.loading=!1},function(a){o.scope.loading=!1,s(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},o.setModifying=function(a){o.modifying=a},o.updateAction=function(a){o.scope.loading=!0,o.modifying=-1;var e={alarmActionDesc:a.alarmActionDesc};i.updateAlarmAction(a.id,e).then(function(){o.getAlarmActionList(),o.scope.loading=!1},function(a){o.scope.loading=!1,s(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},o.deleteAction=function(a){o.scope.loading=!0,i.deleteAlarmAction(a).then(function(){o.getAlarmActionList(),o.scope.loading=!1},function(a){o.scope.loading=!1,s(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})}}a.$inject=["$scope","$timeout","$window","$sce","$exceptionHandler","iaasAlarmNotificationService"],e.$inject=["$scope","$timeout","$window","$exceptionHandler","iaasAlarmPolicyService"],t.$inject=["$scope","$stateParams","$timeout","$location","$exceptionHandler","iaasAlarmPolicyService","tenantService","iaasAlarmNotificationService"],s.$inject=["$scope","$timeout","$location","$exceptionHandler","iaasAlarmStatusService"],n.$inject=["$scope","$stateParams","$window","$timeout","$exceptionHandler","iaasAlarmStatusService"],angular.module("monitoring").controller("IaasAlarmNotificationController",a),angular.module("monitoring").controller("IaasAlarmPolicyController",e),angular.module("monitoring").controller("AlarmPolicyDetailController",t),angular.module("monitoring").controller("IaasAlarmStatusController",s),angular.module("monitoring").controller("AlarmStatusDetailController",n)}(),function(){"use strict";angular.module("monitoring").directive("switch",function(){return{restrict:"AE",replace:!0,transclude:!0,template:function(a,e){var t="";return t+="<span",t+=' class="switch'+(e["class"]?" "+e["class"]:"")+'"',t+=e.ngModel?' ng-click="'+e.ngModel+"=!"+e.ngModel+(e.ngChange?"; "+e.ngChange+'()"':'"'):"",t+=' ng-class="{ checked:'+e.ngModel+' }"',t+=">",t+="<small></small>",t+='<input type="checkbox"',t+=e.id?' id="'+e.id+'"':"",t+=e.name?' name="'+e.name+'"':"",t+=e.ngModel?' ng-model="'+e.ngModel+'"':"",t+=' style="display:none" />',t+='<span class="switch-text">',t+=e.on?'<span class="on">'+e.on+"</span>":"",t+=e.off?'<span class="off">'+e.off+"</span>":" ",t+="</span>"}}})}(),function(){"use strict";function a(){function a(a,e,t){a.alarmSelected=!1,t.path().indexOf("/manage_node")>-1?a.selected="imn":t.path().indexOf("/compute_node")>-1?a.selected="icn":t.path().indexOf("/tenant")>-1?a.selected="itt":t.path().indexOf("/alarm/notification")>-1?(a.selected="ial",a.subSelected="ialn",a.alarmSelected=!0):t.path().indexOf("/alarm/policy")>-1?(a.selected="ial",a.subSelected="iapc",a.alarmSelected=!0):t.path().indexOf("/alarm/status")>-1?(a.selected="ial",a.subSelected="ials",a.alarmSelected=!0):(a.selected="",a.subSelected=""),a.goPage=function(a){t.path(a)},a.reload=function(){e.$broadcast("broadcast:reload")}}a.$inject=["$scope","$rootScope","$location"];var e={restrict:"E",templateUrl:"app/component/sidebar/iaasSidebar.html",scope:{creationDate:"=",eventHandler:"&ngClick"},controller:a,controllerAs:"iaasSide",bindToController:!0};return e}function e(){function a(a,e,t){a.alarmSelected=!1,t.path().indexOf("/bosh")>-1?a.selected="pbs":t.path().indexOf("/paasta")>-1?a.selected="ppt":t.path().indexOf("/container")>-1?a.selected="pct":t.path().indexOf("/alarm/policy")>-1?(a.selected="pal",a.subSelected="papc",a.alarmSelected=!0):t.path().indexOf("/alarm/status")>-1?(a.selected="pal",a.subSelected="pasu",a.alarmSelected=!0):t.path().indexOf("/alarm/statistics")>-1?(a.selected="pal",a.subSelected="past",a.alarmSelected=!0):(a.selected="",a.subSelected=""),a.goPage=function(a){t.path(a)},a.reload=function(){e.$broadcast("broadcast:reload")}}a.$inject=["$scope","$rootScope","$location"];var e={restrict:"E",templateUrl:"app/component/sidebar/paasSidebar.html",scope:{creationDate:"=",eventHandler:"&ngClick"},controller:a,controllerAs:"paasSide",bindToController:!0};return e}angular.module("monitoring").directive("acmeIaasSidebar",a).directive("acmePaasSidebar",e)}(),function(){"use strict";function a(){function a(a,e,t,s,n,i,o,l,r,c,d,m,p,u){var g=this;g.scope=a,null!=c.getUser()&&""!=c.getUser()&&(g.scope.username=c.getUser().name,g.scope.email=c.getUser().email,g.scope.sysType=c.getUser().sysType,"IaaS"==g.scope.sysType?g.scope.brandUrl="#/iaas/main":"PaaS"==g.scope.sysType?g.scope.brandUrl="#/paas/main":"S"==c.getUser().i2&&"F"==c.getUser().p2?g.scope.brandUrl="#/iaas/main":"F"==c.getUser().i2&&"S"==c.getUser().p2?g.scope.brandUrl="#/paas/main":"F"==c.getUser().i2&&"F"==c.getUser().p2?g.scope.brandUrl="#/member/info":g.scope.brandUrl="#/",g.scope.iaasMenuAuth=c.getUser().i2,g.scope.paasMenuAuth=c.getUser().p2),t.path().indexOf("/iaas")>-1?g.scope.selected="iaas":t.path().indexOf("/paas")>-1?g.scope.selected="paas":g.scope.selected="",(g.scope.getAlarms=function(){var a={state:"ALARM",resolveStatus:1};g.scope.alarms=0,("ALL"==c.getUser().sysType||"IaaS"==c.getUser().sysType)&&p.alarmStatusCount(a).then(function(a){g.scope.iaasAlarms=a.data.totalCnt,g.scope.alarms=g.scope.alarms+g.scope.iaasAlarms},function(a){n(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}),("ALL"==c.getUser().sysType||"PaaS"==c.getUser().sysType)&&u.alarmStatusCount(a).then(function(a){g.scope.paasAlarms=a.data.totalCnt,g.scope.alarms=g.scope.alarms+g.scope.paasAlarms},function(a){n(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),(g.scope.spinning=function(){g.scope.spin=!0;var a=s(function(){0==angular.element("body").find(".fa-spinner").is(":visible")&&(s.cancel(a),g.scope.spin=!1)},500)})(),g.scope.logout=function(){m.logout().then(function(){c.clear(),t.path("/login")},function(a){n(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500),c.clear(),t.path("/login")})},g.scope.reload=function(){g.scope.getAlarms(),g.scope.spinning(),e.$broadcast("broadcast:reload")},g.scope.selTimeRange=r.getDefaultTimeRange(),g.scope.selGroupBy=r.getGroupBy(),g.scope.selRefreshTime=r.getRefreshTime(),g.scope.timeRangeFrom=o(),g.scope.timeRangeTo=o(),g.scope.timeRangeTo.startOf("day").fromNow(),g.scope.optionsFrom={format:"YYYY.MM.DD HH:mm"},g.scope.optionsTo={format:"YYYY.MM.DD HH:mm"},g.scope.updateTimeRange=function(a,e){g.scope.optionsFrom.maxDate=e,g.scope.optionsTo.minDate=a,g.scope.optionsFromDate=g.scope.optionsFrom.maxDate._d,g.scope.optionsToDate=g.scope.optionsTo.minDate._d,"custom"==g.scope.selTimeRange&&(g.scope.selGroupBy=l.selectGroupingByCustomTimeRange(e,a))},n(function(){g.scope.updateTimeRange(g.scope.timeRangeTo,g.scope.timeRangeFrom)}),(g.scope.getTimeRangeString=function(){n(function(){if("custom"==g.scope.selTimeRange){var a=1===(new Date(g.scope.optionsToDate).getMonth()+1).toString().length?"0"+(new Date(g.scope.optionsToDate).getMonth()+1).toString():(new Date(g.scope.optionsToDate).getMonth()+1).toString(),e=1===new Date(g.scope.optionsToDate).getDate().toString().length?"0"+new Date(g.scope.optionsToDate).getDate().toString():new Date(g.scope.optionsToDate).getDate().toString(),t=1===new Date(g.scope.optionsToDate).getHours().toString().length?"0"+new Date(g.scope.optionsToDate).getHours().toString():new Date(g.scope.optionsToDate).getHours().toString(),s=1===new Date(g.scope.optionsToDate).getMinutes().toString().length?"0"+new Date(g.scope.optionsToDate).getMinutes().toString():new Date(g.scope.optionsToDate).getMinutes().toString(),n=1===new Date(g.scope.optionsToDate).getSeconds().toString().length?"0"+new Date(g.scope.optionsToDate).getSeconds().toString():new Date(g.scope.optionsToDate).getSeconds().toString(),i=1===(new Date(g.scope.optionsFromDate).getMonth()+1).toString().length?"0"+(new Date(g.scope.optionsFromDate).getMonth()+1).toString():(new Date(g.scope.optionsFromDate).getMonth()+1).toString(),o=1===new Date(g.scope.optionsFromDate).getDate().toString().length?"0"+new Date(g.scope.optionsFromDate).getDate().toString():new Date(g.scope.optionsFromDate).getDate().toString(),l=1===new Date(g.scope.optionsFromDate).getHours().toString().length?"0"+new Date(g.scope.optionsFromDate).getHours().toString():new Date(g.scope.optionsFromDate).getHours().toString(),r=1===new Date(g.scope.optionsFromDate).getMinutes().toString().length?"0"+new Date(g.scope.optionsFromDate).getMinutes().toString():new Date(g.scope.optionsFromDate).getMinutes().toString(),c=1===new Date(g.scope.optionsFromDate).getSeconds().toString().length?"0"+new Date(g.scope.optionsFromDate).getSeconds().toString():new Date(g.scope.optionsFromDate).getSeconds().toString(),d=new Date(g.scope.optionsToDate).getFullYear()+"."+a+"."+e+" "+t+":"+s+":"+n,m=new Date(g.scope.optionsFromDate).getFullYear()+"."+i+"."+o+" "+l+":"+r+":"+c;
g.scope.timeRangeString=d+" to "+m}else g.scope.timeRangeString=angular.element("input[name='radioTimeRange']:checked").parent().text()})})(),g.scope.saveTimeRange=function(){"custom"==g.scope.selTimeRange?(r.putDefaultTimeRange(g.scope.selTimeRange),r.putTimeRangeFrom(Number(g.scope.timeRangeFrom)),r.putTimeRangeTo(Number(g.scope.timeRangeTo))):(r.putDefaultTimeRange(g.scope.selTimeRange),r.putGroupBy(g.scope.selGroupBy)),r.putRefreshTime(g.scope.selRefreshTime);var a={selTimeRange:g.scope.selTimeRange,selGroupBy:g.scope.selGroupBy,selRefreshTime:g.scope.selRefreshTime,timeRangeFrom:g.scope.timeRangeFrom,timeRangeTo:g.scope.timeRangeTo};angular.element("body").find(".modal-backdrop").hide(),e.$broadcast("broadcast:saveTimeRange",a),g.scope.getTimeRangeString()},g.scope.selectGroupBy=function(){g.scope.selGroupBy=l.getGroupingByTimeRange(g.scope.selTimeRange,g.scope.timeRangeFrom,g.scope.timeRangeTo)};var v;(g.scope.runRefreshInterval=function(){if("off"!==r.getRefreshTime()&&angular.isUndefined(r.getRefreshTime())){var a=l.getMillisecondsRefreshTime(r.getRefreshTime());v=s(function(){e.$broadcast("broadcast:reload")},a)}})(),g.scope.$on("broadcast:reload",function(){s.cancel(v),g.scope.runRefreshInterval()}),g.scope.$on("$stateChangeStart",function(){s.cancel(v)}),g.scope.timeRangeTop=function(a){var e=angular.element(a.target).prop("offsetTop");angular.element(".time-range").css("top",e+180-angular.element(window).scrollTop())}}a.$inject=["$scope","$rootScope","$location","$interval","$timeout","$exceptionHandler","moment","common","cookies","cache","constants","loginService","iaasAlarmStatusService","paasAlarmStatusService"];var e={restrict:"E",templateUrl:"app/component/navbar/navbar.html",scope:{creationDate:"=",eventHandler:"&ngClick"},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("monitoring").directive("acmeNavbar",a)}(),function(){"use strict";function a(a){return{templateUrl:"app/component/modal/modal.html",restrict:"E",transclude:!0,replace:!0,scope:{modalTitle:"=",modalVisible:"="},link:function(e,t,s){e.modalTitle=s.modalTitle,a(function(){e.$watch("modalVisible",function(a){1==a?t.modal("show"):t.modal("hide")}),e.$watch("modalTitle",function(a){e.modalTitle=a})}),t.on("shown.bs.modal",function(){e.$apply(function(){e.$parent[s.modalVisible]=!0})}),t.on("hidden.bs.modal",function(){e.$apply(function(){e.$parent[s.modalVisible]=!1})})}}}a.$inject=["$timeout"],angular.module("monitoring").directive("modal",a)}(),function(){"use strict";function a(a,e){function t(t,s){var n=null;t.$watch("isShown",function(i,o){1!=t.isModal&&i&&(s.css("top",.4*a.innerHeight+a.pageYOffset+"px"),s.parent().css("margin-top","-20px"),n=e(function(){a.innerHeight<s.parent().parent()[0].scrollHeight?s.parent().height(s.parent().parent()[0].scrollHeight):s.parent().height(a.innerHeight-51)},10,10)),o!=i&&1==o&&e.cancel(n)})}var s={restrict:"A",scope:{isShown:"=",isModal:"="},link:t};return s}a.$inject=["$window","$interval"],angular.module("monitoring").directive("loading",a)}(),function(){"use strict";function a(a,e){var t={};return t.init=function(){var t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return a.get(e.join,t)},t.memberInfoView=function(t){var s={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return a.post(e.memberInfoView,{userid:t},s)},t.duplicateConfirmId=function(t){return a.get(e.joinCheckId.replace(":id",t))},t.iaasDuplicateCheckId=function(t){var s={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return a.get(e.joinCheckDuplicationIaas.replace(":id",t),s)},t.paasDuplicateCheckId=function(t){var s={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return a.get(e.joinCheckDuplicationPaas.replace(":id",t),s)},t.join=function(t){var s={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return a.post(e.join,t,s)},t.save=function(t){var s={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return a.patch(e.memberInfoSave,t,s)},t.iaasCertificationConfirm=function(t){var s={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return a.post(e.joinCheckIaas,t,s)},t.paasCertificationConfirm=function(t){var s={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return a.post(e.joinCheckPaas,t,s)},t}a.$inject=["$http","apiUris"],angular.module("monitoring").factory("memberService",a)}(),function(){"use strict";function a(a,e,t,s,n,i,o,l,r){var c=this;c.scope=a,c.memberInfo={},c.scope.sysConfig="",t.path().indexOf("/join")>-1?(angular.element(".wrapper").css("margin-top",0),c.scope.type=!1):c.scope.type=!0,(c.getInit=function(){r.init().then(function(a){c.scope.sysConfig=a.data,c.iaasCertificationMsg="인증이 필요합니다.",c.paasCertificationMsg="인증이 필요합니다.","IaaS"==c.scope.sysConfig?(c.rightClass="col-md-0",c.leftClass="col-md-12",c.rightShow=!1,c.leftShow=!0,c.memberInfo.iaasUserUseYn="Y",c.cancelUrl="/iaas/main"):"PaaS"==c.scope.sysConfig?(c.rightClass="col-md-12",c.leftClass="col-md-0",c.rightShow=!0,c.leftShow=!1,c.memberInfo.paasUserUseYn="Y",c.cancelUrl="/paas/main"):(c.rightClass="col-md-6",c.leftClass="col-md-6",c.rightShow=!0,c.leftShow=!0,c.pwShow=!0,c.cancelUrl="/"),null!=o.getUser()&&(c.pwShow=!1,c.getMemberInfoView(),"S"==o.getUser().i2&&"F"==o.getUser().p2?c.cancelUrl="/iaas/main":"F"==o.getUser().i2&&"S"==o.getUser().p2?c.cancelUrl="/paas/main":"F"==o.getUser().i2&&"F"==o.getUser().p2?c.cancelUrl="/member/info":c.cancelUrl="/")},function(a){c.scope.loading=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),c.getMemberInfoView=function(){var a=o.getUser().name;r.memberInfoView(a).then(function(a){c.memberInfo=a.data,c.memberInfo.userPw="",c.memberInfo.userPwConfirm="",("ALL"==o.getUser().sysType&&"Y"==a.data.iaasUserUseYn||"IaaS"==o.getUser().sysType&&"Y"==a.data.iaasUserUseYn)&&c.certificationConfirm("IaaS",!0),("ALL"==o.getUser().sysType&&"Y"==a.data.paasUserUseYn||"PaaS"==o.getUser().sysType&&"Y"==a.data.paasUserUseYn)&&c.certificationConfirm("PaaS",!0),c.scope.loading=!1},function(a){c.scope.loading=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},c.duplicateConfirm=function(a){null==o.getUser()&&"userId"==a&&""!=c.memberInfo.userId&&void 0!=c.memberInfo.userId&&r.duplicateConfirmId(c.memberInfo.userId).then(function(a){null!=a.data&&""!=a.data&&(c.alertModal("회원가입","중복된 아이디 입니다.",void 0,!1,!0),c.memberInfo.userId="")},function(a){e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}),"iaasUser"==a&&""!=c.memberInfo.iaasUserId&&void 0!=c.memberInfo.iaasUserId?"Y"==c.memberInfo.iaasUserUseYn?r.iaasDuplicateCheckId(c.memberInfo.iaasUserId).then(function(a){a.data==c.memberInfo.iaasUserId?(c.memberInfo.iaasUserChck=!1,c.iaasCertificationMsg="이미 사용중이 아이디 입니다.",c.memberInfo.iaasUserId=""):c.iaasCertificationMsg="인증이 필요합니다."},function(a){e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}):(c.memberInfo.iaasUserId="",alert("IaaS 사용여부를 선택해주세요.")):"paasUser"==a&&""!=c.memberInfo.paasUserId&&void 0!=c.memberInfo.paasUserId&&("Y"==c.memberInfo.paasUserUseYn?r.paasDuplicateCheckId(c.memberInfo.paasUserId).then(function(a){a.data==c.memberInfo.paasUserId?(c.memberInfo.paasUserChck=!1,c.paasCertificationMsg="이미 사용중이 아이디 입니다.",c.memberInfo.paasUserId=""):c.paasCertificationMsg="인증이 필요합니다."},function(a){e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}):(c.memberInfo.paasUserId="",alert("PaaS 사용여부를 선택해주세요.")))},c.join=function(){c.scope.loading=!0,r.join(c.memberInfo).then(function(){c.alertModal("회원가입","회원 가입이 완료 되었습니다. 로그인 화면으로 이동 합니다.",c.movePage,!0,!1),c.scope.loading=!1},function(a){c.scope.loading=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},c.save=function(){c.scope.loading=!0,r.save(c.memberInfo).then(function(a){var e=a.data;o.setUser({name:e.username,email:e.userEmail,sysType:e.sysType,i1:e.authI1,i2:e.authI2,p1:e.authP1,p2:e.authP2},l.expire),c.scope.loading=!1,c.alertModal("회원정보 수정","회원 정보 수정이 완료 되었습니다.",c.movePage,!0,!1)},function(a){c.scope.loading=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},c.userUseConfirm=function(a){"iaas"==a?"N"==c.memberInfo.iaasUserUseYn&&(c.memberInfo.iaasUserId="",c.memberInfo.iaasUserPw="",c.memberInfo.iaasUserChck=!1):"N"==c.memberInfo.paasUserUseYn&&(c.memberInfo.paasUserId="",c.memberInfo.paasUserPw="",c.memberInfo.paasUserChck=!1)},c.alertModal=function(a,e,t,s,n){c.modalReset(),c.modalTitle=a,c.modalMessage=e,c.confirmCallback=t,c.alertShow=s,c.closeShow=n,angular.element("#alertModal").modal("show")},c.movePage=function(a){""!=a&&null!=a?t.path(a):c.scope.type?s.location.reload():(angular.element(".wrapper").css("margin-top",70),angular.element(n[0].querySelector(".modal-backdrop")).removeClass("modal-backdrop"),t.path("/login"))},c.certificationConfirm=function(a,t){"IaaS"==a?r.iaasCertificationConfirm(c.memberInfo).then(function(a){c.scope.loading=!1,""!=a.data&&"unauthorized"!=a.data?c.memberInfo.iaasUserChck=!0:(c.memberInfo.iaasUserChck=!1,t||("unauthorized"==a.data?c.iaasCertificationMsg="에 일치하는 사용자 정보가 존재 하지 않습니다. ID/PASSWORD를 확인하세요!":c.iaasCertificationMsg="인증에 실패 하였습니다."))},function(a){c.scope.loading=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}):"PaaS"==a&&r.paasCertificationConfirm(c.memberInfo).then(function(a){c.scope.loading=!1,""!=a.data&&"bad_credentials"!=a.data&&"account_locked"!=a.data&&"not_admin_account"!=a.data?c.memberInfo.paasUserChck=!0:(c.memberInfo.paasUserChck=!1,t||("bad_credentials"==a.data?c.paasCertificationMsg="에 일치하는 사용자 정보가 존재 하지 않습니다. ID/PASSWORD를 확인하세요!":"account_locked"==a.data?c.paasCertificationMsg="계정이 잠겨있습니다. 잠시 후 다시 시도하시기 바랍니다.":"not_admin_account"==a.data?c.paasCertificationMsg="관리자 권한이 없는 사용자 입니다.":c.paasCertificationMsg="인증에 실패 하였습니다."))},function(a){c.scope.loading=!1,e(function(){i(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},c.certifyChange=function(a){"IaaS"==a?c.memberInfo.iaasUserChck=!1:"PaaS"==a&&(c.memberInfo.paasUserChck=!1)},c.confirmJoin=function(){c.modalReset(),c.modalTitle="회원 등록",c.validation()?(c.confirmShow=!0,c.modalMessage="회원 등록을 하시겠습니까?",c.confirmCallback=c.join):c.confirmShow=!1},c.confirmSave=function(){c.modalReset(),c.modalTitle="회원정보 수정",c.validation()?(c.confirmShow=!0,c.modalMessage="회원정보를 수정 하시겠습니까?",c.confirmCallback=c.save):c.confirmShow=!1},c.modalReset=function(){c.modalTitle="",c.modalMessage="",c.confirmCallback=void 0},c.validation=function(){if("IaaS"==c.scope.sysConfig){if("N"==c.memberInfo.iaasUserUseYn||void 0==c.memberInfo.iaasUserUseYn)return c.modalMessage="IaaS 인증을 받으셔야 합니다.",!1}else if("PaaS"==c.scope.sysConfig){if("N"==c.memberInfo.paasUserUseYn||void 0==c.memberInfo.paasUserUseYn)return c.modalMessage="PaaS 인증을 받으셔야 합니다.",!1}else{if(!("N"!=c.memberInfo.iaasUserUseYn&&void 0!=c.memberInfo.iaasUserUseYn||"N"!=c.memberInfo.paasUserUseYn&&void 0!=c.memberInfo.paasUserUseYn))return c.modalMessage="IaaS 또는 PaaS 인증을 받으셔야 합니다.",!1;if("Y"==c.memberInfo.iaasUserUseYn&&!c.memberInfo.iaasUserChck)return c.modalMessage="IaaS 아이디와 비밀번호 입력 후 인증을 해야합니다.",!1;if("Y"==c.memberInfo.paasUserUseYn&&!c.memberInfo.paasUserChck)return c.modalMessage="PaaS 아이디와 비밀번호 입력 후 인증을 해야합니다.",!1}return!0}}a.$inject=["$scope","$timeout","$location","$window","$document","$exceptionHandler","cache","constants","memberService"],angular.module("monitoring").controller("MemberController",a)}(),function(){"use strict";function a(a,e){var t={};return t.ping=function(){var t={headers:{Accept:"application/json"}};return a.get(e.ping,t)},t.authenticate=function(t){var s={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return a.post(e.login,t,s)},t.logout=function(){return a.post(e.logout)},t}a.$inject=["$http","apiUris"],angular.module("monitoring").factory("loginService",a)}(),function(){"use strict";function a(a,e,t,s,n,i,o,l,r){var c=this;c.scope=a,c.Math=Math,angular.element(".wrapper").css("min-height",0),angular.element(".wrapper").css("margin-top",0),angular.element(".loginWrapper").css("height","100%"),c.credentials={username:"",password:"",rememberMe:!1},c.login=function(){c.scope.loading=!0;var a={username:c.email,password:c.password};r.ping().then(function(){r.authenticate(a).then(function(a){if(a){var s=a.data;o.setUser({name:s.username,email:s.userEmail,sysType:s.sysType,i1:s.authI1,i2:s.authI2,p1:s.authP1,p2:s.authP2},l.expire);var i="";i="IaaS"==o.getUser().sysType?"F"==o.getUser().i2?"/member/info":"/iaas/main":"PaaS"==o.getUser().sysType?"F"==o.getUser().p2?"/member/info":"/paas/main":"P"==o.getUser().p1&&"S"==o.getUser().p2&&"I"==o.getUser().i1&&"F"==o.getUser().i2||"F"==o.getUser().i1&&"F"==o.getUser().i2?"/paas/main":"I"==o.getUser().i1&&"S"==o.getUser().i2&&"P"==o.getUser().p1&&"F"==o.getUser().p2||"F"==o.getUser().p1&&"F"==o.getUser().p2?"/iaas/main":"S"==o.getUser().i2&&"S"==o.getUser().p2?"/":"/member/info",t.path(i),angular.element(".wrapper").css("min-height",100),angular.element(".wrapper").css("margin-top",70)}else{c.scope.loading=!1,c.scope.login.password="";var r="Username or password is incorrect. Please check back again.";e(function(){n(r,{code:401,message:r})},500),t.path("/login")}},function(a){c.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},function(a){c.scope.loading=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})},c.findId=function(){},c.findPassword=function(){}}a.$inject=["$scope","$timeout","$location","$http","$exceptionHandler","apiUris","cache","constants","loginService"],angular.module("monitoring").controller("LoginController",a)}(),function(){"use strict";function a(a,e){var t={};return t.iaasAlarmRealtimeCount=function(){var t={headers:{Accept:"application/json"}};return a.get(e.iaasAlarmRealtimeCount,t)},t.paasAlarmRealtimeCount=function(){var t={headers:{Accept:"application/json"}};return a.get(e.paasAlarmRealtimeCount,t)},t}a.$inject=["$http","apiUris"],angular.module("monitoring").factory("dashboardService",a)}(),function(){"use strict";function a(a,e,t,s,n,i,o,l,r,c,d,m,p){var u=this;u.scope=a,u.Math=Math,u.common=i,u.scope.loading=!0;var g=0;(u.getOpenStackSummary=function(){c.openStackSummary().then(function(a){u.summary=a.data,u.usageVcpu=Math.round(u.summary.vcpuUsed/u.summary.vcpuTotal*100),u.usageMemory=Math.round(u.summary.memoryMbUsed/u.summary.memoryMbTotal*100),u.usageDisk=Math.round(u.summary.diskGbUsed/u.summary.diskGbTotal*100),u.usageVms=Math.round(u.summary.vmRunning/u.summary.vmTotal*100),u.init(u.usageVcpu,u.usageMemory,u.usageDisk,u.usageVms),u.scope.loadingSummary=!1,u.scope.loading=!1,g++},function(a){u.scope.loadingSummary=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),u.init=function(a,e,t,s){u.scope.cpuPercent=a,u.scope.memPercent=e,u.scope.diskPercent=t,u.scope.instance=s},u.scope.bosh={chart:{options:o.donutChart.options(),api:{}}},u.scope.bosh.chart.options.title={enable:!0,text:"Bosh"},u.scope.bosh.chart.options.chart.height=150,u.scope.bosh.chart.options.chart.showLabels=!1,u.scope.bosh.chart.options.chart.color=["#00aacc","#e66b6b","#f0a141","#ad6de8"],u.scope.bosh.chart.options.chart.pie={dispatch:{elementClick:function(){a.$apply(function(){s.path("/paas/bosh")})}}},u.scope.paasta={chart:{options:o.donutChart.options(),api:{}}},u.scope.paasta.chart.options.title={enable:!0,text:"PaaS-TA"},u.scope.paasta.chart.options.chart.height=150,u.scope.paasta.chart.options.chart.showLabels=!1,u.scope.paasta.chart.options.chart.color=["#00aacc","#e66b6b","#f0a141","#ad6de8"],u.scope.paasta.chart.options.chart.pie={dispatch:{elementClick:function(){a.$apply(function(){s.path("/paas/paasta")})}}},u.scope.container={chart:{options:o.donutChart.options(),api:{}}},u.scope.container.chart.options.title={enable:!0,text:"Container"},u.scope.container.chart.options.chart.height=150,u.scope.container.chart.options.chart.showLabels=!1,u.scope.container.chart.options.chart.color=["#00aacc","#e66b6b","#f0a141","#ad6de8"],u.scope.container.chart.options.chart.pie={dispatch:{elementClick:function(){a.$apply(function(){s.path("/paas/container")})}}},u.scope.events={resize:function(a,t){e(function(){t.api&&t.api.update&&t.api.update()},200)}},u.scope.config={visible:!1},e(function(){a.config.visible=!0},200),angular.element(window).on("resize",function(){a.$broadcast("resize")}),(u.getSummaryList=function(){d.boshOverview().then(function(a){g++,u.scope.bosh.chart.data=[],a.data.total>0&&(u.scope.bosh.chart.data.push({key:"Running",value:a.data.running}),u.scope.bosh.chart.data.push({key:"Fail",value:a.data.failed}),u.scope.bosh.chart.data.push({key:"Warning",value:a.data.warning}),u.scope.bosh.chart.data.push({key:"Critical",value:a.data.critical}),u.scope.bosh.chart.options.chart.title=a.data.total),u.scope.loadingSummaryBosh=!1},function(a){u.scope.loadingSummaryBosh=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}),m.paastaOverview().then(function(a){g++,u.scope.paasta.chart.data=[],a.data.total>0&&(u.scope.paasta.chart.data.push({key:"Running",value:a.data.running}),u.scope.paasta.chart.data.push({key:"Fail",value:a.data.failed}),u.scope.paasta.chart.data.push({key:"Warning",value:a.data.warning}),u.scope.paasta.chart.data.push({key:"Critical",value:a.data.critical}),u.scope.paasta.chart.options.chart.title=a.data.total),u.scope.loadingSummaryPaasta=!1},function(a){u.scope.loadingSummaryPaasta=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)}),p.containerOverview().then(function(a){g++,u.scope.container.chart.data=[],a.data.total>0&&(u.scope.container.chart.data.push({key:"Running",value:a.data.running}),u.scope.container.chart.data.push({key:"Fail",value:a.data.failed}),u.scope.container.chart.data.push({key:"Warning",value:a.data.warning}),u.scope.container.chart.data.push({key:"Critical",value:a.data.critical}),u.scope.container.chart.options.chart.title=a.data.total),u.scope.loadingSummaryContainer=!1},function(a){u.scope.loadingSummaryContainer=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),(u.getIaasAlarmRealtimeCount=function(){r.iaasAlarmRealtimeCount().then(function(a){u.iaasAlarmView=a.data,u.scope.loadingIaasAlram=!1},function(a){u.scope.loadingIaasAlram=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),(u.getPaasAlarmRealtimeCount=function(){r.paasAlarmRealtimeCount().then(function(a){u.paasAlarmView=a.data,u.scope.loadingPaasAlram=!1},function(a){u.scope.loadingPaasAlram=!1,e(function(){n(a.data.message,{code:a.data.HttpStatus,message:a.data.message})},500)})})(),u.scope.goAlarmPage=function(a,e){var t="/"+a+"/alarm/status",n="";n="iaas"==a?"severity":"_l","total"==e&&(e=""),s.path(t).search(n,e)},u.scope.$on("broadcast:reload",function(){g=0,u.scope.loading=!0,u.scope.loadingSummary=!0,u.scope.loadingSummaryBosh=!0,u.scope.loadingSummaryPaasta=!0,u.scope.loadingSummaryContainer=!0,u.scope.loadingIaasAlram=!0,u.scope.loadingPaasAlram=!0,u.getOpenStackSummary(),u.getSummaryList(),u.getIaasAlarmRealtimeCount(),u.getPaasAlarmRealtimeCount()})}a.$inject=["$scope","$timeout","$interval","$location","$exceptionHandler","common","nvd3Generator","cache","dashboardService","iaaSMainService","paasBoshService","paasPaastaService","paasContainerService"],angular.module("monitoring").controller("DashboardController",a)}(),angular.module("monitoring").service("nvd3Generator",function(){return{lineChart:{options:function(){return{chart:{type:"lineChart",margin:{top:10,right:30,bottom:20,left:20},interpolate:"linear",isArea:!0,legendPosition:"top",x:function(a){return a.time},y:function(a){return a.usage},useInteractiveGuideline:!0,xAxis:{tickFormat:function(a){return d3.time.format("%H:%M:%S")(new Date(1e3*a))},ticks:0},yAxis:{tickFormat:function(a){return d3.format(".02f")(a)},axisLabelDistance:-10},color:["#b9e866","#5cc6d9","#f5da25","#9041d2","#2172e4","#22a581","#ed3131","#9c78df","#ff9936","#2b6e90"]}}}},lineWithFocusChart:{options:function(){return{chart:{type:"lineWithFocusChart",height:185,margin:{top:10,right:-20,bottom:20,left:40},duration:500,useInteractiveGuideline:!0,x:function(a){return a.time},y:function(a){return a.usage},xAxis:{axisLabel:"X Axis",tickFormat:function(a){return d3.format(",f")(a)},ticks:0},x2Axis:{tickFormat:function(a){return d3.format(",f")(a)}},yAxis:{axisLabel:"Y Axis",tickFormat:function(a){return d3.format(",.2f")(a)},rotateYLabel:!1},y2Axis:{tickFormat:function(a){return d3.format(",.2f")(a)}}}}}},stackedAreaChart:{options:function(){return{chart:{type:"stackedAreaChart",margin:{top:10,right:-20,bottom:20,left:40},interpolate:"linear",showControls:!1,showLegend:!0,legendPosition:"right",x:function(a){return a.time},y:function(a){return a.usage},useVoronoi:!1,clipEdge:!0,transitionDuration:500,useInteractiveGuideline:!0,xAxis:{tickFormat:function(a){return d3.time.format("%H:%M:%S")(new Date(1e3*a))},ticks:0},yAxis:{tickFormat:function(a){return d3.format(".02f")(a)},axisLabelDistance:-10},color:["#b9e866","#5cc6d9","#f5da25","#9041d2","#2172e4","#22a581","#ed3131","#9c78df","#ff9936","#2b6e90"]}}}},multiBarChart:{options:function(){return{chart:{type:"multiBarChart",margin:{top:10,right:-20,bottom:20,left:40},x:function(a){return a.time},y:function(a){return a.usage},legendPosition:"right",clipEdge:!0,duration:500,stacked:!1,showControls:!1,xAxis:{showMaxMin:!0,tickFormat:function(a){return d3.time.format("%H:%M:%S")(new Date(1e3*a))},ticks:0},yAxis:{tickFormat:function(a){return d3.format(".02f")(a)},axisLabelDistance:-10},color:["#b9e866","#5cc6d9","#f5da25","#9041d2","#2172e4","#22a581","#ed3131","#9c78df","#ff9936","#2b6e90"]}}}},donutChart:{options:function(){return{chart:{type:"pieChart",margin:{top:0,right:0,bottom:0,left:0},x:function(a){return a.key},y:function(a){return a.value},legend:{updateState:!1},legendPosition:"right",showLabels:!0,showLegend:!0,duration:500,labelThreshold:.01,labelSunbeamLayout:!1,title:!0,valueFormat:function(a){return d3.format(".0")(a)},cornerRadius:0,donutRatio:.4,donut:!0,labelsOutside:!1,color:["#b9e866","#5cc6d9","#f5da25","#9041d2","#2172e4","#22a581","#ed3131","#9c78df","#ff9936","#2b6e90"]}}}},discreteBarChart:{options:function(){return{chart:{type:"discreteBarChart",margin:{top:20,right:20,bottom:50,left:55},x:function(a){return a.key},y:function(a){return a.value},showValues:!0,valueFormat:function(a){return d3.format(".0")(a)},duration:500,xAxis:{axisLabel:"X Axis"},yAxis:{axisLabel:"Y Axis",axisLabelDistance:-10}}}}},list:{options:function(){return{}}},log:{options:function(){return{}}}}}),function(){"use strict";function a(a,e,t,s){return{request:function(a){return a},requestError:function(a){return t.reject(a)},response:function(a){return a},responseError:function(n){if(401==n.status){if(s.clear(),"/login"==a.path())return!1;e.location.href="#/login",e.location.reload()}return t.reject(n)}}}function e(a,e,t,s){var n;return{request:function(a){return n||(n=s.getToken()),a.headers["X-XSRF-TOKEN"]=n,a},response:function(a){var e=a.headers("X-XSRF-TOKEN");return e&&(n=e,s.putToken(e)),a},responseError:function(n){if(403==n.status){if(s.clear(),"/login"==a.path())return!1;e.location.href="#/login",e.location.reload()}return t.reject(n)}}}a.$inject=["$location","$window","$q","cache"],e.$inject=["$location","$window","$q","cache"],angular.module("monitoring").service("authInterceptor",a).service("XSRFInterceptor",e)}(),function(){"use strict";angular.module("monitoring").service("$exceptionHandler",["$injector","$log",function(a,e){return function(t,s){var n=a.get("$rootScope");n&&(n.loading=!1,angular.element(".loading-container").hide(),void 0!=s&&(n.errorCode=s.code,void 0!=s.message&&(n.errorMessage=s.message)),void 0!=t&&(void 0==n.errorMessage&&(n.errorMessage=t),e.error("Error!!! "+n.errorMessage+". Cause: "+angular.fromJson(s)),angular.element("#errorMessage").html(n.errorMessage),angular.element("#errorModal").modal("show")),angular.element("#errorModal").on("hidden.bs.modal",function(){n.errorMessage=void 0,n.errorCode=void 0}))}}])}(),function(){"use strict";function a(a){var e={};return e.resourcePromise=function(e,t,s){var n={method:t,url:e,headers:{Accept:"application/json","Content-Type":"application/json"}};null!==s&&(n.data=angular.fromJson(s));var i=a(n);return i},e.retrieveResource=function(a,e){return a.success=function(t){return a.then(function(a){void 0==a&&(a={data:null,status:null,headers:null}),e&&e(a.data),t(a.data,a.status,a.headers)}),a},a.error=function(e){return a.then(null,function(a){e(a.data,a.status,a.headers)}),a},a},e.getDateTime=function(a){var e=new Date(a),t=e.getFullYear(),s=("0"+(e.getMonth()+1)).substr(-2),n=("0"+e.getDate()).substr(-2),i=("0"+e.getHours()).substr(-2),o=("0"+e.getMinutes()).substr(-2),l=("0"+e.getSeconds()).substr(-2);return t+"-"+s+"-"+n+" "+i+":"+o+":"+l},e.getDateTTime=function(a){var e=new Date(a),t=e.getFullYear(),s=("0"+(e.getMonth()+1)).substr(-2),n=("0"+e.getDate()).substr(-2),i=("0"+e.getHours()).substr(-2),o=("0"+e.getMinutes()).substr(-2),l=("0"+e.getSeconds()).substr(-2);return t+"-"+s+"-"+n+"T"+i+":"+o+":"+l},e.getDate=function(a){var e=new Date(a),t=e.getFullYear(),s=("0"+(e.getMonth()+1)).substr(-2),n=("0"+e.getDate()).substr(-2);return t+"-"+s+"-"+n},e.getTime=function(a){var e=new Date(a),t=("0"+e.getHours()).substr(-2),s=("0"+e.getMinutes()).substr(-2),n=("0"+e.getSeconds()).substr(-2);return t+":"+s+":"+n},e.CompareForSort=function(a,e){var t=0;return t=a.id==e.id?0:a.id<e.id?-1:1},e.setDtvParam=function(a){var e={};return a.timeRangeFrom&&a.timeRangeTo?(e.timeRangeFrom=a.timeRangeFrom,e.timeRangeTo=a.timeRangeTo):e.defaultTimeRange=void 0==a.defaultTimeRange?"15m":a.defaultTimeRange,e.groupBy=void 0==a.groupBy?"1m":a.groupBy,e},e.timeDifference=function(a,e){var t="",s=a-e,n=Math.floor(s/1e3/60/60/24);s-=1e3*n*60*60*24,n>0&&(t+=n+"d");var i=Math.floor(s/1e3/60/60);s-=1e3*i*60*60,i>0&&(t+=i+"h");var o=Math.floor(s/1e3/60);s-=1e3*o*60,o>0&&(t+=o+"m");var l=Math.floor(s/1e3);return l>0&&(t+=l+"s"),t},e.getGroupingByTimeRange=function(a,t,s){var n="";switch(a){case"15m":n="1m";break;case"30m":n="2m";break;case"1h":n="4m";break;case"3h":n="12m";break;case"6h":n="24m";break;case"12h":n="48m";break;case"1d":n="1h36m";break;case"7d":n="11h12m";break;case"30d":n="48h";break;case"custom":n=e.selectGroupingByCustomTimeRange(t,s);break;default:n="1m"}return n},e.selectGroupingByCustomTimeRange=function(a,e){var t=Math.round((a-e)/120),s="";return 18e3>=t?s="1m":t>18e3&&36e3>=t?s="2m":t>36e3&&108e3>=t?s="4m":t>108e3&&216e3>=t?s="12m":t>216e3&&432e3>=t?s="24m":t>432e3&&864e3>=t?s="48m":t>864e3&&6048e3>=t?s="1h36m":t>6048e3&&26784e3>=t?s="11h12m":t>26784e3&&(s="48h"),s},e.getOriginTypeString=function(a){var e="";switch(a){case"bos":e="Bosh";break;case"pas":e="PaaS-TA";break;case"con":e="Container"}return e},e.getResourceTypeString=function(a){var e="";switch(a){case"cpu":e="CPU";break;case"memory":e="Memory";break;case"disk":e="Disk"}return e},e.alarmLevelStyle=function(a){var e={};return"critical"==a?e="critical":"warning"==a?e="warning":"fail"==a?e="fail":("running"==a||"healthy"==a)&&(e="running"),e},e.resolveStatusStyle=function(a){var e={};return e=1==a?"waiting":2==a?"processing":""},e.getMillisecondsRefreshTime=function(a){var e=0,t=a.substring(0,a.length-1),s=a.substring(a.length-1);switch(s){case"m":e=1e3*t*60;break;case"h":e=1e3*t*60*60;break;case"d":e=1e3*t*60*60*24}return e},e.convertTimestampToDate=function(a){var e=1e3*moment(Number(a)).unix(),t=1===(new Date(e).getMonth()+1).toString().length?"0"+(new Date(e).getMonth()+1).toString():(new Date(e).getMonth()+1).toString(),s=1===new Date(e).getDate().toString().length?"0"+new Date(e).getDate().toString():new Date(e).getDate().toString(),n=1===new Date(e).getHours().toString().length?"0"+new Date(e).getHours().toString():new Date(e).getHours().toString(),i=1===new Date(e).getMinutes().toString().length?"0"+new Date(e).getMinutes().toString():new Date(e).getMinutes().toString(),o=new Date(e).getFullYear()+"."+t+"."+s+" "+n+":"+i;return o},e}function e(a){var e={};e.putDefaultTimeRange=function(e){a.put("defaultTimeRange",e)},e.getDefaultTimeRange=function(){return a.get("defaultTimeRange")},e.removeDefaultTimeRange=function(){a.remove("defaultTimeRange")},e.putTimeRangeFrom=function(e){a.put("timeRangeFrom",e)},e.getTimeRangeFrom=function(){return a.get("timeRangeFrom")},e.removeTimeRangeFrom=function(){a.remove("timeRangeFrom")},e.putTimeRangeTo=function(e){a.put("timeRangeTo",e)},e.getTimeRangeTo=function(){return a.get("timeRangeTo")},e.removeTimeRangeTo=function(){a.remove("timeRangeTo")},e.putGroupBy=function(e){a.put("groupBy",e)},e.getGroupBy=function(){return a.get("groupBy")},e.removeGroupBy=function(){a.remove("groupBy")},e.putRefreshTime=function(e){a.put("refreshTime",e)},e.getRefreshTime=function(){return a.get("refreshTime")},e.removeRefreshTime=function(){a.remove("refreshTime")},e.putSvrDtvLayout=function(e){a.put("svrDtvLayout",e)},e.getSvrDtvLayout=function(){return a.get("svrDtvLayout")},e.removeSvrDtvLayout=function(){a.remove("svrDtvLayout")};var t=[];e.putSvrDtvOpt=function(e){t.push(e),a.putObject("svr.dtvOpt",t)},e.getSvrDtvOpt=function(){return a.getObject("svr.dtvOpt")},e.removeSvrDtvOpt=function(){t=[],a.remove("svr.dtvOpt")},e.putIfrDtvLayout=function(e){a.put("ifrDtvLayout",e)},e.getIfrDtvLayout=function(){return a.get("ifrDtvLayout")},e.removeIfrDtvLayout=function(){a.remove("ifrDtvLayout")};var s=[];e.putIfrDtvOpt=function(e){s.push(e),a.putObject("ifr.dtvOpt",s)},e.getIfrDtvOpt=function(){return a.getObject("ifr.dtvOpt")},e.removeIfrDtvOpt=function(){s=[],a.remove("ifr.dtvOpt")},e.putCtlDtvLayout=function(e){a.put("ctlDtvLayout",e)},e.getCtlDtvLayout=function(){return a.get("ctlDtvLayout")},e.removeCtlDtvLayout=function(){a.remove("ctlDtvLayout")};var n=[];e.putCtlDtvOpt=function(e){n.push(e),a.putObject("ctl.dtvOpt",n)},e.getCtlDtvOpt=function(){return a.getObject("ctl.dtvOpt")},e.removeCtlDtvOpt=function(){n=[],a.remove("ctl.dtvOpt")},e.putZonDtvLayout=function(e){a.put("zonDtvLayout",e)},e.getZonDtvLayout=function(){return a.get("zonDtvLayout")},e.removeZonDtvLayout=function(){a.remove("zonDtvLayout")};var i=[];e.putZonDtvOpt=function(e){i.push(e),a.putObject("zon.dtvOpt",i)},e.getZonDtvOpt=function(){return a.getObject("zon.dtvOpt")},e.removeZonDtvOpt=function(){i=[],a.remove("zon.dtvOpt")},e.putSvcDtvLayout=function(e){a.put("svcDtvLayout",e)},e.getSvcDtvLayout=function(){return a.get("svcDtvLayout")},e.removeSvcDtvLayout=function(){a.remove("svcDtvLayout")};var o=[];e.putSvcDtvOpt=function(e){o.push(e),a.putObject("svc.dtvOpt",o)},e.getSvcDtvOpt=function(){return a.getObject("svc.dtvOpt")},e.removeSvcDtvOpt=function(){o=[],a.remove("svc.dtvOpt")},e.putSvcDtvPgrLayout=function(e){a.put("svcDtvPgrLayout",e)},e.getSvcDtvPgrLayout=function(){return a.get("svcDtvPgrLayout")},e.removeSvcDtvPgrLayout=function(){a.remove("svcDtvPgrLayout")};var l=[];e.putSvcDtvPgrOpt=function(e){l.push(e),a.putObject("svc.dtvPgrOpt",l)},e.getSvcDtvPgrOpt=function(){return a.getObject("svc.dtvPgrOpt")},e.removeSvcDtvPgrOpt=function(){l=[],a.remove("svc.dtvPgrOpt")},e.putSvcDtvMysqlLayout=function(e){a.put("svcDtvMysqlLayout",e)},e.getSvcDtvMysqlLayout=function(){return a.get("svcDtvMysqlLayout")},e.removeSvcDtvMysqlLayout=function(){a.remove("svcDtvMysqlLayout")};var r=[];e.putSvcDtvMysqlOpt=function(e){r.push(e),a.putObject("svc.dtvMysqlOpt",r)},e.getSvcDtvMysqlOpt=function(){return a.getObject("svc.dtvMysqlOpt")},e.removeSvcDtvMysqlOpt=function(){r=[],a.remove("svc.dtvMysqlOpt")},e.putSvcDtvRedisLayout=function(e){a.put("svcDtvRedisLayout",e)},e.getSvcDtvRedisLayout=function(){return a.get("svcDtvRedisLayout")},e.removeSvcDtvRedisLayout=function(){
a.remove("svcDtvRedisLayout")};var c=[];return e.putSvcDtvRedisOpt=function(e){c.push(e),a.putObject("svc.dtvRedisOpt",c)},e.getSvcDtvRedisOpt=function(){return a.getObject("svc.dtvRedisOpt")},e.removeSvcDtvRedisOpt=function(){c=[],a.remove("svc.dtvRedisOpt")},e.putIfrThreshold=function(e){a.putObject("ifr.threshold",e)},e.getIfrThreshold=function(){return a.getObject("ifr.threshold")},e.removeIfrThreshold=function(){a.remove("ifr.threshold")},e.putCtlThreshold=function(e){a.putObject("ctl.threshold",e)},e.getCtlThreshold=function(){return a.getObject("ctl.threshold")},e.removeCtlThreshold=function(){a.remove("ctl.threshold")},e.putZonThreshold=function(e){a.putObject("zon.threshold",e)},e.getZonThreshold=function(){return a.getObject("zon.threshold")},e.removeZonThreshold=function(){a.remove("zon.threshold")},e.putSvcThreshold=function(e){a.putObject("svc.threshold",e)},e.getSvcThreshold=function(){return a.getObject("svc.threshold")},e.removeSvcThreshold=function(){a.remove("svc.threshold")},e.putSvrThreshold=function(e){a.putObject("svr.threshold",e)},e.getSvrThreshold=function(){return a.getObject("svr.threshold")},e.removeSvrThreshold=function(){a.remove("svr.threshold")},e}function t(a){var e={};return e.setUser=function(e,t){a.set("user",e,t)},e.getUser=function(){return a.get("user")},e.clear=function(){a.clearAll()},e.isAuthenticated=function(){return null!=e.getUser()},e.putToken=function(e){a.set("token",e)},e.getToken=function(){return a.get("token")},e.removeToken=function(){a.remove("token")},e.setUserAuth=function(e,t){a.set("auth",e,t)},e.getUserAuth=function(){return a.get("auth")},e.setSysType=function(e,t){a.set("sysType",e,t)},e.getSysType=function(){return a.get("sysType")},e}function s(a){this.scrollTo=function(e){function t(){return self.pageYOffset?self.pageYOffset:a[0].body.scrollTop?a[0].body.scrollTop:0}function s(e){for(var t=a[0].getElementById(e),s=t.offsetTop,n=t;n.offsetParent&&n.offsetParent!=a[0].body;)n=n.offsetParent,s+=n.offsetTop;return s}var n=t(),i=s(e),o=i>n?i-n:n-i;if(100>o)return void scrollTo(0,i);var l=Math.round(o/100);l>=20&&(l=20);var r=Math.round(o/25),c=i>n?n+r:n-r,d=0;if(i>n)for(var m=n;i>m;m+=r)angular.element("body").animate({scrollTop:i},"slow"),c+=r,c>i&&(c=i),d++;else for(var p=n;p>i;p-=r)angular.element("body").animate({scrollTop:i},"slow"),c-=r,i>c&&(c=i),d++}}function n(a,e){var t={};return t.dtvDefaultRecentLog=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.iaasDefaultRecentLogs,s)},t.dtvSpecificTimeRangeLog=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.iaasSpecificTimeRangeLogs,s)},t}function i(a,e){var t={};return t.dtvDefaultRecentLog=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.paasDefaultRecentLogs,s)},t.dtvSpecificTimeRangeLog=function(t){var s={params:t,headers:{Accept:"application/json"}};return a.get(e.paasSpecificTimeRangeLogs,s)},t}a.$inject=["$http"],e.$inject=["$cookies"],t.$inject=["localStorageService"],s.$inject=["$document"],n.$inject=["$http","apiUris"],i.$inject=["$http","apiUris"],angular.module("monitoring").service("common",a).service("cookies",e).service("cache",t).service("anchorSmoothScroll",s).service("iaasLogService",n).service("paasLogService",i)}(),function(){"use strict";function a(a,e,t){angular.isUndefined(a.getDefaultTimeRange())&&a.putDefaultTimeRange("15m"),angular.isUndefined(a.getGroupBy())&&a.putGroupBy("1m"),angular.isUndefined(a.getRefreshTime())&&a.putRefreshTime("off");var s=e.$on("$stateChangeSuccess",function(){t.scrollTo(0,0)})}a.$inject=["cookies","$rootScope","$window"],angular.module("monitoring").run(a)}(),function(){"use strict";function a(a,e){var t={template:"<div><acme-navbar></acme-navbar></div>"},s={template:"<div><acme-iaas-sidebar></acme-iaas-sidebar></div>"},n={template:"<div><acme-paas-sidebar></acme-paas-sidebar></div>"};a.state("Main Dashboard",{url:"/",views:{navbar:t,body:{templateUrl:"app/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"dashboard"}}}),a.state("login",{url:"/login",views:{login:{templateUrl:"app/login/login.html",controller:"LoginController",controllerAs:"login"}}}),a.state("member_join",{url:"/member/join",views:{body:{templateUrl:"app/member/member.html",controller:"MemberController",controllerAs:"member"}}}),a.state("member_info",{url:"/member/info",views:{navbar:t,body:{templateUrl:"app/member/member.html",controller:"MemberController",controllerAs:"member"}}}),a.state("iaas_main",{url:"/iaas/main",views:{navbar:t,sidebar:s,body:{templateUrl:"app/iaas/main/main.html",controller:"IaaSMainController",controllerAs:"iaasMain"}}}),a.state("compute_node",{url:"/iaas/compute_node",views:{navbar:t,sidebar:s,body:{templateUrl:"app/iaas/node/compute_node.html",controller:"ComputeNodeController",controllerAs:"cnd"}}}),a.state("compute_node_detail",{url:"/iaas/compute_node/:hostname",views:{navbar:t,sidebar:s,body:{templateUrl:"app/iaas/node/node_detail.html",controller:"NodeDetailController"}}}),a.state("manage_node",{url:"/iaas/manage_node",views:{navbar:t,sidebar:s,body:{templateUrl:"app/iaas/node/manage_node.html",controller:"ManageNodeController",controllerAs:"mnd"}}}),a.state("manage_node_detail",{url:"/iaas/manage_node/:hostname",views:{navbar:t,sidebar:s,body:{templateUrl:"app/iaas/node/node_detail.html",controller:"NodeDetailController"}}}),a.state("tenant",{url:"/iaas/tenant",views:{navbar:t,sidebar:s,body:{templateUrl:"app/iaas/tenant/tenant.html",controller:"TenantController",controllerAs:"tnt"}}}),a.state("tenant_detail",{url:"/iaas/tenant/:instanceId",views:{navbar:t,sidebar:s,body:{templateUrl:"app/iaas/tenant/tenant_detail.html",controller:"TenantDetailController"}}}),a.state("alarm_notification",{url:"/iaas/alarm/notification",views:{navbar:t,sidebar:s,body:{templateUrl:"app/iaas/alarm/alarm_notification.html",controller:"IaasAlarmNotificationController",controllerAs:"aln"}}}),a.state("alarm_policy",{url:"/iaas/alarm/policy",views:{navbar:t,sidebar:s,body:{templateUrl:"app/iaas/alarm/alarm_policy.html",controller:"IaasAlarmPolicyController",controllerAs:"alp"}}}),a.state("alarm_policy_detail",{url:"/iaas/alarm/policy/:id",views:{navbar:t,sidebar:s,body:{templateUrl:"app/iaas/alarm/alarm_policy_detail.html",controller:"AlarmPolicyDetailController",controllerAs:"alp"}}}),a.state("alarm_status",{url:"/iaas/alarm/status",views:{navbar:t,sidebar:s,body:{templateUrl:"app/iaas/alarm/alarm_status.html",controller:"IaasAlarmStatusController",controllerAs:"ast"}}}),a.state("alarm_status_detail",{url:"/iaas/alarm/status/:id",views:{navbar:t,sidebar:s,body:{templateUrl:"app/iaas/alarm/alarm_status_detail.html",controller:"AlarmStatusDetailController",controllerAs:"ast"}}}),a.state("paas_main",{url:"/paas/main",views:{navbar:t,sidebar:n,body:{templateUrl:"app/paas/main/main.html",controller:"PaaSMainController",controllerAs:"paasMain"}}}),a.state("paas_bosh",{url:"/paas/bosh",views:{navbar:t,sidebar:n,body:{templateUrl:"app/paas/bosh/bosh.html",controller:"PaasBoshController",controllerAs:"pbsh"}}}),a.state("paas_bosh_detail",{url:"/paas/bosh/:id",views:{navbar:t,sidebar:n,body:{templateUrl:"app/paas/bosh/bosh_detail.html",controller:"PaasBoshDetailController",controllerAs:"pbsh"}}}),a.state("paas_paasta",{url:"/paas/paasta",views:{navbar:t,sidebar:n,body:{templateUrl:"app/paas/paasta/paasta.html",controller:"PaasPaastaController",controllerAs:"ppst"}}}),a.state("paas_paasta_detail",{url:"/paas/paasta/:id",views:{navbar:t,sidebar:n,body:{templateUrl:"app/paas/paasta/paasta_detail.html",controller:"PaasPaastaDetailController",controllerAs:"ppst"}}}),a.state("paas_container",{url:"/paas/container",views:{navbar:t,sidebar:n,body:{templateUrl:"app/paas/container/container.html",controller:"PaasContainerController",controllerAs:"pctn"}}}),a.state("paas_container_detail",{url:"/paas/container/:id",views:{navbar:t,sidebar:n,body:{templateUrl:"app/paas/container/container_detail.html",controller:"PaasContainerDetailController",controllerAs:"pctn"}}}),a.state("paas_alarm_policy",{url:"/paas/alarm/policy",views:{navbar:t,sidebar:n,body:{templateUrl:"app/paas/alarm/alarm_policy.html",controller:"PaasAlarmPolicyController",controllerAs:"papc"}}}),a.state("paas_alarm_status",{url:"/paas/alarm/status",views:{navbar:t,sidebar:n,body:{templateUrl:"app/paas/alarm/alarm_status.html",controller:"PaasAlarmStatusController",controllerAs:"pasu"}}}),a.state("paas_alarm_status_detail",{url:"/paas/alarm/status/:id",views:{navbar:t,sidebar:n,body:{templateUrl:"app/paas/alarm/alarm_status_detail.html",controller:"PaasAlarmStatusDetailController",controllerAs:"pasu"}}}),a.state("paas_alarm_statistics",{url:"/paas/alarm/statistics",views:{navbar:t,sidebar:n,body:{templateUrl:"app/paas/alarm/alarm_statistics.html",controller:"PaasAlarmStatisticsController",controllerAs:"past"}}}),e.otherwise("/")}a.$inject=["$stateProvider","$urlRouterProvider"],angular.module("monitoring").config(a)}(),function(){"use strict";var a=window.location.protocol+"//"+window.location.host,e={join:a+"/v2/member/join",joinCheckId:a+"/v2/member/join/check/id/:id",joinCheckEmail:a+"/v2/member/join/check/email/:email",joinCheckIaas:a+"/v2/member/join/check/iaas",joinCheckPaas:a+"/v2/member/join/check/paas",joinCheckDuplicationIaas:a+"/v2/member/join/check/duplication/iaas/:id",joinCheckDuplicationPaas:a+"/v2/member/join/check/duplication/paas/:id",authCheck:a+"/v2/member/auth/check/:id",memberInfoView:a+"/v2/member/info/view",memberInfoSave:a+"/v2/member/info",ping:a+"/v2/ping",login:a+"/v2/login",logout:a+"/v2/logout",iaasAlarmRealtimeCount:a+"/v2/iaas/alarm/realtime/count",paasAlarmRealtimeCount:a+"/v2/paas/alarm/realtime/count",iaasMainSummary:a+"/v2/iaas/main/summary",iaasAlarmRealtimeList:a+"/v2/iaas/alarm/realtime/list",iaasComputeNodeSummary:a+"/v2/iaas/node/compute/summary",iaasManageNodeSummary:a+"/v2/iaas/node/manage/summary",iaasNodeTopProcessCpu:a+"/v2/iaas/node/topprocess/:hostname/cpu",iaasNodeTopProcessMemory:a+"/v2/iaas/node/topprocess/:hostname/memory",iaasNodeRabbitMqSummary:a+"/v2/iaas/node/rabbitmq/summary",iaasNodeRabbitMqList:a+"/v2/iaas/node/:hostname/rabbitmq/summary",iaasNodeList:a+"/v2/iaas/nodes",iaasNodeCpuUsageList:a+"/v2/iaas/node/cpu/:hostname/usages",iaasNodeCpuLoadList:a+"/v2/iaas/node/cpu/:hostname/loads",iaasNodeMemorySwapList:a+"/v2/iaas/node/memory/:hostname/swaps",iaasNodeMemoryUsageList:a+"/v2/iaas/node/memory/:hostname/usages",iaasNodeDiskUsageList:a+"/v2/iaas/node/disk/:hostname/usages",iaasNodeDiskReadList:a+"/v2/iaas/node/disk/:hostname/reads",iaasNodeDiskWriteList:a+"/v2/iaas/node/disk/:hostname/writes",iaasNodeNetworkKByteList:a+"/v2/iaas/node/network/:hostname/kbytes",iaasNodeNetworkErrorList:a+"/v2/iaas/node/network/:hostname/errors",iaasNodeNetworkDropPacketList:a+"/v2/iaas/node/network/:hostname/droppackets",iaasTenantSummary:a+"/v2/iaas/tenant/summary",iaasTenantInstanceList:a+"/v2/iaas/tenant/:instanceId/instances",iaasTenantCpuUsageList:a+"/v2/iaas/tenant/cpu/:instanceId/usages",iaasTenantMemoryUsageList:a+"/v2/iaas/tenant/memory/:instanceId/usages",iaasTenantDiskReadList:a+"/v2/iaas/tenant/disk/:instanceId/reads",iaasTenantDiskWriteList:a+"/v2/iaas/tenant/disk/:instanceId/writes",iaasTenantNetworkKByteList:a+"/v2/iaas/tenant/network/:instanceId/ios",iaasTenantNetworkPacketList:a+"/v2/iaas/tenant/network/:instanceId/packets",iaasDefaultRecentLogs:a+"/v2/iaas/log/recent",iaasSpecificTimeRangeLogs:a+"/v2/iaas/log/specific",iaasAlarmNotificationList:a+"/v2/iaas/alarm/notifications",iaasAlarmNotification:a+"/v2/iaas/alarm/notification",iaasAlarmNotificationId:a+"/v2/iaas/alarm/notification/:id",iaasAlarmPolicyList:a+"/v2/iaas/alarm/policies",iaasAlarmPolicy:a+"/v2/iaas/alarm/policy",iaasAlarmPolicyId:a+"/v2/iaas/alarm/policy/:id",iaasAlarmStatusList:a+"/v2/iaas/alarm/statuses",iaasAlarmStatusCount:a+"/v2/iaas/alarm/status/count",iaasAlarmStatusId:a+"/v2/iaas/alarm/status/:id",iaasAlarmStatusHistoryList:a+"/v2/iaas/alarm/histories/:alarmId",iaasAlarmActionList:a+"/v2/iaas/alarm/actions/:alarmId",iaasAlarmAction:a+"/v2/iaas/alarm/action",iaasAlarmActionId:a+"/v2/iaas/alarm/action/:alarmId",paasTopology:a+"/v2/paas/main/topological",paasAlarmRealtimeList:a+"/v2/paas/alarm/realtime/list",paasZoneContainerRelationship:a+"/v2/paas/container/relationship",paasBoshOverview:a+"/v2/paas/bosh/overview",paasBoshSummary:a+"/v2/paas/bosh/summary",paasBoshTopProcessMemory:a+"/v2/paas/bosh/topprocess/:id/memory",paasBoshCpuUsageList:a+"/v2/paas/bosh/cpu/:id/usages",paasBoshCpuLoadAverageList:a+"/v2/paas/bosh/cpu/:id/loads",paasBoshMemoryUsageLis:a+"/v2/paas/bosh/memory/:id/usages",paasBoshDiskUsageList:a+"/v2/paas/bosh/disk/:id/usages",paasBoshDiskIOList:a+"/v2/paas/bosh/disk/:id/ios",paasBoshNetworkIoByteList:a+"/v2/paas/bosh/network/:id/bytes",paasBoshNetworkIoPackteList:a+"/v2/paas/bosh/network/:id/packets",paasBoshNetworkIoDropList:a+"/v2/paas/bosh/network/:id/drops",paasBoshNetworkIoErrorList:a+"/v2/paas/bosh/network/:id/errors",paasPaastaOverview:a+"/v2/paas/paasta/overview",paasPaastaOverviewList:a+"/v2/paas/paasta/overview/:status",paasPaastaSummary:a+"/v2/paas/paasta/summary",paasPaastaTopProcessMemory:a+"/v2/paas/paasta/topprocess/:id/memory",paasPaastaCpuUsageList:a+"/v2/paas/paasta/cpu/:id/usages",paasPaastaCpuLoadAverageList:a+"/v2/paas/paasta/cpu/:id/loads",paasPaastaMemoryUsageLis:a+"/v2/paas/paasta/memory/:id/usages",paasPaastaDiskUsageList:a+"/v2/paas/paasta/disk/:id/usages",paasPaastaDiskIOList:a+"/v2/paas/paasta/disk/:id/ios",paasPaastaNetworkIoByteList:a+"/v2/paas/paasta/network/:id/bytes",paasPaastaNetworkIoPackteList:a+"/v2/paas/paasta/network/:id/packets",paasPaastaNetworkIoDropList:a+"/v2/paas/paasta/network/:id/drops",paasPaastaNetworkIoErrorList:a+"/v2/paas/paasta/network/:id/errors",paasCellOverview:a+"/v2/paas/cell/overview",paasContainerOverview:a+"/v2/paas/container/overview",paasContainerSummary:a+"/v2/paas/container/summary",paasContainerRelationship:a+"/v2/paas/container/relationship/:name",paasCellOverviewList:a+"/v2/paas/cell/overview/:status",paasContainerOverviewList:a+"/v2/paas/container/overview/:status",paasContainerCpuUsageList:a+"/v2/paas/container/cpu/:id/usages",paasContainerCpuLoadList:a+"/v2/paas/container/cpu/:id/loads",paasContainerMemoryUsageList:a+"/v2/paas/container/memory/:id/usages",paasContainerDiskUsageList:a+"/v2/paas/container/disk/:id/usages",paasContainerNetworkIoByteList:a+"/v2/paas/container/network/:id/bytes",paasContainerNetworkIoDropList:a+"/v2/paas/container/network/:id/drops",paasContainerNetworkIoErrorList:a+"/v2/paas/container/network/:id/errors",paasDefaultRecentLogs:a+"/v2/paas/log/recent",paasSpecificTimeRangeLogs:a+"/v2/paas/log/specific",paasAlarmPolicyList:a+"/v2/paas/alarm/policies",paasAlarmPolicy:a+"/v2/paas/alarm/policy",paasAlarmSnsChannelRegist:a+"/v2/paas/alarm/sns/channel",paasAlarmSnsChannelList:a+"/v2/paas/alarm/sns/channel/list",paasAlarmSnsChannelDelete:a+"/v2/paas/alarm/sns/channel/:id",paasAlarmStatusList:a+"/v2/paas/alarm/statuses",paasAlarmStatusCount:a+"/v2/paas/alarm/status/count",paasAlarmStatus:a+"/v2/paas/alarm/status",paasAlarmStatusId:a+"/v2/paas/alarm/status/:id",paasAlarmStatusResolve:a+"/v2/paas/alarm/status/resolve/:resolveStatus",paasAlarmAction:a+"/v2/paas/alarm/action",paasAlarmActionId:a+"/v2/paas/alarm/action/:actionId",paasAlarmStatisticList:a+"/v2/paas/alarm/statistics",paasAlarmStatisticTotal:a+"/v2/paas/alarm/statistics/graph/total",paasAlarmStatisticService:a+"/v2/paas/alarm/statistics/graph/service",paasAlarmStatisticMatrix:a+"/v2/paas/alarm/statistics/graph/matrix"},t=[{id:1,name:"CPU Usage",func:"nodeCpuUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:2,name:"CPU Load Average",func:"nodeCpuLoad1mList",type:"lineChart",percent:!1,axisLabel:"Count per 1 minute"},{id:3,name:"Swap Usage",func:"nodeMemorySwapList",type:"lineChart",percent:!0,axisLabel:"%"},{id:4,name:"Memory Usage",func:"nodeMemoryUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:5,name:"Disk Usage",func:"nodeDiskUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:6,name:"Disk IO Read",func:"nodeDiskIOReadList",type:"lineChart",percent:!1,axisLabel:"KB"},{id:7,name:"Disk IO Write",func:"nodeDiskIOWriteList",type:"lineChart",percent:!1,axisLabel:"KB"},{id:8,name:"Network IO KByte",func:"nodeNetworkIOKByteList",type:"lineChart",percent:!1,axisLabel:"KB"},{id:9,name:"Network Error",func:"nodeNetworkErrorList",type:"lineChart",percent:!1,axisLabel:"Count"},{id:10,name:"Network Dropped Packet",func:"nodeNetworkDroppedPacketList",type:"lineChart",percent:!1,axisLabel:"Count"}],s=[{id:1,name:"CPU Usage",func:"instanceCpuUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:2,name:"Memory Usage",func:"instanceMemoryUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:3,name:"Disk IO Read",func:"instanceDiskIOReadList",type:"lineChart",percent:!1,axisLabel:"KB"},{id:4,name:"Disk IO Write",func:"instanceDiskIOWriteList",type:"lineChart",percent:!1,axisLabel:"KB"},{id:5,name:"Network IO KByte",func:"instanceNetworkIOKByteList",type:"lineChart",percent:!1,axisLabel:"KB"},{id:6,name:"Network IO Packet",func:"instanceNetworkPacketList",type:"lineChart",percent:!1,axisLabel:"Count"}],n=[{id:1,name:"CPU Usage",func:"boshCpuUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:2,name:"CPU Load Average",func:"boshCpuLoadAverageList",type:"lineChart",percent:!1,axisLabel:"Count per 1 minute"},{id:3,name:"Memory Usage",func:"boshMemoryUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:4,name:"Disk Usage",func:"boshDiskUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:5,name:"Disk IO",func:"boshDiskIOList",type:"lineChart",percent:!1,axisLabel:"KByte"},{id:6,name:"Network IO Byte",func:"boshNetworkIoByteList",type:"lineChart",percent:!1,axisLabel:"KByte"},{id:7,name:"Network IO Packtes",func:"boshNetworkIoPackteList",type:"lineChart",percent:!1,axisLabel:"Packets/Sec"},{id:8,name:"Network IO Drop",func:"boshNetworkIoDropList",type:"lineChart",percent:!1,axisLabel:"Count"},{id:9,name:"Network IO Error",func:"boshNetworkIoErrorList",type:"lineChart",percent:!1,axisLabel:"Count"}],i=[{id:1,name:"CPU Usage",func:"paastaCpuUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:2,name:"CPU Load Average",func:"paastaCpuLoadAverageList",type:"lineChart",percent:!1,axisLabel:"Count per 1 minute"},{id:3,name:"Memory Usage",func:"paastaMemoryUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:4,name:"Disk Usage",func:"paastaDiskUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:5,name:"Disk IO",func:"paastaDiskIOList",type:"lineChart",percent:!1,axisLabel:"KByte"},{id:6,name:"Network IO Byte",func:"paastaNetworkIoByteList",type:"lineChart",percent:!1,axisLabel:"KByte"},{id:7,name:"Network IO Packtes",func:"paastaNetworkIoPackteList",type:"lineChart",percent:!1,axisLabel:"Packets/Sec"},{id:8,name:"Network IO Drop",func:"paastaNetworkIoDropList",type:"lineChart",percent:!1,axisLabel:"Count"},{id:9,name:"Network IO Error",func:"paastaNetworkIoErrorList",type:"lineChart",percent:!1,axisLabel:"Count"}],o=[{id:1,name:"CPU Usage",func:"containerCpuUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:2,name:"CPU Load Average",func:"containerCpuLoadList",type:"lineChart",percent:!1,axisLabel:"Count per 1 minute"},{id:3,name:"Memory Usage",func:"containerMemoryUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:4,name:"Disk Usage",func:"containerDiskUsageList",type:"lineChart",percent:!0,axisLabel:"%"},{id:5,name:"Network IO Byte",func:"containerNetworkIoByteList",type:"lineChart",percent:!1,axisLabel:"KByte"},{id:6,name:"Network IO Drop",func:"containerNetworkIoDropList",type:"lineChart",percent:!1,axisLabel:"Count"},{id:7,name:"Network IO Error",func:"containerNetworkIoErrorList",type:"lineChart",percent:!1,axisLabel:"Count"}],l=[{id:1,name:"Total",func:"alarmStatisticTotal",type:"lineChart",percent:!1,axisLabel:"Count"},{id:2,name:"Service",func:"alarmStatisticService",type:"lineChart",percent:!1,axisLabel:"Count"},{id:3,name:"Matrix",func:"alarmStatisticMatrix",type:"lineChart",percent:!1,axisLabel:"Count"}],r={version:"0.0.1",expire:"0.0.1"};angular.module("monitoring").constant("malarkey",malarkey).constant("moment",moment).constant("apiUris",e).constant("nodeChartConfig",t).constant("tenantChartConfig",s).constant("boshChartConfig",n).constant("paastaChartConfig",i).constant("containerChartConfig",o).constant("paasAlarmStatisticChartConfig",l).constant("constants",r)}(),function(){"use strict";function a(a,e){a.interceptors.push("authInterceptor"),a.defaults.withCredentials=!0,a.interceptors.push("XSRFInterceptor"),e.debugEnabled(!0)}function e(a,e){a.decorator("localStorageService",["$delegate",function(a){var t=a.get,s=a.set;return a.get=function(n){if(t(n)){var i=t(n);if(i.expire){var o=Date.now();if(i.expire<o)return a.remove(n),null;var l=Date.now()+36e5*e.expire;return s(n,{data:i.data,expire:l}),i.data}return i}return null},a.set=function(a,e,t){var n=null;angular.isNumber(t)?(n=Date.now()+36e5*t,s(a,{data:e,expire:n})):s(a,e)},a}])}a.$inject=["$httpProvider","$logProvider"],e.$inject=["$provide","constants"],angular.module("monitoring").config(a).config(e)}(),angular.module("monitoring").run(["$templateCache",function(a){a.put("app/dashboard/dashboard.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=contents><div class="panel panel-default"><div class=panel-heading>IaaS Summary</div><div class=panel-body><div class="col-xs-6 col-sm-6 col-md-3"><div class=gauge-div><div class=gauge-title>VCPU 사용량</div><liquid seq=1 percentage=cpuPercent></liquid></div><div class=gauge-usage>사용 {{ dashboard.summary.vcpuUsed || 0 | number }}개 / 전체 {{ dashboard.summary.vcpuTotal || 0 | number }}개</div></div><div class="col-xs-6 col-sm-6 col-md-3"><div class=gauge-div><div class=gauge-title>Memory 사용량</div><liquid seq=2 percentage=memPercent></liquid></div><div class=gauge-usage><div>사용 {{ dashboard.summary.memoryMbUsed || 0 | number }}MB / 전체 {{ dashboard.summary.memoryMbTotal || 0 | number }}MB</div><div>{{ dashboard.summary.memoryMbFree || 0 | number }}MB 사용가능</div></div></div><div class="col-xs-6 col-sm-6 col-md-3"><div class=gauge-div><div class=gauge-title>Disk 사용량</div><liquid seq=3 percentage=diskPercent></liquid></div><div class=gauge-usage><div>사용 {{ dashboard.summary.diskGbUsed || 0 | number }}GB / 전체 {{ dashboard.summary.diskGbTotal || 0 | number }}GB</div><div>{{ dashboard.summary.diskGbLeastAvailable || 0 | number }}GB 사용가능</div></div></div><div class="col-xs-6 col-sm-6 col-md-3"><div class=gauge-div><div class=gauge-title>인스턴스</div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Max Instance</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ dashboard.summary.vmTotalLimit || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Running / OK</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ dashboard.summary.vmState[1].vmCount || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">No Status</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ dashboard.summary.vmState[0].vmCount || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Idle / Blocked</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ dashboard.summary.vmState[2].vmCount || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Paused</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ dashboard.summary.vmState[3].vmCount || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Shutting down</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ dashboard.summary.vmState[4].vmCount || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Shut Off</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ dashboard.summary.vmState[5].vmCount || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Crashed</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ dashboard.summary.vmState[6].vmCount || 0 | number }} 개</span></div></div></div></div></div><div class="panel panel-default"><div class=panel-heading>PaaS Summary</div><div class=panel-body><div class="row summary-row"><div class="loader-container no-panel" ng-show=loadingSummary><div class="loader loader--audioWave"></div></div><div class=summary-box><div class=fa-spinner-container><i class="fa fa-spinner fa-pulse fa-fw" ng-show=loadingSummaryBosh></i></div><nvd3 options=bosh.chart.options data=bosh.chart.data api=bosh.chart.api config=config events=events></nvd3></div><div class=summary-box><div class=fa-spinner-container><i class="fa fa-spinner fa-pulse fa-fw" ng-show=loadingSummaryPaasta></i></div><nvd3 options=paasta.chart.options data=paasta.chart.data api=paasta.chart.api config=config events=events></nvd3></div><div class=summary-box><div class=fa-spinner-container><i class="fa fa-spinner fa-pulse fa-fw" ng-show=loadingSummaryContainer></i></div><nvd3 options=container.chart.options data=container.chart.data api=container.chart.api config=config events=events></nvd3></div></div></div></div><div class=row><div class=col-md-6><div class="panel panel-default"><div class=panel-heading>IaaS Alarm View</div><div class=panel-body><div class=event_box><div class="box01 box" ng-click="goAlarmPage(\'iaas\', \'total\'); "><p class=txt>Total</p><p class=num>{{ dashboard.iaasAlarmView.totalCnt }}</p></div><div class="box02 box" ng-click="goAlarmPage(\'iaas\', \'HIGH\'); "><p class=txt>Warning</p><p class=num>{{ dashboard.iaasAlarmView.warningCnt }}</p></div><div class="box03 box" ng-click="goAlarmPage(\'iaas\', \'CRITICAL\'); "><p class=txt>Critical</p><p class=num>{{ dashboard.iaasAlarmView.criticalCnt }}</p></div></div></div></div></div><div class=col-md-6><div class="panel panel-default"><div class=panel-heading>PaaS Alarm View</div><div class=panel-body><div class=event_box><div class="box01 box" ng-click="goAlarmPage(\'paas\', \'total\'); "><p class=txt>Total</p><p class=num>{{ dashboard.paasAlarmView.totalCnt }}</p></div><div class="box02 box" ng-click="goAlarmPage(\'paas\', \'warning\'); "><p class=txt>Warning</p><p class=num>{{ dashboard.paasAlarmView.warningCnt }}</p></div><div class="box03 box" ng-click="goAlarmPage(\'paas\', \'critical\'); "><p class=txt>Critical</p><p class=num>{{ dashboard.paasAlarmView.criticalCnt }}</p></div></div></div></div></div></div></div>'),a.put("app/login/login.html",'<div class=loading-container ng-show=loading><div class="loading loading--audioWave"></div></div><div class=login-wrap><content class=login-content><section class=login><div id=myModal class=login-modal><!-- Modal content --><div class=login-modal-content><div class=login-modal-header><h2><img src=assets/images/logo.png></h2></div><div class=login-modal-body><h3>Welcome</h3><form><ul class=user_info><li><img src=assets/images/login/ic_person.png> <input type=text name=name placeholder="이메일을 입력하세요." ng-model=login.email></li><li class=input-add><img src=assets/images/login/ic_lock.png> <input type=Password name=Password placeholder="비밀번호를 입력하세요." ng-model=login.password></li></ul><ul class=send><li><input type=submit name=login value=로그인 ng-click=login.login()></li></ul></form><div class=member><!--<div class="left">--><!--<a data-toggle="modal" data-target="#findIdModal">아이디 찾기</a>--><!--&nbsp;&nbsp;|&nbsp;&nbsp;--><!--<a data-toggle="modal" data-target="#findPwModal">비밀번호 찾기</a>--><!--</div>--><div style=float:right;font-size:16px><a href=#/member/join>회원가입</a></div></div></div></div></div></section></content></div>'),a.put("app/member/member.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><div class=contents><div class="panel panel-default"><div class=panel-heading>Member Info</div><div class=panel-body><form class=form-horizontal name=signUpForm id=signUpForm role=form><div class=form-group><label for=userId class="col-sm-2 control-label">ID</label><div class=col-sm-5><input type=text class=form-control id=userId name=userId placeholder=ID ng-model=member.memberInfo.userId ng-required=true ng-minlength=4 ng-maxlength=15 ng-blur="member.duplicateConfirm(\'userId\')" ng-readonly=type></div><div class="col-sm-3 alert-warning" ng-show=signUpForm.userId.$error.minlength role=alert>아이디는 4글자 이상 15자 미만이어야 합니다.</div></div><div class=form-group><label for=userNm class="col-sm-2 control-label">Name</label><div class=col-sm-5><input type=text class=form-control id=userNm name=userNm placeholder=Name ng-model=member.memberInfo.userNm ng-required=true></div></div><div class=form-group><label for=userPw class="col-sm-2 control-label">Password</label><div class=col-sm-5><input type=password class=form-control id=userPw name=userPw placeholder=Password ng-model=member.memberInfo.userPw ng-required=member.pwShow ng-minlength=4 ng-maxlength=15></div><div class="col-sm-3 alert-warning" ng-show=signUpForm.userPw.$error.pattern role=alert>패스워드는 최소 4글자, 최대 15글자이고 적어도 나의 소문자, 대문자, 숫자를 포함해야합니다.</div></div><div class=form-group><label for=userPwConfirm class="col-sm-2 control-label">Password Confirm</label><div class=col-sm-5><input type=password class=form-control id=userPwConfirm placeholder="Password Confirm" ng-model=member.memberInfo.userPwConfirm ng-required=member.pwShow></div><div class="col-sm-3 alert-warning" ng-show="member.memberInfo.userPw != member.memberInfo.userPwConfirm" role=alert>패스워드가 일치하지 않습니다.</div></div><div class=form-group><label for=userEmail class="col-sm-2 control-label">e-mail</label><div class=col-sm-5><input type=text class=form-control id=userEmail name=userEmail placeholder="Email Name" ng-model=member.memberInfo.userEmail ng-pattern=/^[\\w-]+(\\.[\\w-]+)*@([a-z0-9-]+(\\.[a-z0-9-]+)*?\\.[a-z]{2,6}|(\\d{1,3}\\.){3}\\d{1,3})(:\\d{4})?$/ noncapitalize required ng-blur="blur(\'userEmail\')"></div><div class="col-sm-3 alert-warning" ng-show=signUpForm.userEmail.$error.pattern role=alert>이메일 형식에 맞춰 작업해야 합니다.</div></div></form></div></div><div class=row><div ng-class=member.leftClass ng-show=member.leftShow><div class="panel panel-default"><div class=panel-heading>IaaS Info</div><div class=panel-body><div class=col-md-3 style="border-right: 1px solid #cccccc"><div class=check-area><input type=checkbox id=iaasUserUseYn ng-model=member.memberInfo.iaasUserUseYn ng-true-value="\'Y\'" ng-false-value="\'N\'" ng-click="member.userUseConfirm(\'iaas\');"><label for=iaasUserUseYn>IaaS</label></div></div><div class=col-md-6><form class=form-horizontal id=iaasUSer><div class=form-group><label for=iaasUserId class="col-sm-2 control-label">ID</label><div class=col-sm-10><input type=text class=form-control id=iaasUserId placeholder="IaaS User ID" ng-model=member.memberInfo.iaasUserId ng-keypress="member.certifyChange(\'IaaS\')" ng-blur="member.duplicateConfirm(\'iaasUser\')"> <input type=hidden class=form-control id=iaasUserChck name=iaasUserChck ng-model=member.memberInfo.iaasUserChck></div></div><div class=form-group style="margin-bottom: 0"><label for=iaasUserPw class="col-sm-2 control-label">PW</label><div class=col-sm-10><input type=password class=form-control id=iaasUserPw placeholder="IaaS User PW" ng-model=member.memberInfo.iaasUserPw></div></div></form></div><div class=col-md-2><button type=button class="btn btn-info btn-certi" ng-click="member.certificationConfirm(\'IaaS\', false)" data-ng-disabled="member.memberInfo.iaasUserId==\'\'">인증<br>하기</button></div></div><div ng-show=member.memberInfo.iaasUserChck class=alert-success role=alert>IaaS 계정이 인증 되었습니다.</div><div ng-show="!member.memberInfo.iaasUserChck && member.memberInfo.iaasUserUseYn == \'Y\'" class=alert-danger role=alert>IaaS {{ member.iaasCertificationMsg }}</div></div></div><div ng-class=member.rightClass ng-show=member.rightShow><div class="panel panel-default"><div class=panel-heading>PaaS Info</div><div class=panel-body><div class=col-md-3 style="border-right: 1px solid #cccccc"><div class=check-area><input type=checkbox id=paasUserUseYn ng-model=member.memberInfo.paasUserUseYn ng-true-value="\'Y\'" ng-false-value="\'N\'" ng-click="member.userUseConfirm(\'paas\');"><label for=paasUserUseYn>PaaS</label></div></div><div class=col-md-6><form class=form-horizontal id=paasUSer><div class=form-group><label for=paasUserId class="col-sm-2 control-label">ID</label><div class=col-sm-10><input type=text class=form-control id=paasUserId placeholder="PaaS User ID" ng-model=member.memberInfo.paasUserId ng-keypress="member.certifyChange(\'PaaS\')" ng-blur="member.duplicateConfirm(\'paasUser\')"> <input type=hidden class=form-control id=paasUserChck ng-model=member.memberInfo.paasUserChck></div></div><div class=form-group style="margin-bottom: 0"><label for=paasUserPw class="col-sm-2 control-label">PW</label><div class=col-sm-10><input type=password class=form-control id=paasUserPw placeholder="PaaS User PW" ng-model=member.memberInfo.paasUserPw></div></div></form></div><div class=col-md-2><button type=button class="btn btn-info btn-certi" ng-click="member.certificationConfirm(\'PaaS\', false)">인증<br>하기</button></div></div><div ng-show="member.memberInfo.paasUserChck && member.memberInfo.paasUserUseYn == \'Y\'" class=alert-success role=alert>PaaS 계정이 인증 되었습니다.</div><div ng-show="!member.memberInfo.paasUserChck && member.memberInfo.paasUserUseYn == \'Y\'" class=alert-danger role=alert>PaaS {{ member.paasCertificationMsg }}</div></div></div></div><div class=accept_box><div class=sub-btn align=right ng-if=!type><button type=button class="btn btn-primary medium" ng-disabled=!signUpForm.$valid data-toggle=modal data-target=#confirmModal ng-click=member.confirmJoin()>Join</button> <button type=button class="btn btn-default medium" ng-click="member.movePage(\'/login\')">Cancel</button></div><div class=sub-btn align=right ng-if=type><button type=button class="btn btn-primary medium" ng-disabled=!signUpForm.$valid data-toggle=modal data-target=#confirmModal ng-click=member.confirmSave()>Save</button> <button type=button class="btn btn-default medium" ng-click=member.movePage(member.cancelUrl)>Cancel</button></div></div></div><!-- Modal --><div class="modal fade" id=confirmModal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title style="font-size: 15px">{{ member.modalTitle }}</h4></div><div class=modal-body>{{ member.modalMessage }}</div><div class=modal-footer><button type=button class="btn btn-primary" data-dismiss=modal ng-click=member.confirmCallback() ng-show=member.confirmShow>Accept</button> <button type=button class="btn btn-default" data-dismiss=modal>Close</button></div></div></div></div><div class="modal fade" id=alertModal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title style="font-size: 15px">{{ member.modalTitle }}</h4></div><div class=modal-body>{{ member.modalMessage }}</div><div class=modal-footer><button type=button class="btn btn-primary" data-dismiss=modal ng-click=member.confirmCallback() ng-show=member.alertShow>Confirm</button> <button type=button class="btn btn-default" data-dismiss=modal ng-show=member.closeShow>Close</button></div></div></div></div>'),
a.put("app/component/modal/modal.html",'<div class="modal fade"><div class=modal-dialog><div class=modal-content><div class=loading-container ng-show=loadingModal><div loading is-shown=loadingModal is-modal=true class="loading loading--audioWave"></div></div><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title>{{ modalTitle }}</h4></div><div class=modal-body ng-transclude></div></div></div></div>'),a.put("app/component/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse"><div class=container-fluid><div class=navbar-header><button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=#bs-navbar-collapse aria-expanded=false><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href="{{ brandUrl }}"><img src=assets/images/logo.png></a></div><div class="collapse navbar-collapse" id=bs-navbar-collapse><ul class="nav navbar-nav"><li ng-class="{\'active\':selected === \'iaas\'}" ng-show="(sysType == \'ALL\' || sysType == \'IaaS\') && iaasMenuAuth == \'S\'" ng-click=eventHandler($event)><a href=#/iaas/main>IaaS-Monitoring</a></li><li ng-class="{\'active\':selected === \'paas\'}" ng-show="(sysType == \'ALL\' || sysType == \'PaaS\') && paasMenuAuth == \'S\'" ng-click=eventHandler($event)><a href=#/paas/main>PaaS-Monitoring</a></li></ul><ul class="nav navbar-nav navbar-right"><li class=navbar-icon><a href="" class=dropdown-toggle data-toggle=dropdown role=button aria-haspopup=true aria-expanded=false><i class="fa fa-bell fa-lg"></i> <span ng-show=alarms class=navbar-badge>{{ alarms }}</span></a><ul class="dropdown-menu alram"><li ng-class="{\'alarmRed\':iaasAlarms > 0}" ng-show="(sysType == \'ALL\' || sysType == \'IaaS\') && iaasMenuAuth == \'S\'"><i class="fa fa-bell fa-sm"></i> <a href=#/iaas/alarm/status ng-class="{\'alarmRed\':iaasAlarms > 0}">IaaS <span ng-show=iaasAlarms>({{ iaasAlarms }})</span></a></li><li ng-class="{\'alarmRed\':paasAlarms > 0}" ng-show="(sysType == \'ALL\' || sysType == \'PaaS\') && paasMenuAuth == \'S\'"><i class="fa fa-bell fa-sm"></i> <a href=#/paas/alarm/status ng-class="{\'alarmRed\':paasAlarms > 0}">PaaS <span ng-show=paasAlarms>({{ paasAlarms }})</span></a></li></ul></li><li class=navbar-icon><a href data-toggle=modal data-target=#timeRange ng-click=timeRangeTop($event)><i class="fa fa-calendar fa-lg"></i>&nbsp; {{ timeRangeString || \'조회주기\' }}</a></li><li class=navbar-icon><a href ng-click=reload()><i class="fa fa-refresh fa-lg" ng-class="{\'fa-spin\': spin}"></i></a></li><li class=dropdown><a href="" class=dropdown-toggle data-toggle=dropdown role=button aria-haspopup=true aria-expanded=false><i class="fa fa-user fa-lg"></i>&nbsp;&nbsp;{{ username }}<span class=caret></span></a><ul class=dropdown-menu><li style="padding-bottom:96px;border-bottom:1px solid"><div class=user-info><i class="fa fa-user"></i><div class=info><p>{{ username }}</p><span>{{ email }}</span></div></div></li><li><a href=#/member/info>User Info</a></li><li><a href="" ng-click=logout()>Log Out</a></li></ul></li></ul></div></div></nav><!-- Modal --><div class="modal fade" id=timeRange tabindex=-1 role=dialog aria-labelledby=myModalLabel><div class=modal-dialog role=document><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=myModalLabel>Time Range</h4></div><div class=modal-body><div class=row style="margin-bottom: 10px"><div class="col-xs-4 col-md-4"><label class=checkbox-inline><input type=radio name=radioTimeRange ng-model=selTimeRange ng-change=selectGroupBy() value=15m>최근 15분</label></div><div class="col-xs-4 col-md-4"><label class=checkbox-inline><input type=radio name=radioTimeRange ng-model=selTimeRange ng-change=selectGroupBy() value=30m>최근 30분</label></div><div class="col-xs-4 col-md-4"><label class=checkbox-inline><input type=radio name=radioTimeRange ng-model=selTimeRange ng-change=selectGroupBy() value=1h>최근 1시간</label></div><div class="col-xs-4 col-md-4"><label class=checkbox-inline><input type=radio name=radioTimeRange ng-model=selTimeRange ng-change=selectGroupBy() value=3h>최근 3시간</label></div><div class="col-xs-4 col-md-4"><label class=checkbox-inline><input type=radio name=radioTimeRange ng-model=selTimeRange ng-change=selectGroupBy() value=6h>최근 6시간</label></div><div class="col-xs-4 col-md-4"><label class=checkbox-inline><input type=radio name=radioTimeRange ng-model=selTimeRange ng-change=selectGroupBy() value=12h>최근 12시간</label></div><div class="col-xs-4 col-md-4"><label class=checkbox-inline><input type=radio name=radioTimeRange ng-model=selTimeRange ng-change=selectGroupBy() value=1d>최근 1일</label></div><div class="col-xs-4 col-md-4"><label class=checkbox-inline><input type=radio name=radioTimeRange ng-model=selTimeRange ng-change=selectGroupBy() value=7d>이번 주</label></div><div class="col-xs-4 col-md-4"><label class=checkbox-inline><input type=radio name=radioTimeRange ng-model=selTimeRange ng-change=selectGroupBy() value=30d>이번 달</label></div></div><div class=row><div class=col-md-12 style="margin-bottom: 5px"><label class=checkbox-inline><input type=radio name=radioTimeRange ng-model=selTimeRange ng-change=selectGroupBy() value=custom>수동설정</label></div><div class=col-md-12><div class=form-inline><div class="input-group date" datetimepicker options=optionsFrom ng-model=timeRangeTo ng-change="updateTimeRange(timeRangeTo, timeRangeFrom)"><input class=form-control ng-disabled="selTimeRange != \'custom\'"> <span class=input-group-addon><span class="glyphicon glyphicon-calendar"></span></span></div>~<div class="input-group date" datetimepicker options=optionsTo ng-model=timeRangeFrom ng-change="updateTimeRange(timeRangeTo, timeRangeFrom)"><input class=form-control ng-disabled="selTimeRange != \'custom\'"> <span class=input-group-addon><span class="glyphicon glyphicon-calendar"></span></span></div></div></div></div></div><div class=modal-header><h4 class=modal-title id=myModalLabel2>Refreshing Time</h4></div><div class=modal-body><select class=form-control ng-model=selRefreshTime><option>off</option><option>1m</option><option>5m</option><option>15m</option><option>30m</option><option>1h</option><option>2h</option><option>1d</option></select></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>Close</button> <button type=button class="btn btn-primary" data-dismiss=modal ng-click=saveTimeRange()>Save changes</button></div></div></div></div>'),a.put("app/component/sidebar/iaasSidebar.html",'<div class=nav-side-menu><div class=menu-list><div class=brand>IaaS-Monitoring</div><ul id=menu-content class="menu-content out"><li ng-class="{\'active\':selected === \'imn\'}" ng-click="goPage(\'/iaas/manage_node\')"><a href=#/iaas/manage_node><i class="fa fa-cog fa-lg"></i> Manage Node</a></li><li ng-class="{\'active\':selected === \'icn\'}" ng-click="goPage(\'/iaas/compute_node\')"><a href=#/iaas/compute_node><i class="fa fa-laptop fa-lg"></i> Compute Node</a></li><li ng-class="{\'active\':selected === \'itt\'}" ng-click="goPage(\'/iaas/tenant\')"><a href=#/iaas/tenant><i class="fa fa-id-card fa-lg"></i> Tenant</a></li><li ng-class="{\'active\':selected === \'ial\'}" data-toggle=collapse data-target=#almSub class=collapsed aria-expanded="{{ alarmSelected }}"><a><i class="fa fa-bell fa-lg"></i> Alarm <span class=arrow></span></a></li><ul class="sub-menu collapse" ng-class="{\'in\':alarmSelected === true}" id=almSub aria-expanded="{{ alarmSelected }}"><li ng-class="{\'active\':subSelected === \'ialn\'}" ng-click="goPage(\'/iaas/alarm/notification\')"><a href=#/iaas/alarm/notification>Notification</a></li><li ng-class="{\'active\':subSelected === \'iapc\'}" ng-click="goPage(\'/iaas/alarm/policy\')"><a href=#/iaas/alarm/policy>Policy</a></li><li ng-class="{\'active\':subSelected === \'ials\'}" ng-click="goPage(\'/iaas/alarm/status\')"><a href=#/iaas/alarm/status>Status</a></li></ul></ul></div></div>'),a.put("app/component/sidebar/paasSidebar.html",'<div class=nav-side-menu><div class=menu-list><div class=brand>PaaS-Monitoring</div><ul id=menu-content class="menu-content out"><li ng-class="{\'active\':selected === \'pbs\'}" ng-click="goPage(\'/paas/bosh\')"><a href=#/paas/bosh><i class="fa fa-cogs fa-lg"></i> bosh</a></li><li ng-class="{\'active\':selected === \'ppt\'}" ng-click="goPage(\'/paas/paasta\')"><a href=#/paas/paasta><i class="fa fa-cloud-upload fa-lg"></i> PaaS-TA</a></li><li ng-class="{\'active\':selected === \'pct\'}" ng-click="goPage(\'/paas/container\')"><a href=#/paas/container><i class="fa fa-cubes fa-lg"></i> Container</a></li><li ng-class="{\'active\':selected === \'pal\'}" data-toggle=collapse data-target=#almSub aria-expanded="{{ alarmSelected }}"><a><i class="fa fa-bell fa-lg"></i> Alarm <span class=arrow></span></a></li><ul class="sub-menu collapse" ng-class="{\'in\':alarmSelected === true}" id=almSub aria-expanded="{{ alarmSelected }}"><li ng-class="{\'active\':subSelected === \'papc\'}" ng-click="goPage(\'/paas/alarm/policy\')"><a href=#/paas/alarm/policy>Policy</a></li><li ng-class="{\'active\':subSelected === \'pasu\'}" ng-click="goPage(\'/paas/alarm/status\')"><a href=#/paas/alarm/status>Status</a></li><li ng-class="{\'active\':subSelected === \'past\'}" ng-click="goPage(\'/paas/alarm/statistics\')"><a href=#/paas/alarm/statistics>Statistics</a></li></ul></ul></div></div>'),a.put("app/iaas/alarm/alarm_notification.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Alarm Notification</div><div class=panel-body><div class=form-inline style="margin-bottom: 20px"><button class="btn btn-primary small" data-toggle=modal data-target=#infoModal ng-click="aln.detail=null">Create</button> <button class="btn btn-danger small" ng-show="aln.checkedCnt > 0" data-toggle=modal data-target=#deleteModal>Delete</button></div><table class="table table-condensed"><colgroup><col><col><col></colgroup><thead><tr><th class=text-center><input type=checkbox ng-model=aln.selectAll ng-click=aln.checkAllNotification() ng-checked="aln.checkedCnt == aln.alarmNotificationList.length"></th><th class=text-center>Name</th><th class=text-center>Email</th></tr></thead><tbody><tr ng-show="aln.alarmNotificationList.length > 0" ng-repeat="item in aln.alarmNotificationList" class=text-center><td><input type=checkbox ng-click=aln.checkNotification(item) ng-model=item.select></td><td class=link><a href data-toggle=modal data-target=#infoModal ng-click=aln.getAlarmNotification(item)>{{ item.name }}</a></td><td>{{ item.email }}</td></tr><tr ng-show="aln.alarmNotificationList.length == 0" class=text-center><td colspan=3>No Data Available.</td></tr></tbody></table><button type=button class="btn btn-info btn-block small" ng-show="aln.totalCount > 0" ng-click=aln.getAlarmNotificationList() ng-disabled="aln.alarmNotificationList.length >= aln.totalCount"><span ng-bind-html=aln.moreButton></span></button></div></div></div></div></div><!-- Modal --><div class="modal fade" id=infoModal tabindex=-1 role=dialog aria-labelledby=infoModalLabel><div class=modal-dialog role=document><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=infoModalLabel>Alarm Notification - {{ aln.detail.name || \'Registration\' }}</h4></div><div class=modal-body><form class=form-horizontal><div class=form-group><label for=name class="col-sm-2 control-label">Name</label><div class=col-sm-10><input type=text class=form-control id=name placeholder=Name ng-model=aln.detail.name></div></div><div class=form-group><label for=email class="col-sm-2 control-label">Email</label><div class=col-sm-10><input type=email class=form-control id=email placeholder=Email ng-model=aln.detail.email></div></div></form></div><div class=modal-footer><button type=button class="btn btn-default small" data-dismiss=modal>Close</button> <button type=button class="btn btn-primary small" data-dismiss=modal ng-click=aln.saveAlarmNotification()>Save</button></div></div></div></div><!-- delete Modal --><div class="modal fade" id=deleteModal tabindex=-1 role=dialog aria-labelledby=deleteModalLabel><div class=modal-dialog role=document><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=deleteModalLabel>Delete {{ aln.detail.name }}</h4></div><div class=modal-body>삭제하시겠습니까?</div><div class=modal-footer><button type=button class="btn btn-default small" data-dismiss=modal>Close</button> <button type=button class="btn btn-danger small" data-dismiss=modal ng-click=aln.deleteAlarmNotification()>Delete</button></div></div></div></div>'),a.put("app/iaas/alarm/alarm_policy.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Alarm Policy</div><div class=panel-body><div class=form-inline style="margin-bottom: 20px"><a href=#/iaas/alarm/policy/new><button class="btn btn-primary small" data-toggle=modal data-target=#alarmPolicyModal>Create</button> </a><button class="btn btn-danger small" ng-show="alp.checkedCnt > 0" data-toggle=modal data-target=#deleteModal>Delete</button></div><form class=form-inline><select class=form-control ng-model=alp.selectedSeverity><option value="">Severity 전체</option><option value=CRITICAL>CRITICAL</option><option value=HIGH>WARNING</option></select><div class=form-group><input type=text class=form-control placeholder="Enter Full Name" ng-model=alp.searchCondition></div><div class="form-group time"><button class=btn ng-click=alp.searchAlarmPolicy();></button></div></form><table class="table table-condensed"><colgroup><col><col><col><col><col></colgroup><thead><tr><th class=text-center><input type=checkbox ng-model=alp.selectAll ng-click=alp.checkAllPolicy() ng-checked="alp.checkedCnt == alp.alarmPolicyList.length"></th><th class=text-left>Name</th><th class=text-left>Expression</th><th class=text-center>Match By</th><th class=text-center>Severity</th></tr></thead><tbody><tr ng-show="alp.alarmPolicyList.length > 0" ng-repeat="item in alp.alarmPolicyList" class=text-center><td><input type=checkbox ng-click=alp.checkPolicy(item) ng-model=item.select></td><!--<td class="text-left link"><a href data-toggle="modal" data-target="#alarmPolicyModal" ng-click="alp.getAlarmPolicy(item)">{{ item.name }}</a></td>--><td class="text-left link"><a href="#/iaas/alarm/policy/{{ item.id }}">{{ item.name }}</a></td><td class=text-left>{{ item.expression }}</td><td><span ng-repeat="matchBy in item.matchBy">{{ matchBy }}<br></span></td><td><span ng-class=alarmSeverityClass(item.severity)>{{ item.severity }}</span></td></tr><tr ng-show="alp.alarmPolicyList.length == 0" class=text-center><td colspan=5>No Data Available.</td></tr></tbody></table><button type=button class="btn btn-info btn-block medium" ng-show="alp.totalCount > 0" ng-click=alp.getAlarmPolicyList() ng-disabled="alp.alarmPolicyList.length >= alp.totalCount"><span ng-bind-html=alp.moreButton></span></button></div></div></div></div></div><!-- Modal --><div class="modal fade" id=deleteModal tabindex=-1 role=dialog aria-labelledby=deleteModalLabel><div class=modal-dialog role=document><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=deleteModalLabel>Delete</h4></div><div class=modal-body>삭제하시겠습니까?</div><div class=modal-footer><button type=button class="btn btn-default small" data-dismiss=modal>Close</button> <button type=button class="btn btn-danger small" data-dismiss=modal ng-click=alp.deleteAlarmPolicy()>Delete</button></div></div></div></div>'),a.put("app/iaas/alarm/alarm_policy_detail.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>{{ alp.pageTitle || \'Alarm Policy Registration\' }}</div><div class=panel-body><form class=form-horizontal id=alarmPolicy><div class=form-group><label for=name class="col-sm-2 control-label">Name</label><div class=col-sm-9><input type=text class=form-control id=name placeholder=Name ng-model=alp.alarmPolicy.name></div></div><div class=form-group><label for=severity class="col-sm-2 control-label">Severity</label><div class=col-sm-9><select class=form-control ng-model=alp.alarmPolicy.severity id=severity><option value=CRITICAL>CRITICAL</option><option value=HIGH>WARNING</option></select></div></div><div class=form-group><label for=matchBy class="col-sm-2 control-label">Match By</label><div class=col-sm-9><input type=text class=form-control id=matchBy placeholder="Match By" ng-model=alp.alarmPolicy.matchBy disabled></div></div><div class=form-group><label class="col-sm-2 control-label">Expression</label><div class=col-sm-9><div class=form-inline ng-repeat="item in alp.alarmPolicy.arrExpression"><select class=form-control ng-model=item.func><option value=max>MAX</option><option value=min>MIN</option></select><select class=form-control ng-model=item.metric ng-disabled=alp.expressionYn><optgroup label="Node Measurement"><option value=cpu.percent>cpu.percent</option><option value=mem.usable_perc>mem.usable_perc</option><!--<option value="disk.space_used_perc">disk.space_used_perc</option>--></optgroup><!--\n                    <optgroup label="Vm Instance Measurement">\n                      <option value="vm.cpu.utilization_norm_perc">vm.cpu.utilization_norm_perc</option>\n                      <option value="vm.mem.free_perc">vm.mem.free_perc</option>\n                    </optgroup>\n                    --></select><select class=form-control ng-model=item.operation><option value=">">&gt;</option><option value=">=">&gt;=</option><option value="<">&lt;</option><option value="<=">&lt;=</option></select><input type=number class=form-control id=expressionValue placeholder=Value ng-model=item.value> <input type=button class=form-control title="{{ item.dimension }}" value="{{ item.dimension || \'hostname=all\' }}" ng-click="alp.setDimensionModal(item, $index)"><!--<select class="form-control" ng-model="item.gate">\n                    <option value="and" ng-selected="true">AND</option>\n                    <option value="or">OR</option>\n                  </select>--><hr class=hr-margin10></div></div></div><div class=form-group><label for=description class="col-sm-2 control-label">Alarm Receiver</label><div class="col-sm-9 alarm-action"><button class="btn btn-default" ng-repeat="item in alp.alarmPolicy.alarmAction" ng-click=alp.deleteAlarmAction($index)>{{ item.name }} <i class="glyphicon glyphicon-remove"></i></button> <button class="btn btn-info" id=btnPlus ng-click=alp.setAlarmActionModal()><i class="glyphicon glyphicon-plus"></i></button></div></div><div class=form-group><label for=description class="col-sm-2 control-label">Description</label><div class=col-sm-9><textarea class=form-control rows=5 id=description placeholder=Description ng-model=alp.alarmPolicy.description></textarea></div></div><div class=form-group><div class="col-sm-offset-2 col-sm-9"><a href=#/iaas/alarm/policy><button type=submit class="btn btn-default medium">List</button></a> <button type=submit class="btn btn-primary medium" ng-click=alp.saveAlarmPolicy()>Save</button></div></div></form></div></div></div></div></div><!-- Save Modal --><div class="modal fade" id=deleteModal tabindex=-1 role=dialog aria-labelledby=deleteModalLabel><div class=modal-dialog role=document><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=deleteModalLabel>저장</h4></div><div class=modal-body>저장하시겠습니까?</div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>Close</button> <button type=button class="btn btn-danger" data-dismiss=modal ng-click=alp.saveAlarmPolicy()>Save</button></div></div></div></div><!-- Dimension Modal --><modal modal-title=dimensionTitle modal-visible=showDimensionModal><form role=form><div class=form-group><label>Dimension</label><select class=form-control><option value=hostname ng-model=selDimension>hostname</option></select></div><div class=form-group ng-show="alp.measurementType==\'node\'"><label>Node</label><select class=form-control ng-model=alp.selDimensionValue1 ng-options="node for node in alp.nodeList"></select></div><div class=form-group ng-show="alp.measurementType==\'vm\'"><label>Teant</label><select class=form-control ng-model=alp.selDimensionValue1 ng-options="tenant.name for tenant in alp.tenantList"></select></div><div class=form-group ng-show="alp.measurementType==\'vm\'"><label>Instance</label><select class=form-control ng-model=alp.selDimensionValue2 ng-options="instance.name for instance in alp.instanceList"></select></div><button type=button class="btn btn-default" data-dismiss=modal ng-click=alp.setDimension()>Submit</button></form></modal><!-- AlarmAction Modal --><modal modal-title=alarmActionTitle modal-visible=showAlarmActionModal><table class="table table-condensed"><colgroup><col><col></colgroup><thead><tr><th class=text-center>Name</th><th class=text-center>Email</th></tr></thead><tbody><tr ng-show="alp.rAlarmNotificationList.length > 0" ng-repeat="item in alp.rAlarmNotificationList" class=text-center ng-class=item.select><td><button type=button class="btn btn-default" ng-click=alp.selectAlarmAction(item) ng-class=item.select ng-disabled=item.disabled>{{ item.name }}</button></td><td>{{ item.email }}</td></tr><tr ng-show="alp.rAlarmNotificationList.length == 0" class=text-center><td colspan=2>No Data Available.</td></tr></tbody></table><button type=button class="btn btn-info btn-block" ng-show="alp.rTotalCount > 0" ng-click=alp.rGetAlarmNotificationList() ng-disabled="alp.rAlarmNotificationList.length >= alp.rTotalCount"><span ng-bind-html=alp.rMoreButton></span></button><hr class=hr-margin10><div class=row><div class=col-sm-12><button type=button class="btn btn-primary pull-right" data-dismiss=modal ng-click=alp.setAlarmAction()>Submit</button></div></div></modal>'),a.put("app/iaas/alarm/alarm_status.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Alarm Status</div><div class=panel-body><form class=form-inline><select class=form-control ng-model=ast.selectedSeverity><option value="">Severity ALl</option><option value=CRITICAL>CRITICAL</option><option value=HIGH>WARNING</option></select><select class=form-control ng-model=ast.selectedState><option value="">State All</option><option value=ALARM>ALARM</option><option value=OK>OK</option><option value=UNDETERMINED>UNDETERMINED</option></select><div class="form-group time"><button class=btn ng-click=ast.searchAlarmStatus();></button></div></form><table class="table table-condensed"><colgroup><col style=width:15%><col><col style=width:8%><col style=width:8%><col style=width:20%><col style=width:10%><col style=width:10%></colgroup><thead><tr><th class=text-center>Date</th><th class=text-center>Host Name</th><th class=text-center>Type</th><th class=text-center>Zone</th><th class=text-center>Alarm Definition Name</th><th class=text-center>Alarm Severity</th><th class=text-center>Alarm State</th></tr></thead><tbody><tr ng-show="ast.alarmStatusList.length > 0" ng-repeat="item in ast.alarmStatusList" class=text-center><td>{{ item.updateTime }}</td><td class=link><a ng-href="#/iaas/alarm/status/{{ item.id }}">{{ item.hostname }}</a></td><td>{{ item.type }}</td><td>{{ item.zone }}</td><td>{{ item.alarmDefinitionName }}</td><td><span ng-class=alarmSeverityClass(item.severity)>{{ item.severity }}</span></td><td>{{ item.state }}</td></tr><tr ng-show="ast.alarmStatusList.length == 0" class=text-center><td colspan=6>No Data Available.</td></tr></tbody></table><button type=button class="btn btn-info btn-block" ng-show="ast.totalCount > 0" ng-click=ast.getAlarmStatusList() ng-disabled="ast.alarmStatusList.length >= ast.totalCount"><span ng-bind-html=ast.moreButton></span></button></div></div></div></div></div>'),a.put("app/iaas/alarm/alarm_status_detail.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class=col-sm-6><div class="panel panel-default"><div class=panel-heading>Alarm Status Detail</div><div class="panel-body alarmDetail"><form class=form-horizontal><div class=form-group><label class="col-sm-3 control-label">Host Name</label><div class="col-sm-8 control-span"><span>{{ ast.detail.hostname }}</span></div></div><div class=form-group><label class="col-sm-3 control-label">Type</label><div class="col-sm-8 control-span"><span>{{ ast.detail.type }}</span></div></div><div class=form-group><label class="col-sm-3 control-label">Zone</label><div class="col-sm-8 control-span"><span>{{ ast.detail.zone }}</span></div></div><div class=form-group><label class="col-sm-3 control-label">State</label><div class="col-sm-8 control-span"><span ng-style="{color: ast.detail.state == \'ALARM\' ? \'red\' : \'\'}">{{ ast.detail.state }}</span></div></div><div class=form-group><label class="col-sm-3 control-label">Severity</label><div class="col-sm-8 control-span"><span>{{ ast.detail.severity }}</span></div></div><div class=form-group><label class="col-sm-3 control-label">Time</label><div class="col-sm-8 control-span"><span>{{ ast.detail.updateTime }}</span></div></div><div class=form-group><label class="col-sm-3 control-label">Expression</label><div class="col-sm-8 control-span"><span>{{ ast.detail.expression }}</span></div></div></form></div></div></div><div class=col-sm-6><div class="panel panel-default"><div class=panel-heading>Alarm History <button class="btn btn-default pull-right margin-horizontal-2" ng-class="{active:ast.timeRange==\'30d\'}" ng-click="ast.getAlarmStatusHistory(\'30d\')">월</button> <button class="btn btn-default pull-right margin-horizontal-2" ng-class="{active:ast.timeRange==\'1w\'}" ng-click="ast.getAlarmStatusHistory(\'1w\')">주</button> <button class="btn btn-default pull-right margin-horizontal-2" ng-class="{active:ast.timeRange==\'1d\'}" ng-click="ast.getAlarmStatusHistory(\'1d\')">일</button></div><div class="panel-body alarmHistory" ng-show=ast.alarmStatusHistoryList><ul class=list-group><li class=list-group-item ng-class="{warning: item.newState == \'ALARM\' && $index == 0}" ng-repeat="item in ast.alarmStatusHistoryList"><h5 class=list-group-item-heading>[{{ item.time }}] <strong>현재: {{ item.newState }}</strong> / 이전: {{ item.oldState }}</h5>사유: {{ item.reason }}</li></ul></div><div class="panel-body alarmHistory text-center" ng-show="ast.alarmStatusHistoryList == null"><span>No Data Available.</span></div></div></div><div class=col-sm-12><div class="panel panel-default"><div class=panel-heading>Alarm Action History</div><div class=panel-body><div class=bt_con><div class=re_box ng-show="ast.alarmActionList!=null"><h2>Action History</h2><div class=con_box ng-repeat="item in ast.alarmActionList"><div class=txt_box><p class=date>{{ item.regDate }}&nbsp;( {{ item.regUser }} )</p><pre ng-hide="ast.modifying==$index" class=info>{{ item.alarmActionDesc }}</pre><div class=detail_box><textarea ng-show="ast.modifying==$index" ng-model=item.alarmActionDesc></textarea></div></div><div class=btn style=left:300px><button class="btn-success btn-xs" title=수정하기 ng-hide="ast.modifying==$index" ng-click=ast.setModifying($index)>Update</button> <button class="btn-danger btn-xs" title=삭제하기 ng-hide="ast.modifying==$index" data-toggle=modal data-target=#confirmModal ng-click=ast.deleteAction(item.id)>Delete</button> <button class="btn-info btn-xs" title=저장하기 ng-show="ast.modifying==$index" data-toggle=modal data-target=#confirmModal ng-click=ast.updateAction(item)>Save</button> <button class="btn-default btn-xs" title=취소하기 ng-show="ast.modifying==$index" ng-click="ast.modifying=-1">Cancel</button></div></div></div><div class=content_box ng-if="pasu.alarm.resolveStatus != 1"><h2>Action Contents</h2><div class=detail_con><textarea id=resolve ng-model=ast.alarmActionDesc></textarea><div class=sub-btn><button class="btn btn-success small" ng-click=ast.insertAlarmAction()>저장</button></div></div></div></div></div></div></div></div></div></div>'),a.put("app/iaas/main/main.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Summary</div><div class=panel-body><div class="col-xs-6 col-sm-6 col-md-3"><div class=gauge-div><div class=gauge-title>VCPU 사용량</div><liquid seq=1 percentage=cpuPercent></liquid></div><div class=gauge-usage>사용 {{ iaasMain.summary.vcpuUsed || 0 | number }}개 / 전체 {{ iaasMain.summary.vcpuTotal || 0 | number }}개</div></div><div class="col-xs-6 col-sm-6 col-md-3"><div class=gauge-div><div class=gauge-title>Memory 사용량</div><liquid seq=2 percentage=memPercent></liquid></div><div class=gauge-usage><div>사용 {{ iaasMain.summary.memoryMbUsed || 0 | number }}MB / 전체 {{ iaasMain.summary.memoryMbTotal || 0 | number }}MB</div><div>{{ iaasMain.summary.memoryMbFree || 0 | number }}MB 사용가능</div></div></div><div class="col-xs-6 col-sm-6 col-md-3"><div class=gauge-div><div class=gauge-title>Disk 사용량</div><liquid seq=3 percentage=diskPercent></liquid></div><div class=gauge-usage><div>사용 {{ iaasMain.summary.diskGbUsed || 0 | number }}GB / 전체 {{ iaasMain.summary.diskGbTotal || 0 | number }}GB</div><div>{{ iaasMain.summary.diskGbLeastAvailable || 0 | number }}GB 사용가능</div></div></div><div class="col-xs-6 col-sm-6 col-md-3"><div class=gauge-div><div class=gauge-title>인스턴스</div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Max Instance</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ iaasMain.summary.vmTotalLimit || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Running / OK</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ iaasMain.summary.vmState[1].vmCount || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">No Status</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ iaasMain.summary.vmState[0].vmCount || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Idle / Blocked</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ iaasMain.summary.vmState[2].vmCount || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Paused</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ iaasMain.summary.vmState[3].vmCount || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Shutting down</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ iaasMain.summary.vmState[4].vmCount || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Shut Off</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ iaasMain.summary.vmState[5].vmCount || 0 | number }} 개</span></div></div><div class=row><div class="col-md-7 pull-left"><span class="main-count pull-right">Crashed</span></div><div class="col-md-5 pull-right"><span class="main-count pull-left">{{ iaasMain.summary.vmState[6].vmCount || 0 | number }} 개</span></div></div></div></div></div><div class="panel panel-default"><div class=panel-heading>Node</div><div class=panel-body><ul class="nav nav-tabs main"><li class=active><a data-toggle=tab data-target=#computeNode>Compute Node</a></li><li><a data-toggle=tab data-target=#manageNode>Manage Node</a></li></ul><div class=tab-content><div id=computeNode class="tab-pane fade in active"><table class=table><colgroup><col style=width:10%><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th class=text-center>Host Name</th><th class=text-center>IP</th><th class=text-center>CPU</th><th class=text-center>Memory (MB)</th><th class=text-center>Disk (GB)</th><th class=text-center>Instances</th><th class=text-center>CPU Usage</th><th class=text-center>Memory Usage</th><th class=text-center>Status</th><th class=text-center>Agent Status</th></tr></thead><tbody><tr ng-repeat="item in iaasMain.computeNodeSummary" class=text-center><td class="text-left link" ng-click=""><a ng-href="#/iaas/compute_node/{{ item.hostname }}">{{ item.hostname }}</a></td><td>{{ item.hostIp }}</td><td>{{ iaasMain.Math.round(item.vcpusUsed) | number }} / {{ iaasMain.Math.round(item.vcpusMax) | number }}</td><td>{{ iaasMain.Math.round(item.memoryMbUsed) | number }} / {{ iaasMain.Math.round(item.memoryMbMax) | number }}</td><td>{{ iaasMain.Math.round(item.diskGbUsed) | number }} / {{ iaasMain.Math.round(item.diskGbMax) | number }}</td><td>{{ iaasMain.Math.round(item.runningVms) | number }} / {{ iaasMain.Math.round(item.totalVms) | number }}</td><td><span ng-style=cpuUsageStyle(Math.floor(item.cpuUsage))>{{ (item.cpuUsage).toFixed(2) | number }}%</span></td><td><span ng-style=memoryUsageStyle(Math.floor(item.memUsage))>{{ (item.memUsage).toFixed(2) | number }}%</span></td><td><span ng-style=textStatusStyle(item.state)>{{ item.state }} ({{ item.status }})</span></td><td><span ng-style=textStatusStyle(item.agentStatus)>{{ item.agentStatus }}</span></td></tr></tbody></table></div><div id=manageNode class="tab-pane fade"><table class=table><colgroup><col><col><col><col><col><col></colgroup><thead><tr><th class=text-center>Host Name</th><th class=text-center>Memory (MB)</th><th class=text-center>Disk (GB)</th><th class=text-center>CPU Usage</th><th class=text-center>Memory Usage</th><th class=text-center>Agent Status</th></tr></thead><tbody><tr ng-repeat="item in iaasMain.manageNodeSummary" class=text-center><td class="text-left link"><a ng-href="#/iaas/manage_node/{{ item.hostname }}">{{ item.hostname }}</a></td><td>{{ iaasMain.Math.round(item.memoryUsedMb) | number }} / {{ iaasMain.Math.round(item.memoryMbMax) | number }}</td><td>{{ iaasMain.Math.round(item.diskGbUsed) | number }} / {{ iaasMain.Math.round(item.diskGbMax) | number }}</td><td><span ng-style=cpuUsageStyle(Math.floor(item.cpuUsage))>{{ (item.cpuUsage).toFixed(2) | number }}%</span></td><td><span ng-style=memoryUsageStyle(Math.floor(item.memoryUsage))>{{ (item.memoryUsage).toFixed(2) | number }}%</span></td><td><span ng-style=textStatusStyle(item.agentStatus)>{{ item.agentStatus }}</span></td></tr></tbody></table></div></div></div></div><div class="panel panel-default"><div class=panel-heading>Tenant</div><div class=panel-body><div class=tab-content><div id=tenant class="tab-pane fade in active"><table class=table><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th class=text-center>Name</th><th class=text-center>VCPU</th><th class=text-center>Memory (MB)</th><th class=text-center>Instances</th><th class=text-center>Floating IP</th><th class=text-center>Security Group</th><th class=text-center>Volumes</th><th class=text-center>Volume Storage(GB)</th><th class=text-center>Status</th></tr></thead><tbody><tr ng-repeat="item in iaasMain.tenantSummary" class=text-center><td class="text-left link"><a ng-href="#/iaas/tenant#{{ item.name }}">{{ item.name }}</a></td><td>{{ iaasMain.Math.round(item.vcpusUsed) | number }} / {{ iaasMain.Math.round(item.vcpusLimit) | number }}</td><td>{{ iaasMain.Math.round(item.memoryMbUsed) | number }} / {{ iaasMain.Math.round(item.memoryMbLimit) | number }}</td><td>{{ iaasMain.Math.round(item.instancesUsed) | number }} / {{ iaasMain.Math.round(item.instancesLimit) | number }}</td><td>{{ iaasMain.Math.round(item.floatingIpsUsed) | number }} / {{ iaasMain.Math.round(item.floatingIpsLimit) | number }}</td><td>{{ iaasMain.Math.round(item.securityGroupsUsed) | number }} / {{ iaasMain.Math.round(item.securityGroupsLimit) | number }}</td><td>{{ iaasMain.Math.round(item.volumeStorageUsed) | number }} / {{ iaasMain.Math.round(item.volumeStorageLimit) | number }}</td><td>{{ iaasMain.Math.round(item.volumeStorageUsedGb) | number }} / {{ iaasMain.Math.round(item.volumeStorageLimitGb) | number }}</td><td><span ng-style=textStatusStyle(item.enabled)>{{ item.enabled }}</span></td></tr></tbody></table></div></div></div></div><div class="panel panel-default"><div class=panel-heading>Alarm View</div><div class=panel-body><table class="table process"><colgroup><col><col><col></colgroup><thead><tr><th class=text-center>Time</th><th class=text-center>Type</th><th class=text-center>Level</th><th class=text-center>Title</th></tr></thead><tbody><tr ng-show=iaasMain.alarmViewList ng-repeat="item in iaasMain.alarmViewList" class=text-center><td class=link><a ng-href="#/iaas/alarm/status/{{ item.id }}">{{ item.regDate }}</a></td><td>{{ iaasMain.common.getOriginTypeString(item.originType) }}</td><td><span ng-class=paasMain.common.alarmLevelStyle(item.level)>{{ item.level }}</span></td><td>{{ item.alarmTitle }}</td></tr><tr ng-show="iaasMain.alarmViewList == null" class=text-center><td colspan=4>No Data Available.</td></tr></tbody></table></div></div></div></div></div>'),
a.put("app/iaas/node/compute_node.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Compute Node Summary</div><div class=panel-body><div class="col-xs-6 col-sm-6 col-md-3"><div class=gauge-div><div class=gauge-title>VCPU 사용량</div><liquid seq=1 percentage=cpuPercent></liquid></div><div class=gauge-usage>사용 {{ cnd.summary.vcpuUsed || 0 | number }}개 / 전체 {{ cnd.summary.vcpuTotal || 0 | number }}개</div></div><div class="col-xs-6 col-sm-6 col-md-3"><div class=gauge-div><div class=gauge-title>Memory 사용량</div><liquid seq=2 percentage=memPercent></liquid></div><div class=gauge-usage><div>사용 {{ cnd.summary.memoryMbUsed || 0 | number }}MB / 전체 {{ cnd.summary.memoryMbTotal || 0 | number }}MB</div><div>{{ cnd.summary.memoryMbFree || 0 | number }}MB 사용가능</div></div></div><div class="col-xs-6 col-sm-6 col-md-3"><div class=gauge-div><div class=gauge-title>Disk 사용량</div><liquid seq=3 percentage=diskPercent></liquid></div><div class=gauge-usage><div>사용 {{ cnd.summary.diskGbUsed || 0 | number }}GB / 전체 {{ cnd.summary.diskGbTotal || 0 | number }}GB</div><div>{{ cnd.summary.diskGbLeastAvailable || 0 | number }}GB 사용가능</div></div></div><div class="col-xs-6 col-sm-6 col-md-3"><div class=gauge-div><div class=gauge-title>인스턴스</div></div><div class=row><div class=col-md-7><span class="main-count pull-right">Max Instance</span></div><div class=col-md-5><span class=main-count>{{ cnd.summary.vmTotalLimit || 0 | number }} 개</span></div></div><div class=row><div class=col-md-7><span class="main-count pull-right">Running / OK</span></div><div class=col-md-5><span class=main-count>{{ cnd.summary.vmState[1].vmCount || 0 | number }} 개</span></div></div><div class=row><div class=col-md-7><span class="main-count pull-right">No Status</span></div><div class=col-md-5><span class=main-count>{{ cnd.summary.vmState[0].vmCount || 0 | number }} 개</span></div></div><div class=row><div class=col-md-7><span class="main-count pull-right">Idle / Blocked</span></div><div class=col-md-5><span class=main-count>{{ cnd.summary.vmState[2].vmCount || 0 | number }} 개</span></div></div><div class=row><div class=col-md-7><span class="main-count pull-right">Paused</span></div><div class=col-md-5><span class=main-count>{{ cnd.summary.vmState[3].vmCount || 0 | number }} 개</span></div></div><div class=row><div class=col-md-7><span class="main-count pull-right">Shutting down</span></div><div class=col-md-5><span class=main-count>{{ cnd.summary.vmState[4].vmCount || 0 | number }} 개</span></div></div><div class=row><div class=col-md-7><span class="main-count pull-right">Shut Off</span></div><div class=col-md-5><span class=main-count>{{ cnd.summary.vmState[5].vmCount || 0 | number }} 개</span></div></div><div class=row><div class=col-md-7><span class="main-count pull-right">Crashed</span></div><div class=col-md-5><span class=main-count>{{ cnd.summary.vmState[6].vmCount || 0 | number }} 개</span></div></div></div></div></div><div class="panel panel-default"><div class=panel-heading>Compute Node</div><div class=panel-body><form class=form-inline><div class=form-group><input type=text class=form-control placeholder="Host Name" ng-model=cnd.searchCondition></div><div class="form-group time"><button class=btn ng-click=cnd.getComputeNodeSummary();></button></div></form><table class=table><colgroup><col style=width:10%><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th class=text-center>Host Name</th><th class=text-center>IP</th><th class=text-center>VCPU</th><th class=text-center>Memory (MB)</th><th class=text-center>Disk (GB)</th><th class=text-center>Instances</th><th class=text-center>CPU Usage</th><th class=text-center>Memory Usage</th><th class=text-center>Status</th><th class=text-center>Agent Status</th></tr></thead><tbody><tr class=text-center ng-repeat="item in cnd.computeNodeSummary" ng-repeat="item in mnd.computeNodeSummary" ng-click=getTopProcessByHostname(item) ng-class=item.select><td class="text-left link"><a ng-href="#/iaas/compute_node/{{ item.hostname }}">{{ item.hostname }}</a></td><td>{{ item.hostIp }}</td><td>{{ cnd.Math.round(item.vcpusUsed) | number }} / {{ cnd.Math.round(item.vcpusMax) | number }}</td><td>{{ cnd.Math.round(item.memoryMbUsed) | number }} / {{ cnd.Math.round(item.memoryMbMax) | number }}</td><td>{{ cnd.Math.round(item.diskGbUsed) | number }} / {{ cnd.Math.round(item.diskGbMax) | number }}</td><td>{{ cnd.Math.round(item.runningVms) | number }} / {{ cnd.Math.round(item.totalVms) | number }}</td><td><span ng-style=cpuUsageStyle(Math.floor(item.cpuUsage))>{{ (item.cpuUsage).toFixed(2) | number }}%</span></td><td><span ng-style=memoryUsageStyle(Math.floor(item.memUsage))>{{ (item.memUsage).toFixed(2) | number }}%</span></td><td><span ng-style=textStatusStyle(item.state)>{{ item.state }} ({{ item.status }})</span></td><td><span ng-style=textStatusStyle(item.agentStatus)>{{ item.agentStatus }}</span></td></tr><tr ng-show="cnd.computeNodeSummary == null" class=text-center><td colspan=10>No Data Available.</td></tr></tbody></table></div></div><div class=row><div class=col-md-6><div class="panel panel-default"><div class=panel-heading>CPU Used by Process <span ng-bind-html=cnd.selectedComputeNode></span></div><div class=panel-body><table class="table process"><colgroup><col><col><col></colgroup><thead><tr><th class=text-center>Index</th><th class=text-center>Process Name</th><th class=text-center>CPU Usage</th></tr></thead><tbody><tr ng-show=cnd.topProcessCpuList ng-repeat="item in cnd.topProcessCpuList" class=text-center><td>{{ item.index }}</td><td>{{ item.processName }}</td><td><span ng-style=memoryUsageStyle(Math.floor(item.usage))>{{ (item.usage).toFixed(2) | number }} %</span></td></tr><tr ng-show="cnd.topProcessCpuList == null" class=text-center><td colspan=3>Please select the Compute node.</td></tr></tbody></table></div></div></div><div class=col-md-6><div class="panel panel-default"><div class=panel-heading>Memory Used by Process <span ng-bind-html=cnd.selectedComputeNode></span></div><div class=panel-body><table class="table process"><colgroup><col><col><col></colgroup><thead><tr><th class=text-center>Index</th><th class=text-center>Process Name</th><th class=text-center>Memory Used</th></tr></thead><tbody><tr ng-show=cnd.topProcessMemoryList ng-repeat="item in cnd.topProcessMemoryList" class=text-center><td>{{ item.index }}</td><td>{{ item.processName }}</td><td><span ng-style=memoryUsageStyle(Math.floor(item.usage))>{{ (item.usage).toFixed(2) | number }} MB</span></td></tr><tr ng-show="cnd.topProcessMemoryList == null" class=text-center><td colspan=3>Please select the Compute node.</td></tr></tbody></table></div></div></div></div></div></div></div>'),a.put("app/iaas/node/manage_node.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Manage Node Summary</div><div class=panel-body><form class=form-inline><div class=form-group><input type=text class=form-control placeholder="Host Name" ng-model=mnd.searchCondition></div><div class="form-group time"><button class=btn ng-click=mnd.getManageNodeSummary();></button></div></form><div class=loading-container ng-show=mnd.loadingSummary><div class="loading loading--audioWave"></div></div><table class=table><colgroup><col style=width:10%><col><col><col><col><col><col></colgroup><thead><tr><th class=text-center>Host Name</th><th class=text-center>Memory (MB)</th><th class=text-center>Disk (GB)</th><th class=text-center>CPU Usage</th><th class=text-center>Memory Usage</th><th class=text-center>Disk Usage</th><th class=text-center>Agent Status</th></tr></thead><tbody><tr class=text-center ng-show=mnd.manageNodeSummary ng-repeat="item in mnd.manageNodeSummary" ng-click=getTopProcessByHostname(item) ng-class=item.select><td class="text-left link"><a ng-href="#/iaas/manage_node/{{ item.hostname }}">{{ item.hostname }}</a></td><td>{{ mnd.Math.round(item.memoryUsedMb) | number }} / {{ mnd.Math.round(item.memoryMbMax) | number }}</td><td>{{ mnd.Math.round(item.diskGbUsed) | number }} / {{ mnd.Math.round(item.diskGbMax) | number }}</td><td><span ng-style=cpuUsageStyle(Math.floor(item.cpuUsage))>{{ (item.cpuUsage).toFixed(2) | number }}%</span></td><td><span ng-style=memoryUsageStyle(Math.floor(item.memoryUsage))>{{ (item.memoryUsage).toFixed(2) | number }}%</span></td><td><span ng-style=diskUsageStyle(Math.floor(item.diskUsage))>{{ (item.diskUsage).toFixed(2) | number }}%</span></td><td><span ng-style=textStatusStyle(item.agentStatus)>{{ item.agentStatus }}</span></td></tr><tr ng-show="mnd.manageNodeSummary == null" class=text-center><td colspan=7>No Data Available.</td></tr></tbody></table></div></div><div class=row><div class=col-md-6><div class="panel panel-default"><div class=panel-heading>CPU Used by Process <span ng-bind-html=mnd.selectedManageNode></span></div><div class=panel-body><table class="table process"><colgroup><col><col><col></colgroup><thead><tr><th class=text-center>Index</th><th class=text-center>Process Name</th><th class=text-center>CPU Usage</th></tr></thead><tbody><tr ng-show=mnd.topProcessCpuList ng-repeat="item in mnd.topProcessCpuList" class=text-center><td>{{ item.index }}</td><td>{{ item.processName }}</td><td><span ng-style=memoryUsageStyle(Math.floor(item.usage))>{{ (item.usage).toFixed(2) | number }} %</span></td></tr><tr ng-show="mnd.topProcessCpuList == null" class=text-center><td colspan=3>Please select the Manage node.</td></tr></tbody></table></div></div></div><div class=col-md-6><div class="panel panel-default"><div class=panel-heading>Memory Used by Process <span ng-bind-html=mnd.selectedManageNode></span></div><div class=panel-body><table class="table process"><colgroup><col><col><col></colgroup><thead><tr><th class=text-center>Index</th><th class=text-center>Process Name</th><th class=text-center>Memory Used</th></tr></thead><tbody><tr ng-show=mnd.topProcessMemoryList ng-repeat="item in mnd.topProcessMemoryList" class=text-center><td>{{ item.index }}</td><td>{{ item.processName }}</td><td><span ng-style=memoryUsageStyle(Math.floor(item.usage))>{{ (item.usage).toFixed(2) | number }} MB</span></td></tr><tr ng-show="mnd.topProcessMemoryList == null" class=text-center><td colspan=3>Please select the Manage node.</td></tr></tbody></table></div></div></div></div><div class="panel panel-default"><div class=panel-heading>Message Queue Status</div><div class=panel-body><h4>Global counts</h4><div class=row><div class="col-xs-4 col-md-2"><button type=button class="btn btn-info btn-block" ng-click="mnd.goMessageQueue(\'connections\')">Connections: <strong>{{ mnd.messageQueue.connections }}</strong></button></div><div class="col-xs-4 col-md-2 col-half-offset"><button type=button class="btn btn-info btn-block" ng-click="mnd.goMessageQueue(\'channels\')">Channels: <strong>{{ mnd.messageQueue.channels }}</strong></button></div><div class="col-xs-4 col-md-2 col-half-offset"><button type=button class="btn btn-info btn-block" ng-click="mnd.goMessageQueue(\'exchanges\')">Exchanges: <strong>{{ mnd.messageQueue.exchanges }}</strong></button></div><div class="col-xs-4 col-md-2 col-half-offset"><button type=button class="btn btn-info btn-block" ng-click="mnd.goMessageQueue(\'queues\')">Queues: <strong>{{ mnd.messageQueue.queues }}</strong></button></div><div class="col-xs-4 col-md-2 col-half-offset"><button type=button class="btn btn-info btn-block" style=cursor:default>Consumers: <strong>{{ mnd.messageQueue.consumers }}</strong></button></div></div><div class=row>&nbsp;</div><h4>Node</h4><div class=row><div class="col-xs-4 col-md-2">File Descriptions<div class="progress custom-progress"><div class=progress-bar role=progressbar aria-valuenow=60 aria-valuemin=0 aria-valuemax=100 style="min-width: 2em; max-width: 100%" ng-style="{width: mnd.filePerc+\'%\'}">{{ mnd.filePerc }}%</div></div>{{ (mnd.messageQueue.NodeResources.fileDescriptorUsed).toFixed(2) | number }} / {{ (mnd.messageQueue.NodeResources.fileDescriptorTotal).toFixed(2) | number }}</div><div class="col-xs-4 col-md-2 col-half-offset">Socket Descriptions<div class="progress custom-progress"><div class=progress-bar role=progressbar aria-valuenow=60 aria-valuemin=0 aria-valuemax=100 style="min-width: 2em; max-width: 100%" ng-style="{width: mnd.socketPerc+\'%\'}">{{ mnd.socketPerc }}%</div></div>{{ (mnd.messageQueue.NodeResources.socketsUsed).toFixed(2) | number }} / {{ (mnd.messageQueue.NodeResources.socketsLimit).toFixed(2) | number }}</div><div class="col-xs-4 col-md-2 col-half-offset">Erlang Processes<div class="progress custom-progress"><div class=progress-bar role=progressbar aria-valuenow=60 aria-valuemin=0 aria-valuemax=100 style="min-width: 2em; max-width: 100%" ng-style="{width: mnd.erlangPerc+\'%\'}">{{ mnd.erlangPerc }}%</div></div>{{ (mnd.messageQueue.NodeResources.erlangProcessUsed).toFixed(2) | number }} / {{ (mnd.messageQueue.NodeResources.erlangProcessLimit).toFixed(2) | number }}</div><div class="col-xs-4 col-md-2 col-half-offset">Memory<div class="progress custom-progress"><div class=progress-bar role=progressbar aria-valuenow=60 aria-valuemin=0 aria-valuemax=100 style="min-width: 2em; max-width: 100%" ng-style="{width: mnd.memoryPerc+\'%\'}">{{ mnd.memoryPerc }}%</div></div>{{ (mnd.messageQueue.NodeResources.memoryMbUsed).toFixed(2) | number }} / {{ (mnd.messageQueue.NodeResources.memoryMbLimit).toFixed(2) | number }}</div><div class="col-xs-4 col-md-2 col-half-offset">Disk Space<div class="progress custom-progress"><div class=progress-bar role=progressbar aria-valuenow=60 aria-valuemin=0 aria-valuemax=100 style="min-width: 2em; max-width: 100%" ng-style="{width: mnd.diskPerc+\'%\'}">{{ mnd.diskPerc }}%</div></div>{{ (mnd.messageQueue.NodeResources.diskMbLimitFree).toFixed(2) | number }} / {{ (mnd.messageQueue.NodeResources.diskMbFree).toFixed(2) | number }}</div></div></div></div></div></div></div>'),a.put("app/iaas/node/node_detail.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default" ng-show=name><div class=panel-heading><span ng-show=name font-weight=bold style=color:#007787>[ {{ name }} ]</span></div></div><div class=dashboard><ul class="nav nav-tabs"><li class=active><a data-toggle=tab data-target=#chart ng-click="selTab(\'chart\')">Chart</a></li><li><a data-toggle=tab data-target=#logs ng-click="selTab(\'logs\')">Logs</a></li></ul><div class=tab-content><div id=chart class="tab-pane fade in active"><div gridster=gridsterOpts style=min-width:1000px><ul><li gridster-item=widget ng-repeat="widget in dashboard.widgets"><div class=box><div class=box-header><h4>{{ widget.name }}</h4><div class="box-header-btns pull-right" ng-show=widget.loading><i class="fa fa-spinner fa-pulse fa-fw"></i></div><div class="box-header-btns pull-right" ng-hide=widget.loading><!--<a title="Zoom In" ng-click="expand(widget)" ng-hide="expanded==widget"><i class="glyphicon glyphicon-zoom-in"></i></a>\n                        <a title="Zoom Out" ng-click="reduction(widget)" ng-show="expanded==widget"><i class="glyphicon glyphicon-zoom-out"></i></a>\n                        <a title="Remove widget" ng-click="removeOneWidget(widget)"><i class="glyphicon glyphicon-trash"></i></a>--></div></div><div class=box-content><nvd3 options=widget.chart.options data=widget.chart.data api=widget.chart.api config=config events=events></nvd3></div></div></li></ul></div></div><div id=logs class="tab-pane fade"><div class="log-row search-box"><form class=form-horizontal><div class=form-group><label class="col-sm-1 control-label">Time</label><div class=col-sm-2><div class="input-group date" datetimepicker options=targetDateOptions ng-model=targetDate><input class=form-control> <span class=input-group-addon><span class="glyphicon glyphicon-calendar"></span></span></div></div><div class=col-sm-2><div class="input-group date" datetimepicker options=timeOptions ng-model=startTime><input class=form-control> <span class=input-group-addon><span class="glyphicon glyphicon-time"></span></span></div></div><div class=col-sm-2><div class="input-group date" datetimepicker options=timeOptions ng-model=endTime><input class=form-control> <span class=input-group-addon><span class="glyphicon glyphicon-time"></span></span></div></div><div class=col-sm-1><button type=button class="btn btn-default small" ng-click=searchReset()>초기화</button></div></div><!--<div class="form-group">\n                  <label for="inputHost" class="col-sm-1 control-label">Host</label>\n                  <div class="col-sm-2">\n                    <input type="text" class="form-control" id="inputHost" placeholder="Host" ng-model="hostname">\n                  </div>\n                </div>--><div class=form-group><label for=inputMessage class="col-sm-1 control-label">Message</label><div class=col-sm-10><input type=text class=form-control id=inputMessage placeholder=Message ng-model=message></div></div><div class="form-group row-centered"><div class=col-sm-12><button type=submit class="btn btn-primary" ng-click=logSearch() style=width:80px>검색</button></div></div></form></div><div class="log-row list"><table class="table logs"><colgroup><col style=width:20%><col></colgroup><thead><tr><th class=text-center>Time</th><th class=text-center>Message</th></tr></thead><tbody><tr class=text-center ng-repeat="item in recentLogs track by $index"><td>{{ item.time }}</td><td class=left>{{ item.message }}</td></tr><tr ng-show="recentLogs == null" class=text-center><td colspan=2>No Data Available.</td></tr></tbody></table></div><div class="pagination-row logs"><ul uib-pagination total-items=totalItems ng-model=currentPage max-size=maxSize items-per-page=pageItems class=pagination-md direction-links=false boundary-links=false boundary-link-numbers=true force-ellipses=true ng-change=pageChanged() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></ul></div></div></div></div><div class=row style="margin: 20px 0"><div class=col-sm-12><button type=button class="btn btn-default pull-right medium" data-dismiss=modal ng-click=goMovePage()>Move Overview</button></div></div></div></div></div>'),a.put("app/iaas/tenant/tenant.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Tenant</div><div class=panel-body><form class=form-inline><div class=form-group><input type=text class=form-control placeholder="Host Name" ng-model=tnt.searchCondition></div><div class="form-group time"><button class=btn ng-click=tnt.getTenantSummary();></button></div></form><table class="table table-condensed"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th class=text-center>Name</th><th class=text-center>VCPU</th><th class=text-center>Memory (MB)</th><th class=text-center>Instances</th><th class=text-center>Floating IP</th><th class=text-center>Security Group</th><th class=text-center>Volumes</th><th class=text-center>Volume Storage(GB)</th><th class=text-center>Status</th></tr></thead><tbody><tr ng-show=tnt.tenantSummary ng-repeat="item in tnt.tenantSummary" ng-click=tnt.selectTenant(item) class=text-center ng-class=item.select><td>{{ item.name }}</td><td>{{ tnt.Math.round(item.vcpusUsed) | number }} / {{ tnt.Math.round(item.vcpusLimit) | number }}</td><td>{{ tnt.Math.round(item.memoryMbUsed) | number }} / {{ tnt.Math.round(item.memoryMbLimit) | number }}</td><td>{{ tnt.Math.round(item.instancesUsed) | number }} / {{ tnt.Math.round(item.instancesLimit) | number }}</td><td>{{ tnt.Math.round(item.floatingIpsUsed) | number }} / {{ tnt.Math.round(item.floatingIpsLimit) | number }}</td><td>{{ tnt.Math.round(item.securityGroupsUsed) | number }} / {{ tnt.Math.round(item.securityGroupsLimit) | number }}</td><td>{{ tnt.Math.round(item.volumeStorageUsed) | number }} / {{ tnt.Math.round(item.volumeStorageLimit) | number }}</td><td>{{ tnt.Math.round(item.volumeStorageUsedGb) | number }} / {{ tnt.Math.round(item.volumeStorageLimitGb) | number }}</td><td><span ng-style=textStatusStyle(item.enabled)>{{ item.enabled }}</span></td></tr><tr ng-show="tnt.tenantSummary == null" class=text-center><td colspan=9>No Data Available.</td></tr></tbody></table></div></div><div class="panel panel-default"><div class=panel-heading>Instance List <span ng-bind-html=tnt.selectedTenantName></span></div><div class=panel-body><div class=loading-container ng-show=tnt.loadingInstanceList><div class="loading loading--audioWave"></div></div><form class=form-inline><div class=form-group><input type=text class=form-control placeholder="Host Name" ng-model=tnt.searchInstanceName></div><div class="form-group time"><button class=btn ng-click=tnt.searchInstance();></button></div></form><table class="table table-condensed"><colgroup><col><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th class=text-center>Host Name</th><th class=text-center>CPU Usage</th><th class=text-center>Memory Usage</th><th class=text-center>IP</th><th class=text-center>Zone</th><th class=text-center>Flavor Type</th><th class=text-center>VCPU</th><th class=text-center>Disk</th><th class=text-center>Ram</th><th class=text-center>Created Time</th></tr></thead><tbody><tr ng-show=tnt.tenantInstanceList ng-repeat="item in tnt.tenantInstanceList" class=text-center><td class="text-left link"><a ng-href="#/iaas/tenant/{{ item.instance_id }}?name={{ item.name }}">{{ item.name }}</a></td><td><span ng-style=cpuUsageStyle(Math.floor(item.cpuUsage))>{{ (item.cpuUsage).toFixed(2) | number }}%</span></td><td><span ng-style=memoryUsageStyle(Math.floor(item.memoryUsage))>{{ (item.memoryUsage).toFixed(2) | number }}%</span></td><td><span ng-repeat="address in item.address">{{ address }}<br></span></td><td>{{ item.zone }}</td><td>{{ item.flavor }}</td><td>{{ item.vcpus | number }}</td><td>{{ item.disk_gb | number }} GB</td><td>{{ item.memory_mb | number }} MB</td><td>{{ item.started_at }}</td></tr><tr ng-show="tnt.tenantInstanceList == null && !tnt.selectedTenant" class=text-center><td colspan=10>Please select the Tenant.</td></tr><tr ng-show="tnt.tenantInstanceList == null && tnt.selectedTenant" class=text-center><td colspan=10>No Data Available.</td></tr></tbody></table><button type=button class="btn btn-info btn-block" ng-show="tnt.tenantInstanceTotalCount > 0" ng-click=tnt.getInstanceList() ng-disabled="tnt.tenantInstanceList.length >= tnt.tenantInstanceTotalCount"><span ng-bind-html=tnt.moreButton></span></button></div></div></div></div></div>'),a.put("app/iaas/tenant/tenant_detail.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default" ng-show=name><div class=panel-heading><span ng-show=name font-weight=bold style=color:#007787>[ {{ name }} ]</span></div></div><div class=dashboard><ul class="nav nav-tabs"><li class=active><a data-toggle=tab data-target=#chart>Chart</a></li></ul><div class=tab-content><div id=chart class="tab-pane fade in active"><div gridster=gridsterOpts style=min-width:1000px><ul><li gridster-item=widget ng-repeat="widget in dashboard.widgets"><div class=box><div class=box-header><h4>{{ widget.name }}</h4><div class="box-header-btns pull-right" ng-show=widget.loading><i class="fa fa-spinner fa-pulse fa-fw"></i></div><div class="box-header-btns pull-right" ng-hide=widget.loading><!--<a title="Zoom In" ng-click="expand(widget)" ng-hide="expanded==widget"><i class="glyphicon glyphicon-zoom-in"></i></a>\n                        <a title="Zoom Out" ng-click="reduction(widget)" ng-show="expanded==widget"><i class="glyphicon glyphicon-zoom-out"></i></a>\n                        <a title="Remove widget" ng-click="removeOneWidget(widget)"><i class="glyphicon glyphicon-trash"></i></a>--></div></div><div class=box-content><nvd3 options=widget.chart.options data=widget.chart.data api=widget.chart.api config=config events=events></nvd3></div></div></li></ul></div></div></div></div></div><div class=row style="margin: 20px 0"><div class=col-sm-12><button type=button class="btn btn-default pull-right medium" data-dismiss=modal ng-click=goMovePage()>Move Overview</button></div></div></div></div>'),a.put("app/paas/alarm/alarm_policy.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Alarm Policy</div><div class=panel-body><content id=content><div class=sec_area><div class=row><form class="form-inline top"><div class=form-group><label for=type style=width:60px>Type</label><select class=form-control ng-change=papc.setTypeObject() ng-model=papc.selType id=type style=width:160px><option value=bos>Bosh</option><option value=pas>PaaS-TA</option><option value=con>Container</option></select></div></form></div></div></content><div class="panel panel-default inner"><div class=panel-heading><img src=assets/images/alarm/ic_cpu.png>CPU</div><div class=panel-body><form class=form-inline><div class=col-md-4><div class=form-group><label for=cpuWarning><span class=warning>Warning</span>&nbsp;</label><input ng-model=papc.origin.cpu.threshold.warning type=number class="form-control w100" id=cpuWarning placeholder=Warning>&nbsp;% 이상</div></div><div class=col-md-4><div class=form-group><label for=cpuCritical><span class=critical>Critical</span>&nbsp;</label><input ng-model=papc.origin.cpu.threshold.critical type=number class="form-control w100" id=cpuCritical placeholder=Critical>&nbsp;% 이상</div></div><div class=col-md-4><div class=form-group><label for=cpuRepeatTime>Repeat Time&nbsp;</label><input ng-model=papc.origin.cpu.repeatTime type=number class="form-control w100" id=cpuRepeatTime placeholder="Repeat Time">&nbsp;분</div></div></form></div></div><div class="panel panel-default inner"><div class=panel-heading><img src=assets/images/alarm/ic_memory.png>Memory</div><div class=panel-body><form class=form-inline><div class=col-md-4><div class=form-group><label for=memoryWarning><span class=warning>Warning</span>&nbsp;</label><input ng-model=papc.origin.memory.threshold.warning type=number class="form-control w100" id=memoryWarning placeholder=Warning>&nbsp;% 이상</div></div><div class=col-md-4><div class=form-group><label for=memoryCritical><span class=critical>Critical</span>&nbsp;</label><input ng-model=papc.origin.memory.threshold.critical type=number class="form-control w100" id=memoryCritical placeholder=Critical>&nbsp;% 이상</div></div><div class=col-md-4><div class=form-group><label for=memoryRepeatTime>Repeat Time&nbsp;</label><input ng-model=papc.origin.memory.repeatTime type=number class="form-control w100" id=memoryRepeatTime placeholder="Repeat Time">&nbsp;분</div></div></form></div></div><div class="panel panel-default inner"><div class=panel-heading><img src=assets/images/alarm/ic_disk.png>Disk</div><div class=panel-body><form class=form-inline><div class=col-md-4><div class=form-group><label for=diskWarning><span class=warning>Warning</span>&nbsp;</label><input ng-model=papc.origin.disk.threshold.warning type=number class="form-control w100" id=diskWarning placeholder=Warning>&nbsp;% 이상</div></div><div class=col-md-4><div class=form-group><label for=diskCritical><span class=critical>Critical</span>&nbsp;</label><input ng-model=papc.origin.disk.threshold.critical type=number class="form-control w100" id=diskCritical placeholder=Critical>&nbsp;% 이상</div></div><div class=col-md-4><div class=form-group><label for=diskRepeatTime>Repeat Time&nbsp;</label><input ng-model=papc.origin.disk.repeatTime type=number class="form-control w100" id=diskRepeatTime placeholder="Repeat Time">&nbsp;분</div></div></form></div></div><div class=row><div class=col-md-3><div class="panel panel-default inner"><div class=panel-heading>Measuring Time</div><div class=panel-body><form class=form-inline><div class=col-xs-12><div class=form-group><input ng-model=papc.origin.measureTime type=number step=30 class="form-control w100 measure" id=measureTime placeholder=Time>&nbsp;초</div></div></form></div></div></div><div class=col-md-9><div class="panel panel-default inner"><div class=panel-heading>Alram Receiver Address<div class=pull-right><span class=font>Off</span><switch id=emailSendYn name=emailSendYn ng-model=papc.origin.email.emailSendYn class=green></switch><span class="font right">On</span></div></div><div class=panel-body><form class=form-inline><div class=col-xs-12><div class=form-group><input ng-model=papc.origin.email.emailName type=text class="form-control w200" id=name placeholder="Email Name">&nbsp;@ <input ng-model=papc.origin.email.emailAddr type=text class="form-control w200" id=addr placeholder="Email Address">&nbsp;<select class=form-control ng-change=papc.setEmailAddr() ng-model=papc.origin.email.emailType ng-options="mail.code as mail.name for mail in papc.mailList" id=email style=height:34px><option value="">직접입력</option></select></div></div></form></div></div></div></div><button class="btn btn-primary pull-right small" data-toggle=modal data-target=#saveModal>Save</button></div></div></div><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Alarm SNS Channel (Telegram)<div class=pull-right><span class=font>Off</span><switch id=snsSendYn name=snsSendYn ng-model=papc.snsSendYn class=green></switch><span class="font right">On</span></div></div><div class=panel-body><div class=snsMsg ng-show=!papc.alarmSnsChannelList>Telegram 에 등록된 Bot 채널이 없습니다.</div><div class=snsMsg ng-show=papc.alarmSnsChannelList>Telegram 메신져에서 아래 아이디를 검색 후 Bot 채널에 참여 하시면 알람 메세지를 받을 수 있습니다.</div><table class=tile-grid style=width:100%><colgroup><col style=width:10%><col style=width:30%><col style=width:60%><col style=width:10%></colgroup><tbody ng-show=papc.alarmSnsChannelList><tr ng-repeat="channel in papc.alarmSnsChannelList" id=snsChannelList><td>{{ channel.originType }}</td><td>@{{ channel.snsId }}</td><td style=color:#77ae33>{{ channel.expl }}</td><td><button class="btn btn-danger pull-right" style="padding:4px 20px" ng-click=papc.channelDelete(channel.id)>Delete</button></td></tr></tbody></table><div class=channel><div class=snsMsg>Telegram 메신저에서 @BotFather 채널에 참여 후 /newbot 명령으로 알람 Bot을 생성하여 아래 등록해주시기 바랍니다. <a class=pull-right ng-click=papc.snsRegistMethod();><i class="fa fa-info-circle fa-lg"></i> <span style=font-size:12px;vertical-align:8%;margin-left:3px>등록방법</span></a></div><table class=tile-grid style=width:100%><colgroup><col width=""><col width=""><col width=""><col width=""><col width=""></colgroup><thead><tr><th class=text-center>Type</th><th class=text-center>ID</th><th class=text-center>Token</th><th class=text-center>Description</th><th></th></tr></thead><tbody><tr><td><select class="form-control w100p" ng-model=papc.channel.type id=channelType style=width:90%><option value="">Select</option><option value=all>All</option><option value=bos>Bosh</option><option value=pas>PaaS-TA</option><option value=con>Container</option></select></td><td><input ng-model=papc.channel.id type=text class="form-control w95p" id=channelId placeholder="Bot ID"></td><td><input ng-model=papc.channel.token type=text class="form-control w95p" id=channelToken placeholder="Token Value"></td><td><input ng-model=papc.channel.description type=text class="form-control w95p" id=channelDescription placeholder=Description></td><td rowspan=2><button class="btn btn-primary pull-right" data-toggle=modal data-target=#channelRegistModal style="padding:6px 20px">Regist</button></td></tr></tbody></table></div></div></div></div></div></div><!-- Modal --><div class="modal fade" id=saveModal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title style="font-size: 15px">저장</h4></div><div class=modal-body>저장하시겠습니까?</div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>Cancel</button> <button type=button class="btn btn-primary" data-dismiss=modal ng-click=papc.saveSetup()>Save</button></div></div></div></div><!-- Modal --><div class="modal fade" id=channelDeleteModal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title style="font-size: 15px">저장</h4></div><div class=modal-body>삭제하시겠습니까?</div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>Cancel</button> <button type=button class="btn btn-danger" data-dismiss=modal ng-click="">Delete</button></div></div></div></div><!-- Modal --><div class="modal fade" id=channelRegistModal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title style="font-size: 15px">저장</h4></div><div class=modal-body>채널을 등록하시겠습니까?</div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>Cancel</button> <button type=button class="btn btn-primary" data-dismiss=modal ng-click=papc.channelRegist()>Regist</button></div></div></div></div><!-- Popup --><div class=row id=snsRegistMethod style=display:none;padding:10px><div style="border:1px solid #ddd;margin-bottom:30px"><h3 style=text-align:center>Telegram Bot 생성</h3></div><div><div class=col-sm-12><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_1.png width=100%><div class=caption><p><i class="fa fa-caret-right"></i>Telegram 에서 BotFather를 검색한다.</p></div></div></div><div class="col-sm-12 arrow"><i class="fa fa-arrow-circle-down fa-2x"></i></div><div class=col-sm-12><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_2.png width=100%><div class=caption><p><i class="fa fa-caret-right"></i>하단에서 [시작하기]를 클릭하여 위 그림과 같이 나타낸다.</p></div></div></div><div class="col-sm-12 arrow"><i class="fa fa-arrow-circle-down fa-2x"></i></div><div class=col-sm-12><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_3.png width=100%><div class=caption><p><i class="fa fa-caret-right"></i>채팅창에 명령어를 (/newbot)를 입력하여 봇을 생성한다.</p><p><i class="fa fa-caret-right"></i>Bot의 이름과 검색할 이름을 지정한다.</p><p><i class="fa fa-caret-right"></i>Bot API Token 정보를 확인한다.</p></div></div></div><div class="col-sm-12 arrow"><i class="fa fa-arrow-circle-down fa-2x"></i></div><div class=col-sm-12><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_4.png width=100%><div class=caption><p><i class="fa fa-caret-right"></i>Bot을 통해 받은 정보를 입력 후 [Regist]를 클릭하여 저장한다.</p></div></div></div><div class="col-sm-12 arrow"><i class="fa fa-arrow-circle-down fa-2x"></i></div><div class=col-sm-12><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_5.png width=100%><div class=caption><p><i class="fa fa-caret-right"></i>상단에 입력된 정보가 정상적으로 들어 갔는지 확인한다.</p></div></div></div><div class="col-sm-12 arrow"><i class="fa fa-arrow-circle-down fa-2x"></i></div><div class=col-sm-12><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_7.png width=100%><div class=caption><p><i class="fa fa-caret-right"></i>Telegram에 등록한 Bot을 검색한다.</p><p><i class="fa fa-caret-right"></i>하단의 [시작]을 클릭하여 알람을 받을 수 있도록 준비한다.</p></div></div></div></div></div>'),
a.put("app/paas/alarm/alarm_policy_telegram.html",'<!doctype html><html ng-app=monitoring><head><meta charset=utf-8><title>IaaS / PaaS Monitoring</title><link rel=stylesheet type=text/css href=styles/vendor-min.css><link rel=stylesheet type=text/css href=styles/app-min.css></head><body><div class=row id=snsRegistMethod style="display: none"><div class=col-sm-12 style="margin-bottom: 50px"><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_1.png width=100%><div class=caption><p>Telegram 에서 BotFather를 검색한다.</p></div></div></div><div class=col-sm-12 style="margin-bottom: 50px"><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_2.png width=100%><div class=caption><p>하단에서 [시작하기]를 클릭하여 위 그림과 같이 나타낸다.</p></div></div></div><div class=col-sm-12 style="margin-bottom: 50px"><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_3.png width=100%><div class=caption><p>채팅창에 명령어를 (/newbot)를 입력하여 봇을 생성한다.</p><p>Bot의 이름을 지정한다.</p><p>Bot을 검색할 이름을 지정한다.</p><p>Bot API Token 정보를 확인한다.</p></div></div></div><div class=col-sm-12 style="margin-bottom: 50px"><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_4.png width=100%><div class=caption><p>...</p></div></div></div><div class=col-sm-12><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_5.png width=100%><div class=caption><h3>Thumbnail label</h3><p>...</p></div></div></div><div class=col-sm-12><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_6.png width=100%><div class=caption><h3>Thumbnail label</h3><p>...</p></div></div></div><div class=col-sm-12><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_7.png width=100%><div class=caption><h3>Thumbnail label</h3><p>...</p></div></div></div><div class=col-sm-12><div class=thumbnail><img src=assets/images/alarm/sns/sns_regist_step_8.png width=100%><div class=caption><h3>Thumbnail label</h3><p>...</p></div></div></div></div></body></html>'),a.put("app/paas/alarm/alarm_statistics.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Alarm Statistics</div><div class=panel-body><div class=stats_area><div class=top_con><div class="form-inline search"><ul><li><button class=date ng-class="{\'\':past.period!=\'d\', \'selected\':past.period==\'d\'}" ng-click="past.interval=1;past.getAlarmStatistics(\'d\')">일</button></li><li><button class=date ng-class="{\'\':past.period!=\'w\', \'selected\':past.period==\'w\'}" ng-click="past.interval=1;past.getAlarmStatistics(\'w\')">주</button></li><li><button class=date ng-class="{\'\':past.period!=\'m\', \'selected\':past.period==\'m\'}" ng-click="past.interval=1;past.getAlarmStatistics(\'m\')">월</button></li><li><button class=date ng-class="{\'\':past.period!=\'y\', \'selected\':past.period==\'y\'}" ng-click="past.interval=1;past.getAlarmStatistics(\'y\')">년</button></li></ul><div class=move><p class=move_ic><a class=back ng-click="past.setInterval(\'+\')"></a> <a class=front ng-click="past.setInterval(\'-\')" ng-disabled="interval<=1"></a></p><p class=date_box>{{ past.strPeriod }}</p></div><div class=pull-right><button type=button class="btn btn-default small" ng-click="past.statisticsPrint(\'printSectionId\');">출력</button> <button type=button class="btn btn-default small" ng-click="past.excelDownload(\'excelTable\');">엑셀다운로드</button></div></div></div></div><div id=printSectionId><div class="panel panel-default inner"><div class=panel-heading>Total</div><div class=panel-body><div class=stats_box><div class="box01 box"><p class=txt>Total</p><p class=num>{{ past.stats.totalCnt }}</p></div><div class="box02 box"><p class=txt>Warning</p><p class=num>{{ past.stats.warningCnt }}</p></div><div class="box03 box"><p class=txt>Critical</p><p class=num>{{ past.stats.criticalCnt }}</p></div></div><div class=grp_box><div class=box><div class=box-content><nvd3 options=totalWidgets.chart.options data=totalWidgets.chart.data config=config></nvd3></div></div></div></div></div><div class="panel panel-default inner"><div class=panel-heading>Service</div><div class=panel-body><div class=stats_box><div class="con_box link"><h3 ng-click="past.goListOriginType(\'bos\')">Bosh</h3><div ng-click="past.goListOriginType(\'bos\', \'warning\')" class="kan01 kan"><p class=lf>Warning</p><p class=rt>{{ past.stats.boshWarningCnt }}</p></div><div ng-click="past.goListOriginType(\'bos\', \'critical\')" class="kan02 kan"><p class=lf>Critical</p><p class=rt>{{ past.stats.boshCriticalCnt }}</p></div></div><div class="con_box link"><h3 ng-click="past.goListOriginType(\'pas\')">PaaS-TA</h3><div ng-click="past.goListOriginType(\'pas\', \'warning\')" class="kan01 kan"><p class=lf>Warning</p><p class=rt>{{ past.stats.paastaWarningCnt }}</p></div><div ng-click="past.goListOriginType(\'pas\', \'critical\')" class="kan02 kan"><p class=lf>Critical</p><p class=rt>{{ past.stats.paastaCriticalCnt }}</p></div></div><div class="con_box link"><h3 ng-click="past.goListOriginType(\'con\')">Container</h3><div ng-click="past.goListOriginType(\'con\', \'warning\')" class="kan01 kan"><p class=lf>Warning</p><p class=rt>{{ past.stats.containerWarningCnt }}</p></div><div ng-click="past.goListOriginType(\'con\', \'critical\')" class="kan02 kan"><p class=lf>Critical</p><p class=rt>{{ past.stats.containerCriticalCnt }}</p></div></div></div><div class=grp_box><div class=box><div class=box-content><nvd3 options=servieWidgets.chart.options data=servieWidgets.chart.data config=config></nvd3></div></div></div></div></div><div class="panel panel-default inner"><div class=panel-heading>Matrix</div><div class=panel-body><div class=stats_box><div class="con_box link"><h3 ng-click="past.goListAlarmType(\'cpu\')">CPU</h3><div ng-click="past.goListAlarmType(\'cpu\', \'warning\')" class="kan01 kan"><p class=lf>Warning</p><p class=rt>{{ past.stats.cpuWarningCnt }}</p></div><div ng-click="past.goListAlarmType(\'cpu\', \'critical\')" class="kan02 kan"><p class=lf>Critical</p><p class=rt>{{ past.stats.cpuCriticalCnt }}</p></div></div><div class="con_box link"><h3 ng-click="past.goListAlarmType(\'memory\')">Memory</h3><div ng-click="past.goListAlarmType(\'memory\', \'warning\')" class="kan01 kan"><p class=lf>Warning</p><p class=rt>{{ past.stats.memoryWarningCnt }}</p></div><div ng-click="past.goListAlarmType(\'memory\', \'critical\')" class="kan02 kan"><p class=lf>Critical</p><p class=rt>{{ past.stats.memoryCriticalCnt }}</p></div></div><div class="con_box link"><h3 ng-click="past.goListAlarmType(\'disk\')">Disk</h3><div ng-click="past.goListAlarmType(\'disk\', \'warning\')" class="kan01 kan"><p class=lf>Warning</p><p class=rt>{{ past.stats.diskWarningCnt }}</p></div><div ng-click="past.goListAlarmType(\'disk\', \'critical\')" class="kan02 kan"><p class=lf>Critical</p><p class=rt>{{ past.stats.diskCriticalCnt }}</p></div></div></div><div class=grp_box><div class=box><div class=box-content><nvd3 options=matrixWidgets.chart.options data=matrixWidgets.chart.data config=config></nvd3></div></div></div></div></div><div class="panel panel-default inner"><div class=panel-heading>Processing history</div><div class=panel-body><div class="stats_box wide"><div class="box01 box"><p class=txt>Total</p><p class=num>{{ past.stats.warningResolveCnt + past.stats.criticalResolveCnt }} / {{ past.stats.totalCnt }}</p></div><div class="box02 box"><p class=txt>Warning</p><p class=num>{{ past.stats.warningResolveCnt }} / {{ past.stats.warningCnt }}</p></div><div class="box03 box"><p class=txt>Critical</p><p class=num>{{ past.stats.criticalResolveCnt }} / {{ past.stats.criticalCnt }}</p></div></div></div></div></div></div></div><div id=excelTable style=display:none><table cellspacing=0 border=0><colgroup span=6 width=85></colgroup><tr><td colspan=6 height=42 align=center valign=middle border="1px solid #000000;"><b><font size=4>Alarm Statistics ({{ past.strPeriod }})</font><b></b></b></td></tr><tr><td colspan=6></td></tr><tr><th colspan=6 height=42 align=center valign=middle border="1px solid #000000;"><b><font size=3>Total</font></b></th></tr><tr><td colspan=2 height=38 align=center valign=middle style="border: 1px solid #000000"><b>Total</b></td><td colspan=2 height=38 align=center valign=middle style="border: 1px solid #000000"><b><font color=#F0A141>Warning</font></b></td><td colspan=2 height=38 align=center valign=middle style="border: 1px solid #000000"><b><font color=#AD6DE8>Critical</font></b></td></tr><tr><td colspan=2 height=60 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.totalCnt }}</font></b></td><td colspan=2 height=60 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.warningCnt }}</font></b></td><td colspan=2 height=60 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.criticalCnt }}</font></b></td></tr><tr><td colspan=6></td></tr><tr><th colspan=6 height=42 align=center valign=middle style="border: 1px solid #000000"><b><font size=3>Service</font></b></th></tr><tr><td colspan=2 height=38 align=center valign=middle style="border: 1px solid #000000"><b>Total</b></td><td colspan=2 height=38 align=center valign=middle style="border: 1px solid #000000"><b>PaaS-TA</b></td><td colspan=2 height=38 align=center valign=middle style="border: 1px solid #000000"><b>Container</b></td></tr><tr><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font color=#F0A141>Warning</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.boshWarningCnt }}</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font color=#F0A141>Warning</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.paastaWarningCnt }}</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font color=#F0A141>Warning</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.containerWarningCnt }}</font></b></td></tr><tr><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font color=#AD6DE8>Critical</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.boshCriticalCnt }}</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font color=#AD6DE8>Critical</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.paastaCriticalCnt }}</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font color=#AD6DE8>Critical</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.containerCriticalCnt }}</font></b></td></tr><tr><td colspan=6></td></tr><tr><th colspan=6 height=42 align=center valign=middle style="border: 1px solid #000000"><b><font size=3>Matrix</font></b></th></tr><tr><td colspan=2 height=38 align=center valign=middle style="border: 1px solid #000000"><b>CPU</b></td><td colspan=2 height=38 align=center valign=middle style="border: 1px solid #000000"><b>Memory</b></td><td colspan=2 height=38 align=center valign=middle style="border: 1px solid #000000"><b>Disk</b></td></tr><tr><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font color=#F0A141>Warning</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.cpuWarningCnt }}</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font color=#F0A141>Warning</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.memoryWarningCnt }}</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font color=#F0A141>Warning</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.diskWarningCnt }}</font></b></td></tr><tr><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font color=#AD6DE8>Critical</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.cpuCriticalCnt }}</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font color=#AD6DE8>Critical</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.memoryCriticalCnt }}</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font color=#AD6DE8>Critical</font></b></td><td height=50 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.diskCriticalCnt }}</font></b></td></tr><tr><td colspan=6></td></tr><tr><th colspan=6 height=42 align=center valign=middle style="border: 1px solid #000000"><b><font size=3>Processing history</font></b></th></tr><tr><td colspan=2 height=38 align=center valign=middle style="border: 1px solid #000000"><b>Total</b></td><td colspan=2 height=38 align=center valign=middle style="border: 1px solid #000000"><b><font color=#F0A141>Warning</font></b></td><td colspan=2 height=38 align=center valign=middle style="border: 1px solid #000000"><b><font color=#AD6DE8>Critical</font></b></td></tr><tr><td colspan=2 height=60 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.warningResolveCnt + past.stats.criticalResolveCnt}} / {{ past.stats.totalCnt }}</font></b></td><td colspan=2 height=60 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.warningResolveCnt }} / {{ past.stats.warningCnt }}</font></b></td><td colspan=2 height=60 align=center valign=middle style="border: 1px solid #000000"><b><font size=4>{{ past.stats.criticalResolveCnt }} / {{ past.stats.criticalCnt }}</font></b></td></tr></table></div></div></div></div>'),a.put("app/paas/alarm/alarm_status.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Alarm Status</div><div class=panel-body><div class=form-inline style="margin-bottom: 20px"><select class=form-control ng-model=selOriginType><option value="">대상 전체</option><option value=pas>PaaS-TA</option><option value=bos>Bosh</option><option value=con>Container</option></select><select class=form-control ng-model=selAlarmType><option value="">자원유형 전체</option><option value=cpu>CPU</option><option value=memory>Memory</option><option value=disk>Disk</option></select><select class=form-control ng-model=selLevel><option value="">Alarm 등급 전체</option><option value=warning>Warning</option><option value=critical>Critical</option></select><select class=form-control ng-model=selResolveStatus><option value="">Alarm 상태 전체</option><option value=1>Alarm 발생</option><option value=2>Alarm 처리중</option><option value=3>Alarm 처리완료</option></select><form class=form-group-date><div class="form-group time"><div class=form-group><div class="input-group date" datetimepicker options=optionsFrom ng-model=dateFrom ng-change="updateTimeRange(dateFrom, dateTo)"><input class="form-control dateTime" placeholder="From Date" style="width: 120px"> <span class=input-group-addon><span class="glyphicon glyphicon-calendar"></span></span></div></div>~<div class=form-group><div class="input-group date" datetimepicker options=optionsTo ng-model=dateTo ng-change="updateTimeRange(dateFrom, dateTo)"><input class="form-control dateTime" placeholder="To Date" style="width: 120px"> <span class=input-group-addon><span class="glyphicon glyphicon-calendar"></span></span></div></div><div class=form-group><button class=btn ng-click=pasu.getAlarmStatusList()></button></div></div></form></div><table class="table table-condensed"><colgroup><col style=width:15%><col style=width:10%><col style=width:12%><col style=width:8%><col><col style=width:8%><col style=width:12%></colgroup><thead><tr><th class=text-center>발생일시</th><th class=text-center>서비스타입</th><th class=text-center>서비스명</th><th class=text-center>IP</th><th class=text-center>제목</th><th class=text-center>등급</th><th class=text-center>조치상태</th></tr></thead><tbody><tr ng-show="pasu.issues.data.length > 0" ng-repeat="item in pasu.issues.data" class=text-center><td>{{ item.regDate }}</td><td>{{ pasu.common.getOriginTypeString(item.originType) }}</td><td>{{ item.originName || item.originId }}</td><td>{{ item.ip }}</td><td class="overflow-ellipsis text-left" title="{{ item.alarmTitle }}" data-toggle=tooltip data-placement=auto style=text-align:center><a ng-click=pasu.goAlarmStatusDetail(item.id)>{{ item.alarmTitle }}</a></td><td><span ng-class=pasu.common.alarmLevelStyle(item.level)>{{ item.level }}</span></td><td><span ng-class=pasu.common.resolveStatusStyle(item.resolveStatus)>{{ item.resolveStatusName }}</span></td></tr><tr ng-show="pasu.issues.data.length == 0" class=text-center><td colspan=7>No Data Available.</td></tr></tbody></table><div class=row-pagination><ul uib-pagination total-items=totalItems ng-model=currentPage max-size=maxSize items-per-page=pageItems class=pagination-md direction-links=true boundary-links=true boundary-link-numbers=true force-ellipses=true ng-change=pageChanged() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></ul></div></div></div></div></div></div>'),a.put("app/paas/alarm/alarm_status_detail.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Alarm Status Detail</div><div class=panel-body><section><div class=tb_area><table><tr><th>Origin Type</th><td>{{ pasu.common.getOriginTypeString(pasu.alarm.originType) }}</td></tr><tr><th>Origin Name</th><td>{{ pasu.alarm.originName }}</td></tr><tr><th>IP</th><td>{{ pasu.alarm.ip }}</td></tr><tr><th>Alarm Type</th><td>{{ pasu.common.getResourceTypeString(pasu.alarm.alarmType) }}</td></tr><tr><th>Alarm Level</th><td><span style="text-transform: uppercase" ng-class=pasu.common.alarmLevelStyle(pasu.alarm.level)>{{ pasu.alarm.level }}</span></td></tr><tr><th>Alarm Title</th><td>{{ pasu.alarm.alarmTitle }}</td></tr><tr><th>Alarm Message</th><td>{{ pasu.alarm.alarmMessage }}</td></tr><tr><th>Alarm Date</th><td>{{ pasu.alarm.regDate }}</td></tr></table><div class=accept_box><div class=sub-btn align=right ng-if="pasu.alarm.resolveStatus == 1"><button type=button class="btn btn-primary small" data-toggle=modal data-target=#confirmModal ng-click=pasu.confirmReceipt()>Receipt</button> <button type=button class="btn btn-default small" ng-click="pasu.cancel(\'/paas/alarm/status\')">Cancel</button></div><div class=sub-btn align=right ng-if="pasu.alarm.resolveStatus != 1"><button type=button class="btn btn-default small" ng-click="pasu.cancel(\'/paas/alarm/status\')">List</button></div></div></div></section></div></div><div class="panel panel-default" ng-hide="pasu.alarm.resolveStatus == 1"><div class=panel-heading>Alarm Action History</div><div class=panel-body><section><div class=bt_con><div class=re_box ng-if="pasu.alarm.resolveStatus != 1 && pasu.alarm.data.length > 0"><h2>Action History</h2><div class=con_box ng-repeat="action in pasu.alarm.data"><div class=txt_box><p class=date>{{ action.regDate }}</p><pre ng-hide="pasu.updating==$index" class=info>{{ action.alarmActionDesc }}</pre><div class=detail_box><textarea ng-show="pasu.updating==$index" ng-model=action.alarmActionDesc></textarea></div></div><div class=btn><button class="btn-success btn-xs" title=수정하기 ng-hide="pasu.updating==$index" ng-click=pasu.setUpdating($index)>Update</button> <button class="btn-danger btn-xs" title=삭제하기 ng-hide="pasu.updating==$index" data-toggle=modal data-target=#confirmModal ng-click=pasu.confirmActionDelete(action.id)>Delete</button> <button class="btn-info btn-xs" title=저장하기 ng-show="pasu.updating==$index" data-toggle=modal data-target=#confirmModal ng-click=pasu.confirmActionModify(action)>Save</button> <button class="btn-default btn-xs" title=취소하기 ng-show="pasu.updating==$index" ng-click="pasu.updating=-1">Cancel</button></div></div></div><div class=content_box ng-if="pasu.alarm.resolveStatus != 1"><h2>Action Contents</h2><div class=detail_con><textarea ng-model=pasu.actionDesc></textarea><div class=sub-btn><button class="btn btn-success small" ng-click=pasu.alarmActionCreate()>저장 (조치내용만 입력)</button> <button class="btn btn-primary small" ng-if="pasu.alarm.resolveStatus == 2" ng-click=pasu.alarmActionComplete()>조치완료 (조치내용도 함께 입력)</button></div></div></div></div></section></div></div></div></div></div><!-- Modal --><div class="modal fade" id=confirmModal tabindex=-1 role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title style="font-size: 15px">{{ pasu.modalTitle }}</h4></div><div class=modal-body>{{ pasu.modalMessage }}</div><div class=modal-footer><button type=button class="btn btn-primary" data-dismiss=modal ng-click=pasu.confirmCallback()>Accept</button> <button type=button class="btn btn-default" data-dismiss=modal ng-click=pasu.cancel()>Cancel</button></div></div></div></div>'),a.put("app/paas/bosh/bosh.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Bosh Summary</div><div class=panel-body><table class="table paas"><colgroup><col style=width:10%><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th rowspan=2 class=text-center>Name</th><th rowspan=2 class=text-center>Address</th><th rowspan=2 class=text-center>State</th><th rowspan=2 class=text-center>Core</th><th rowspan=2 class=text-center>CPU Used<br>(%)</th><th rowspan=2 class=text-center>Total Memory<br>(MB)</th><th rowspan=2 class=text-center>Memory Usage<br>(%)</th><th colspan=2 class=text-center>Total Disk (MB)</th><th rowspan=2 class=text-center>Disk Status</th></tr><tr><th class=text-center>/</th><th class=text-center>Data</th></tr></thead><tbody><tr class=text-center ng-repeat="item in pbsh.boshSummary" ng-class=item.select ng-click=pbsh.getTopProcessMemoryList(item)><td class=link><a ng-href="#/paas/bosh/{{ item.id }}?name={{ item.name }}">{{ item.name }}</a></td><td>{{ item.address }}</td><td><span ng-class=pbsh.common.alarmLevelStyle(item.state)>{{ item.state }}</span></td><td>{{ item.core }}</td><td><span ng-style=errStateStyle(item.cpuErrStat)>{{ (item.cpuUsage).toFixed(2) | number }} %</span></td><td>{{ pbsh.Math.round(item.totalMemory) | number }}</td><td><span ng-style=errStateStyle(item.memErrStat)>{{ (item.memoryUsage).toFixed(2) | number }} %</span></td><td><span ng-style=errStateStyle(item.diskRootErrStat)>{{ pbsh.Math.round(item.totalDisk) | number }}</span></td><td><span ng-style=errStateStyle(item.diskDataErrStat)>{{ pbsh.Math.round(item.dataDisk) | number }}</span></td><td><span ng-class=pbsh.common.alarmLevelStyle(item.diskStatus)>{{ item.diskStatus }}</span></td></tr><tr ng-show="pbsh.boshSummary == null" class=text-center><td colspan=9>No Data Available.</td></tr></tbody></table></div></div><div class="panel panel-default"><div class=panel-heading>Top Process <span ng-bind-html=pbsh.selectedBosh></span></div><div class=panel-body><table class="table process"><colgroup><col style=width:10%><col><col><col><col></colgroup><thead><tr><th class=text-center>Index</th><th class=text-center>Time</th><th class=text-center>PID</th><th class=text-center>Process</th><th class=text-center>Memory (MB)</th></tr></thead><tbody><tr class=text-center ng-repeat="item in pbsh.topProcessMemoryList"><td>{{ item.index }}</td><td>{{ item.time }}</td><td>{{ item.pid }}</td><td>{{ item.process }}</td><td>{{ pbsh.Math.round(item.memory) | number }}</td></tr></tbody></table></div></div></div></div></div>'),a.put("app/paas/bosh/bosh_detail.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default" ng-show=name><div class=panel-heading><span ng-show=name font-weight=bold style=color:#007787>[ {{ name }} ]</span></div></div><div class=dashboard><ul class="nav nav-tabs"><li class=active><a data-toggle=tab data-target=#chart ng-click="selTab(\'chart\')">Chart</a></li><li><a data-toggle=tab data-target=#logs ng-click="selTab(\'logs\')">Logs</a></li></ul><div class=tab-content><div id=chart class="tab-pane fade in active"><div gridster=gridsterOpts style=min-width:1000px><ul><li gridster-item=widget ng-repeat="widget in dashboard.widgets"><div class=box><div class=box-header><h4>{{ widget.name }}</h4><div class="box-header-btns pull-right" ng-show=widget.loading><i class="fa fa-spinner fa-pulse fa-fw"></i></div><div class="box-header-btns pull-right" ng-hide=widget.loading><!--<a title="Zoom In" ng-click="expand(widget)" ng-hide="expanded==widget"><i class="glyphicon glyphicon-zoom-in"></i></a>\n                        <a title="Zoom Out" ng-click="reduction(widget)" ng-show="expanded==widget"><i class="glyphicon glyphicon-zoom-out"></i></a>\n                        <a title="Remove widget" ng-click="removeOneWidget(widget)"><i class="glyphicon glyphicon-trash"></i></a>--></div></div><div class=box-content><nvd3 options=widget.chart.options data=widget.chart.data api=widget.chart.api config=config events=events></nvd3></div></div></li></ul></div></div><div id=logs class="tab-pane fade"><div class="log-row search-box"><form class=form-horizontal><div class=form-group><label class="col-sm-1 control-label">Time</label><div class=col-sm-2><div class="input-group date" datetimepicker options=targetDateOptions ng-model=targetDate><input class=form-control> <span class=input-group-addon><span class="glyphicon glyphicon-calendar"></span></span></div></div><div class=col-sm-2><div class="input-group date" datetimepicker options=timeOptions ng-model=startTime><input class=form-control> <span class=input-group-addon><span class="glyphicon glyphicon-time"></span></span></div></div><div class=col-sm-2><div class="input-group date" datetimepicker options=timeOptions ng-model=endTime><input class=form-control> <span class=input-group-addon><span class="glyphicon glyphicon-time"></span></span></div></div><div class=col-sm-1><button type=button class="btn btn-default small" ng-click=searchReset()>초기화</button></div></div><!--<div class="form-group">--><!--<label for="inputHost" class="col-sm-1 control-label">Host</label>--><!--<div class="col-sm-2">--><!--<input type="text" class="form-control" id="inputHost" placeholder="Host" ng-model="hostname">--><!--</div>--><!--</div>--><div class=form-group><label for=inputMessage class="col-sm-1 control-label">Message</label><div class=col-sm-10><input type=text class=form-control id=inputMessage placeholder=Message ng-model=message></div></div><div class="form-group row-centered"><div class=col-sm-12><button type=submit class="btn btn-primary" ng-click=logSearch() style=width:80px>검색</button></div></div></form></div><div class="log-row list"><table class="table logs"><colgroup><col style=width:20%><col></colgroup><thead><tr><th class=text-center>Time</th><th class=text-center>Message</th></tr></thead><tbody><tr class=text-center ng-repeat="item in recentLogs track by $index"><td>{{ item.time }}</td><td class=left>{{ item.message }}</td></tr><tr ng-show="recentLogs == null" class=text-center><td colspan=2>No Data Available.</td></tr></tbody></table></div><div class="pagination-row logs"><ul uib-pagination total-items=totalItems ng-model=currentPage max-size=maxSize items-per-page=pageItems class=pagination-md direction-links=false boundary-links=false boundary-link-numbers=true force-ellipses=true ng-change=pageChanged() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></ul></div></div></div></div></div><div class=row style="margin: 20px 0"><div class=col-sm-12><button type=button class="btn btn-default pull-right medium" data-dismiss=modal ng-click=goMovePage()>Move Overview</button></div></div></div></div>'),a.put("app/paas/container/container.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><div class=sidebar-body><div class="row sidebar-row"><div class="panel-heading overview">Cell</div><div class=summary-gridster gridster=cellOverviewOptions><ul><li gridster-item=item data-toggle=modal data-target=#cellOverviewList ng-repeat="item in cellOverviewItems" ng-click="pctn.getCellOverviewList(item, $event)" ng-style="{\'border-bottom-color\': item.color, \'cursor\': (item.id == \'running\' || item.id == \'total\') && \'initial\'}"><div class=box><div class=box-content><div class=left><div class=row><div ng-style="{\'color\': item.color, \'font-size\':\'xx-large\', \'font-weight\': \'bold\'}">{{ this[item.count] || 0 }}</div></div><div class=row><div>{{ item.name }}</div></div></div><div class=right ng-style="{\'background-image\': \'url(assets/images/overview/overview_icon0\'+{{ $index+1 }}+\'.png)\'}"><div class="box-header-btns pull-right" ng-show=loadingCellOverview><i class="fa fa-spinner fa-pulse fa-fw"></i></div></div></div></div></li></ul></div><div class="panel-heading overview">Container</div><div class=summary-gridster gridster=containerOverviewOptions><ul><li gridster-item=item data-toggle=modal data-target=#containerOverviewList ng-repeat="item in containerOverviewItems" ng-click="pctn.getContainerOverviewList(item.id, item.name, $event, false)" ng-style="{\'border-bottom-color\': item.color, \'cursor\': (item.id == \'running\' || item.id == \'total\') && \'initial\'}"><div class=box><div class=box-content><div class=left><div class=row><div ng-style="{\'color\': item.color, \'font-size\':\'xx-large\', \'font-weight\': \'bold\'}">{{ this[item.count] || 0 }}</div></div><div class=row><div>{{ item.name }}</div></div></div><div class=right ng-style="{\'background-image\': \'url(assets/images/overview/overview_icon0\'+{{ $index+1 }}+\'_1.png)\'}"><div class="box-header-btns pull-right" ng-show=loadingContainerOverview><i class="fa fa-spinner fa-pulse fa-fw"></i></div></div></div></div></li></ul></div><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Container Summary</div><div class=panel-body><form class=form-inline><div class=form-group><select class=form-control ng-model=selSearchCondition><option value=name>Name</option></select></div><div class=form-group><input type=text class=form-control placeholder=Search ng-model=searchKeyword></div><div class="form-group time"><button class=btn ng-click="pctn.getContainerSummary(null, selSearchCondition);"></button></div></form><table class="table process"><colgroup><col style=width:10%><col><col><col><col><col><col></colgroup><thead><tr><th class=text-center>Zone</th><th class=text-center>Cell</th><th class=text-center>Application</th><th class=text-center>Container</th><th class=text-center>Running</th><th class=text-center>Critical</th><th class=text-center>Warning</th></tr></thead><tbody><tr class=text-center ng-repeat="item in pctn.containerSummary" ng-class=item.select ng-click=pctn.getCellContainerRelationInfo(item)><td>{{ item.zoneName }}</td><td>{{ (item.cellCnt | number) || 0 }}</td><td>{{ (item.appCnt | number) || 0 }}</td><td>{{ (item.containerCnt | number) || 0 }}</td><td><span class=summary-list-running>{{ (item.runningCnt | number) || 0 }}</span></td><td><span class=summary-list-critical>{{ (item.criticalCnt | number) || 0 }}</span></td><td><span class=summary-list-warning>{{ (item.warningCnt | number) || 0 }}</span></td></tr><tr ng-show="pctn.containerSummary == null" class=text-center><td colspan=7>No Data Available.</td></tr></tbody></table><div class=row-pagination><ul uib-pagination total-items=totalItems ng-model=currentPage max-size=maxSize items-per-page=pageItems class=pagination-md direction-links=false boundary-links=false boundary-link-numbers=true force-ellipses=true ng-change=pageChanged() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></ul></div></div></div><div class="panel panel-default"><div class=panel-heading>Cell & Container Relationship <span ng-bind-html=pctn.selectedContainer></span></div><div class=panel-body><table class="table process"><colgroup><col><col><col><col><col><col><col></colgroup><thead><tr><th class=text-center>Cell Name</th><th class=text-center>Application</th><th class=text-center>Container</th><th class=text-center>Running</th><th class=text-center>Critical</th><th class=text-center>Warning</th></tr></thead><tbody><tr class=text-center ng-repeat="item in pctn.cellSummary" ng-class=item.select><td>{{ item.cellName }}</td><td>{{ (item.appCnt | number) || 0 }}</td><td>{{ (item.containerCnt | number) || 0 }}</td><td><span class=summary-list-running>{{ (item.runningCnt | number) || 0 }}</span></td><td><span class=summary-list-critical>{{ (item.criticalCnt | number) || 0 }}</span></td><td><span class=summary-list-warning>{{ (item.warningCnt | number) || 0 }}</span></td></tr><tr ng-show="pctn.cellSummary == null" class=text-center><td colspan=7>No Data Available.</td></tr></tbody></table></div><div class="panel-body table_bottom"><table class=tile-grid><colgroup><col style=width:45%><col></colgroup><tbody><tr ng-repeat="cell in pctn.relationshipList"><th>{{ cell.cellName }} ( {{ cell.cellIp }} )</th><td><div class=tile uib-tooltip-template="\'app/paas/container/container_tooltip.html\'" tooltip-class=uibTooltipCustom ng-style="{\'cursor\': (container.status == \'fail\') && \'initial\' }" ng-repeat="container in cell.containers" ng-class=pctn.getTileColor(container.status) ng-click=pctn.goContainerDetail(container)></div></td></tr></tbody></table></div></div></div></div></div><!-- Modal - Cell Overview List --><div class="modal fade" id=cellOverviewList tabindex=-1 role=dialog aria-labelledby=cellOverviewListModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content style="min-width:620px; overflow-x: auto"><div class=loader-container ng-show=loadingOverviewListPop><div class="loader loader--audioWave"></div></div><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=cellOverviewListModalLabel>{{ pctn.cellOverviewPopTitle }}</h4></div><div class=modal-body><table class="table table-condensed"><colgroup><col style=width:10%><col><col><col><col><col><col><col></colgroup><thead><tr><th class=text-center>Name</th><th class=text-center>Address</th><th class=text-center>State</th><th class=text-center>Core</th><th class=text-center>CPU<br>Used(%)</th><th class=text-center>Total<br>Memory(MB)</th><th class=text-center>Memory<br>Used(%)</th><th class=text-center>Total<br>Disk(MB)</th><th class=text-center>Disk<br>Status</th></tr></thead><tbody><tr ng-repeat="item in pctn.cellOverviewListPop" class=text-center ng-click=pctn.goCellDetailView(item) ng-style="{\'cursor\': (item.status == \'fail\') && \'initial\' }"><td>{{ item.cellName }}</td><td>{{ item.cellIp }}</td><td><span ng-style=textStatusStyle(item.status)>{{ item.status }}</span></td><td>{{ item.core | number }}</td><td><span ng-style=errStateStyle(item.cpuErrStat)>{{ (item.cpuUsage).toFixed(2) | number }}</span></td><td>{{ pctn.Math.round(item.totalMemory) | number }}</td><td><span ng-style=errStateStyle(item.memErrStat)>{{ (item.memoryUsage).toFixed(2) | number }}</span></td><td><span ng-style=errStateStyle(item.diskRootErrStat)>{{ pctn.Math.round(item.totalDisk) | number }}</span></td><td><span ng-class=pctn.common.alarmLevelStyle(item.diskStatus)>{{ item.diskStatus }}</span></td></tr><tr ng-show=pctn.cellOverviewNullPop class=text-center><td colspan=9>{{ pctn.cellOverviewNullPop }}</td></tr></tbody></table></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>Close</button></div></div></div></div><!-- Modal - Container Overview List --><div class="modal fade" id=containerOverviewList tabindex=-1 role=dialog aria-labelledby=containerOverviewListModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content style="min-width:620px; overflow-x: auto"><div class=loader-container ng-show=loadingOverviewListPop><div class="loader loader--audioWave"></div></div><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=containerOverviewListModalLabel>{{ pctn.containerOverviewPopTitle }}</h4></div><div class=modal-body><table class="table table-condensed"><colgroup><col style=width:10%><col><col><col><col><col><col><col></colgroup><thead><tr><th class=text-center>Zone</th><th class=text-center>Cell</th><th class=text-center>App</th><th class=text-center>Index</th><th class=text-center>CPU<br>Used(%)</th><th class=text-center>Memory<br>Used(%)</th><th class=text-center>Disk<br>Used(%)</th><th class=text-center>Status</th></tr></thead><tbody><tr ng-repeat="item in pctn.containerOverviewListPop" class=text-center ng-click=pctn.goContainerDetailView(item) ng-style="{\'cursor\': (item.status == \'fail\') && \'initial\' }"><td>{{ item.zoneName }}</td><td>{{ item.cellName }}</td><td>{{ item.appName }}</td><td>{{ (item.appIndex | number) || 0 }}</td><td><span ng-style=errStateStyle(item.cpuErrStat)>{{ (item.cpuUsage).toFixed(2) | number }}</span></td><td><span ng-style=errStateStyle(item.memErrStat)>{{ (item.memoryUsage).toFixed(2) | number }}</span></td><td><span ng-style=errStateStyle(item.diskErrStat)>{{ (item.diskUsage).toFixed(2) | number }}</span></td><td><span ng-style=textStatusStyle(item.status)>{{ item.status }}</span></td></tr><tr ng-show=pctn.containerOverviewNullPop class=text-center><td colspan=8>{{ pctn.containerOverviewNullPop }}</td></tr></tbody></table></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>Close</button></div></div></div></div>'),
a.put("app/paas/container/container_detail.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default" ng-show=name><div class=panel-heading><span font-weight=bold style=color:#007787>[ {{ name }} / {{ appIndex }} ]</span></div></div><div class=dashboard><ul class="nav nav-tabs"><li class=active><a data-toggle=tab data-target=#chart ng-click="selTab(\'chart\')">Chart</a></li></ul><div class=tab-content><div id=chart class="tab-pane fade in active"><div gridster=gridsterOpts style=min-width:1000px><ul><li gridster-item=widget ng-repeat="widget in dashboard.widgets"><div class=box><div class=box-header><h4>{{ widget.name }}</h4><div class="box-header-btns pull-right" ng-show=widget.loading><i class="fa fa-spinner fa-pulse fa-fw"></i></div><div class="box-header-btns pull-right" ng-hide=widget.loading><!--<a title="Zoom In" ng-click="expand(widget)" ng-hide="expanded==widget"><i class="glyphicon glyphicon-zoom-in"></i></a>\n                        <a title="Zoom Out" ng-click="reduction(widget)" ng-show="expanded==widget"><i class="glyphicon glyphicon-zoom-out"></i></a>\n                        <a title="Remove widget" ng-click="removeOneWidget(widget)"><i class="glyphicon glyphicon-trash"></i></a>--></div></div><div class=box-content><nvd3 options=widget.chart.options data=widget.chart.data api=widget.chart.api config=config events=events></nvd3></div></div></li></ul></div></div></div></div></div><div class=row style="margin: 20px 0"><div class=col-sm-12><button type=button class="btn btn-default pull-right medium" data-dismiss=modal ng-click=goMovePage()>Move Overview</button></div></div></div></div>'),a.put("app/paas/container/container_tooltip.html","<div class=uibTooltipTemplate><dl><dt>App Name</dt><dd>{{ container.appName }}</dd></dl><dl><dt>App Index</dt><dd>{{ container.appIndex }}</dd></dl><dl><dt>Status</dt><dd>{{ container.status }}</dd></dl></div>"),a.put("app/paas/main/main.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>Summary</div><div class=panel-body><div class="loader-container no-panel" ng-show=loadingSummary><div class="loader loader--audioWave"></div></div><div class=summary-box><div class=fa-spinner-container><i class="fa fa-spinner fa-pulse fa-fw" ng-show=loadingSummaryBosh></i></div><nvd3 options=bosh.chart.options data=bosh.chart.data api=bosh.chart.api config=config events=events></nvd3></div><div class=summary-box><div class=fa-s3pinner-container><i class="fa fa-spinner fa-pulse fa-fw" ng-show=loadingSummaryPaasta></i></div><nvd3 options=paasta.chart.options data=paasta.chart.data api=paasta.chart.api config=config events=events></nvd3></div><div class=summary-box><div class=fa-spinner-container><i class="fa fa-spinner fa-pulse fa-fw" ng-show=loadingSummaryContainer></i></div><nvd3 options=container.chart.options data=container.chart.data api=container.chart.api config=config events=events></nvd3></div></div></div><div class=row><div class=col-md-7><div class="panel panel-default"><div class=panel-heading>PaaS-TA VM List</div><div class="panel-body main_bosh"><table class="table process"><colgroup><col><col><col><col><col><!--<col style="" />--></colgroup><thead><tr><th rowspan=2 class=text-center>Name</th><th rowspan=2 class=text-center>State</th><th rowspan=2 class=text-center>CPU<br>(%)</th><th rowspan=2 class=text-center>Memory<br>(%)</th><th colspan=2 class=text-center>Total Disk(MB)</th><!--<th rowspan="2" class="text-center">Disk Status</th>--></tr><tr><th class=text-center>/</th><th class=text-center>Data</th></tr></thead><tbody><tr class=text-center ng-repeat="item in paasMain.paastaSummary" ng-class=item.select><td class=link><a ng-href="#/paas/paasta/{{ item.id }}?name={{ item.name }}">{{ item.name }}</a></td><td><span ng-class=paasMain.common.alarmLevelStyle(item.state)>{{ item.state }}</span></td><td><span ng-style=cpuUsageStyle(Math.floor(item.cpuUsage))>{{ (item.cpuUsage).toFixed(2) | number }} %</span></td><td><span ng-style=memoryUsageStyle(Math.floor(item.memoryUsage))>{{ (item.memoryUsage).toFixed(2) | number }} %</span></td><td>{{ paasMain.Math.round(item.totalDisk) | number }}</td><td>{{ paasMain.Math.round(item.dataDisk) | number }}</td><!--<td><span ng-class="paasMain.common.alarmLevelStyle(item.diskStatus)">{{ item.diskStatus }}</span></td>--></tr><tr ng-show="paasMain.paastaSummary == null" class=text-center><td colspan=5>No Data Available.</td></tr></tbody></table></div></div></div><div class=col-md-5><div class="panel panel-default"><div class=panel-heading>Zone-Container View</div><div class="panel-body main_zone"><table class=tile-grid><colgroup><col style=width:25%><col></colgroup><tbody><tr ng-repeat="cell in paasMain.relationshipList"><th>{{ cell.cellName }}</th><td><div class=tile uib-tooltip-template="\'app/paas/container/container_tooltip.html\'" tooltip-class=uibTooltipCustom ng-style="{\'cursor\': (container.status == \'fail\') && \'initial\' }" ng-repeat="container in cell.containers" ng-class=paasMain.getTileColor(container.status) ng-click=paasMain.goContainerDetail(container)></div></td></tr></tbody></table></div></div><div class="panel panel-default"><div class=panel-heading>Alarm View</div><div class="panel-body main_alarm"><table class="table process"><colgroup><col><col><col><col></colgroup><thead><tr><th class=text-center>Time</th><th class=text-center>Type</th><th class=text-center>Level</th><th class=text-center>Title</th></tr></thead><tbody><tr ng-show=paasMain.alarmViewList ng-repeat="item in paasMain.alarmViewList" class=text-center><td class=link><a ng-href="#/paas/alarm/status/{{ item.id }}">{{ item.regDate }}</a></td><td>{{ paasMain.common.getOriginTypeString(item.originType) }}</td><td><span ng-class=paasMain.common.alarmLevelStyle(item.level)>{{ item.level }}</span></td><td>{{ item.alarmTitle }}</td></tr><tr ng-show="paasMain.alarmViewList == null" class=text-center><td colspan=4>No Data Available.</td></tr></tbody></table></div></div></div></div></div></div></div>'),a.put("app/paas/paasta/paasta.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><div class=sidebar-body><div class="row sidebar-row"><div class=summary-gridster gridster=overviewOptions style=margin-bottom:25px><ul><li gridster-item=item data-toggle=modal data-target=#paastaOverviewList ng-repeat="item in paastaOverviewItems" ng-click="ppst.getPaastaOverviewList(item, $event)" ng-style="{\'border-bottom-color\': item.color, \'cursor\': (item.id == \'running\' || item.id == \'total\') && \'initial\', \'background-color\':\'#333740\'}"><div class=box><div class=box-content><div class=left><div class=row><div ng-style="{\'color\': item.color, \'font-size\':\'xx-large\', \'font-weight\':\'bold\'}">{{ this[item.status] || 0 }}</div></div><div class=row><div>{{ item.name }}</div></div></div><div class=right ng-style="{\'background-image\': \'url(assets/images/overview/overview_icon0\'+{{ $index+1 }}+\'.png)\'}"><div class="box-header-btns pull-right" ng-show=loadingOverview><i class="fa fa-spinner fa-pulse fa-fw"></i></div></div></div></div></li></ul></div><div class=col-md-12><div class="panel panel-default"><div class=panel-heading>PaaS-TA Summary</div><div class=panel-body><form class=form-inline><!--<div class="form-group">--><!--<select class="form-control" ng-model="selSearchStatus">--><!--<option value="">ALL</option>--><!--<option value="running">RUNNING</option>--><!--<option value="warning">WARNING</option>--><!--<option value="critical">CRITICAL</option>--><!--<option value="failed">FAILED</option>--><!--</select>--><!--</div>--><div class=form-group><select class=form-control ng-model=selSearchCondition><option value=name>Name</option><option value=ip>IP</option></select></div><div class=form-group><input type=text class=form-control placeholder=Search ng-model=searchKeyword></div><div class="form-group time"><button class=btn ng-click=ppst.getPaastaSummary();></button></div></form><table class="table paas"><colgroup><col style=width:10%><col><col><col><col><col><col><col><col></colgroup><thead><tr><th rowspan=2 class=text-center>Name</th><th rowspan=2 class=text-center>Address</th><th rowspan=2 class=text-center>State</th><th rowspan=2 class=text-center>Core</th><th rowspan=2 class=text-center>CPU Used<br>(%)</th><th rowspan=2 class=text-center>Total Memory<br>(MB)</th><th rowspan=2 class=text-center>Memory Usage<br>(%)</th><th colspan=2 class=text-center>Total Disk(MB)</th><th rowspan=2 class=text-center>Disk Status</th></tr><tr><th class=text-center>/</th><th class=text-center>Data</th></tr></thead><tbody><tr class=text-center ng-repeat="item in ppst.paastaSummary" ng-class=item.select ng-click=ppst.getTopProcessMemoryList(item)><td class=link><a ng-click=ppst.goPaastaDetail(item);>{{ item.name }}</a></td><td>{{ item.address }}</td><td><span ng-class=ppst.common.alarmLevelStyle(item.state)>{{ item.state }}</span></td><td>{{ item.core }}</td><td><span ng-style=errStateStyle(item.cpuErrStat)>{{ (item.cpuUsage).toFixed(2) | number }} %</span></td><td>{{ ppst.Math.round(item.totalMemory) | number }}</td><td><span ng-style=errStateStyle(item.memErrStat)>{{ (item.memoryUsage).toFixed(2) | number }} %</span></td><td><span ng-style=errStateStyle(item.diskRootErrStat)>{{ ppst.Math.round(item.totalDisk) | number }}</span></td><td><span ng-style=errStateStyle(item.diskDataErrStat)>{{ ppst.Math.round(item.dataDisk) | number }}</span></td><td><span ng-class=ppst.common.alarmLevelStyle(item.diskStatus)>{{ item.diskStatus }}</span></td></tr><tr ng-show="ppst.paastaSummary == null" class=text-center><td colspan=10>No Data Available.</td></tr></tbody></table><div class=row-pagination><ul uib-pagination total-items=totalItems ng-model=currentPage max-size=maxSize items-per-page=pageItems class=pagination-md direction-links=false boundary-links=false boundary-link-numbers=true force-ellipses=true ng-change=pageChanged() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></ul></div></div></div><div class="panel panel-default"><div class=panel-heading>Top Process <span ng-bind-html=ppst.selectedPaasta></span></div><div class=panel-body><table class="table process"><colgroup><col style=width:10%><col><col><col><col></colgroup><thead><tr><th class=text-center>Index</th><th class=text-center>Time</th><th class=text-center>PID</th><th class=text-center>Process</th><th class=text-center>Memory (MB)</th></tr></thead><tbody><tr class=text-center ng-repeat="item in ppst.topProcessMemoryList"><td>{{ item.index }}</td><td>{{ item.time }}</td><td>{{ item.pid }}</td><td>{{ item.process }}</td><td>{{ ppst.Math.round(item.memory) | number }}</td></tr><tr ng-show="ppst.topProcessMemoryList == null" class=text-center><td colspan=5>No Data Available.</td></tr></tbody></table></div></div></div></div></div><!-- Modal - PaaS-TA Overview List --><div class="modal fade" id=paastaOverviewList tabindex=-1 role=dialog aria-labelledby=paastaOverviewListModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content style="min-width:620px; overflow-x: auto"><div class=loader-container ng-show=loadingOverviewListPop><div class="loader loader--audioWave"></div></div><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=paastaOverviewListModalLabel>{{ ppst.paastaOverviewPopTitle }}</h4></div><div class=modal-body><table class="table table-condensed"><colgroup><col style=width:10%><col><col><col><col><col><col><col><col></colgroup><thead><tr><th rowspan=2 class=text-center>Name</th><th rowspan=2 class=text-center>Address</th><th rowspan=2 class=text-center>State</th><th rowspan=2 class=text-center>Core</th><th rowspan=2 class=text-center>CPU Used<br>(%)</th><th rowspan=2 class=text-center>Total Memory<br>(MB)</th><th rowspan=2 class=text-center>Memory Usage<br>(%)</th><th colspan=2 class=text-center>Total Disk(MB)</th><th rowspan=2 class=text-center>Disk Status</th></tr><tr><th class=text-center>/</th><th class=text-center>Data</th></tr></thead><tbody><tr ng-repeat="item in ppst.paastaOverviewListPop" class=text-center ng-click=ppst.goPaastaDetailView(item) ng-style="{\'cursor\': (item.status == \'fail\') && \'initial\' }"><td>{{ item.name }}</td><td>{{ item.address }}</td><td><span ng-style=textStatusStyle(item.state)>{{ item.state }}</span></td><td>{{ item.core | number }}</td><td><span ng-style=errStateStyle(item.cpuErrStat)>{{ (item.cpuUsage).toFixed(2) | number }}</span></td><td>{{ ppst.Math.round(item.totalMemory) | number }}</td><td><span ng-style=errStateStyle(item.memErrStat)>{{ (item.memoryUsage).toFixed(2) | number }}</span></td><td><span ng-style=errStateStyle(item.diskRootErrStat)>{{ ppst.Math.round(item.totalDisk) | number }}</span></td><td><span ng-style=errStateStyle(item.diskDataErrStat)>{{ ppst.Math.round(item.dataDisk) | number }}</span></td><td><span ng-class=ppst.common.alarmLevelStyle(item.diskStatus)>{{ item.diskStatus }}</span></td></tr><tr ng-show=ppst.paastaOverviewNullPop class=text-center><td colspan=10>{{ ppst.paastaOverviewNullPop }}</td></tr></tbody></table></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>Close</button></div></div></div></div>'),a.put("app/paas/paasta/paasta_detail.html",'<div class=loading-container ng-show=loading><div loading is-shown=loading class="loading loading--audioWave"></div></div><!--<div class="container">--><div class=sidebar-body><div class="row sidebar-row"><div class=col-md-12><div class="panel panel-default" ng-show=name><div class=panel-heading><span ng-show=name font-weight=bold style=color:#007787>[ {{ name }} ]</span></div></div><div class=dashboard><ul class="nav nav-tabs"><li class=active><a data-toggle=tab data-target=#chart ng-click="selTab(\'chart\')">Chart</a></li><li><a data-toggle=tab data-target=#logs ng-click="selTab(\'logs\')">Logs</a></li></ul><div class=tab-content><div id=chart class="tab-pane fade in active"><div gridster=gridsterOpts style=min-width:1000px><ul><li gridster-item=widget ng-repeat="widget in dashboard.widgets"><div class=box><div class=box-header><h4>{{ widget.name }}</h4><div class="box-header-btns pull-right" ng-show=widget.loading><i class="fa fa-spinner fa-pulse fa-fw"></i></div><div class="box-header-btns pull-right" ng-hide=widget.loading><!--<a title="Zoom In" ng-click="expand(widget)" ng-hide="expanded==widget"><i class="glyphicon glyphicon-zoom-in"></i></a>\n                        <a title="Zoom Out" ng-click="reduction(widget)" ng-show="expanded==widget"><i class="glyphicon glyphicon-zoom-out"></i></a>\n                        <a title="Remove widget" ng-click="removeOneWidget(widget)"><i class="glyphicon glyphicon-trash"></i></a>--></div></div><div class=box-content><nvd3 options=widget.chart.options data=widget.chart.data api=widget.chart.api config=config events=events></nvd3></div></div></li></ul></div></div><div id=logs class="tab-pane fade"><div class="log-row search-box"><form class=form-horizontal><div class=form-group><label class="col-sm-1 control-label">Time</label><div class=col-sm-2><div class="input-group date" datetimepicker options=targetDateOptions ng-model=targetDate><input class=form-control> <span class=input-group-addon><span class="glyphicon glyphicon-calendar"></span></span></div></div><div class=col-sm-2><div class="input-group date" datetimepicker options=timeOptions ng-model=startTime><input class=form-control> <span class=input-group-addon><span class="glyphicon glyphicon-time"></span></span></div></div><div class=col-sm-2><div class="input-group date" datetimepicker options=timeOptions ng-model=endTime><input class=form-control> <span class=input-group-addon><span class="glyphicon glyphicon-time"></span></span></div></div><div class=col-sm-1><button type=button class="btn btn-default small" ng-click=searchReset()>초기화</button></div></div><!--<div class="form-group">--><!--<label for="inputHost" class="col-sm-1 control-label">Host</label>--><!--<div class="col-sm-2">--><!--<input type="text" class="form-control" id="inputHost" placeholder="Host" ng-model="hostname">--><!--</div>--><!--</div>--><div class=form-group><label for=inputMessage class="col-sm-1 control-label">Message</label><div class=col-sm-10><input type=text class=form-control id=inputMessage placeholder=Message ng-model=message></div></div><div class="form-group row-centered"><div class=col-sm-12><button type=submit class="btn btn-primary" ng-click=logSearch() style=width:80px>검색</button></div></div></form></div><div class="log-row list"><table class="table logs"><colgroup><col style=width:20%><col></colgroup><thead><tr><th class=text-center>Time</th><th class=text-center>Message</th></tr></thead><tbody><tr class=text-center ng-repeat="item in recentLogs track by $index"><td>{{ item.time }}</td><td class=left>{{ item.message }}</td></tr><tr ng-show="recentLogs == null" class=text-center><td colspan=2>No Data Available.</td></tr></tbody></table></div><div class="pagination-row logs"><ul uib-pagination total-items=totalItems ng-model=currentPage max-size=maxSize items-per-page=pageItems class=pagination-md direction-links=false boundary-links=false boundary-link-numbers=true force-ellipses=true ng-change=pageChanged() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></ul></div></div></div></div></div><div class=row style="margin: 20px 0"><div class=col-sm-12><button type=button class="btn btn-default pull-right medium" data-dismiss=modal ng-click=goMovePage()>Move Overview</button></div></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-bd44ae2b21.js.map
