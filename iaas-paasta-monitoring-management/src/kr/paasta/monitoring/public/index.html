<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>PaaS Monitoring MonitXpert</title>
		<link rel="stylesheet" type="text/css" media="screen" href="resources/css/c3.min.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="resources/css/layout.css" />
	</head>
	<body>

		<!-- Wrap -->
		<div id="wrap">
			
			<!-- Header -->
			<header>
				<h1><a href="index.html" title="Monitoring"><img src="resources/img/h1_logo.png" alt="Monitoring" ></a></h1>

				<ul class="global">
					<li><a href="paas/index.html">PaaS</a></li>
					<li><a href="saas/index.html">SaaS</a></li>
					<li><a href="caas/index.html">CaaS</a></li>
					<li><a href="iaas/index.html">IaaS</a></li>
				</ul>				
			</header>
			<!-- // Header -->

			<!-- Container -->
			<div id="container">
				<div class="contentsLeft">
					<!-- Overview -->
					<h3>Bosh</h3>
					<div class="chartView" id="boshChart"></div>
					<h3>PaaS-TA</h3>
					<div class="chartView" id="paasChart"></div>
					<h3>Container</h3>
					<div class="chartView" id="contChart"></div>
					<!-- // Overview -->
				</div>

				<!-- Contents -->
				<section id="contents">
					<nav>
						<a href="javascript:void(0);" class="timeSetting"><img src="../resources/img/btn_header_cal.png" alt="calendar" ></a>
						<ul>
							<li>
								<a href="javascript:void(0);" class="alarmView">
									<img src="../resources/img/btn_header_alarm.png" alt="alarm" >
									<img src="../resources/img/btn_header_alarm_on.png" alt="alarm" >
									<span>0</span>
								</a>
							</li>
							<li class="outBtn">
								<a href="javascript:void(0);">
									<img src="../resources/img/btn_header_user.png" alt="user" >
									<div><strong>username</strong><span>username</span></div>
								</a>
							</li>
							<li>
								<a href="javascript:void(0);" class="logout"><img src="../resources/img/btn_header_out.png" alt="user" ><span>Sign Out</span></a>
							</li>
						</ul>
					</nav>
					<div class="timePop">
						<h4>Time Range</h4>
						<div class="timer">
							<div>
								<input type="radio" name="timeRange" id="tr01" value="15m" data-group="1m" checked>
								<label for="tr01">최근 15분</label>
								<input type="radio" name="timeRange" id="tr02" value="30m" data-group="2m">
								<label for="tr02">최근 30분</label>
								<input type="radio" name="timeRange" id="tr03" value="1h" data-group="4m">
								<label for="tr03">최근 1시간</label>
								<input type="radio" name="timeRange" id="tr04" value="3h" data-group="12m">
								<label for="tr04">최근 3시간</label>
								<input type="radio" name="timeRange" id="tr05" value="6h" data-group="24m">
								<label for="tr05">최근 6시간</label>
								<input type="radio" name="timeRange" id="tr06" value="12h" data-group="48m">
								<label for="tr06">최근 12시간</label>
								<input type="radio" name="timeRange" id="tr07" value="1d" data-group="1h36m">
								<label for="tr07">최근 1일</label>
								<input type="radio" name="timeRange" id="tr08" value="7d" data-group="11h12m">
								<label for="tr08">최근 이번주</label>
								<input type="radio" name="timeRange" id="tr09" value="30d" data-group="48h">
								<label for="tr09">최근 이번달</label>
							</div>
							<div style="display:none;">
								<input type="radio" name="timeRange" id="tr10">
								<label for="tr10">수동설정</label>
								<input type="text" id="from" name="from">
								<input type="text" id="to" name="to">
							</div>
						</div>
						<!--
						<h4>Refreshing Time</h4>
						<div class="refresh">
							<select id="timeSelect">
								<option value="0">OFF</option>
								<option value="1m">1m</option>
								<option value="5m">5m</option>
								<option value="15m">15m</option>
								<option value="30m">30m</option>
								<option value="1h">1h</option>
								<option value="2h">2h</option>
								<option value="1d">1d</option>
							</select>
						</div>
						<div class="btnWrap center">
							<button class="save">Save Changes</button>
						</div>
					-->
						<a href="javascript:void(0);" class="close">close</a>
					</div>
				</section>
				<!-- // Contents -->

			</div>
			<!-- // Container -->
		</div>
	</body>
	
	<script type="text/javascript" src="resources/js/d3-5.4.0.min.js"></script>
	<script type="text/javascript" src="resources/js/c3.min.js"></script>
	<script type="text/javascript" src="resources/js/fn-1.0.js"></script>
	<script type="text/javascript">
		window.onload = () => {
			// Alarm Count
			fnComm.alarmCount();

			const main = {
				init() {
					// BOSH 컨디션 차트
					fnComm.loadData('GET', `${fnComm.url}paas/bosh/overview`, fnComm.boshConditionChart);
					// PaaS 컨디션 차트
					fnComm.loadData('GET', `${fnComm.url}paas/paasta/overview`, fnComm.paasConditionChart);
					// CONTAINER 컨디션 차트
					fnComm.loadData('GET', `${fnComm.url}paas/container/overview`, fnComm.contConditionChart);

					// CONTAINER 컨디션 리스트 - 셀렉트 생성
					fnComm.loadData('GET', `${fnComm.url}paas/container/summary?pageIndex=1&pageItems=1000`, main.zoneCreateSelect);

					// Alarm 리스트
					fnComm.loadData('GET', `${fnComm.url}paas/alarm/realtime/list`, main.alarmCreateList);

					var target = document.getElementById('containerZone');
					target.addEventListener('change', () => {
						let zoneValue = target.options[target.selectedIndex].value;
						console.log(zoneValue);
						
						fnComm.loadData('GET', `${fnComm.url}paas/container/relationship/${zoneValue}`, main.zoneCreateList);
						//main.zoneCreateList(zoneValue);
					});

					//document.getElementById('loadWrap').style.display = 'none';
				},
			}

			// main.init();
		};
	</script>
</html>
